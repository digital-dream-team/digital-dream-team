{"version":3,"sources":["main.js"],"names":["$","document","ready","closePopup","removeClass","fadeOut","html","once","on","e","rect","getBoundingClientRect","x","clientX","left","clientY","w","outerWidth","h","this","outerHeight","xPercent","Math","floor","yPercent","y","xRatio","xValue","yRatio","css","yValue","stopPropagation","preventDefault","addClass","fadeIn","videoUrl","attr","mask","Swiper","breakpoints","floatingHeaderUpdate","768","parallaxUpdate","spaceBetween","slidesPerView","window","scrollTop","isInViewport","elementBottom","elementTop","position","offset","concat","fn","top","viewportTop","jQuery","viewportBottom","height"],"mappings":"cAAA,SAAWA,GACTA,EAAEC,UAAUC,MAAM,WAiEdF,SAAEG,IAGJH,EAAA,QAAAI,YAAA,mBAJEJ,EAAE,kBAAkBK,QAAQ,KAK5BL,EAAA,wBAA0BM,KAAA,IArE5BL,IAAAA,KAAF,CACEM,MAAA,IAMAP,EAAA,cAAAQ,GAAA,YAAA,SAAAC,GACE,IAAAC,EAAFD,EAAgBD,OAAGG,wBACjBC,EAAAH,EAAAI,QAAAH,EAAAI,KACMJ,EAAID,EAAIM,QAAQJ,EAAAA,IACfK,EAAKH,EAAAA,MAAFI,aAGJC,EAAIlB,EAAEmB,MAAMC,cAElB,KAAIJ,GAAK,KAAT,CAEC,IAEDK,EAAAC,KAAAC,MAAAX,EAAAI,EAAA,KAAA,EAGMQ,EAAWF,KAAKC,MAAOE,EAAIP,EAAK,KAAO,EAGvCQ,EAASL,GAAY,GAAKA,EAAW,KAAO,IAAMA,GAAY,IAH9DG,EAAWF,GAAa,GAAFE,EAfe,KAeK,IAAAA,GAAA,IAM1CG,EAHNN,GAAeA,IAAQ,EAAIK,GAAKL,GAAW,GAA5B,EAAmCK,GAAML,EAClDO,EAGJP,IADFG,GACU,EAAII,GAAWF,GAAL,GAAD,EAAsBE,GAASF,EAKlD1B,EAAEmB,MAAMU,IAKV,YAHI,WAAaF,EAAS,gBAAkBG,EAAS,WAIrD9B,EAAE,cAAcQ,GAAG,aAAc,WAK/BR,EAAAmB,MAAAU,IAAA,YAAwBrB,MAI1BR,EAAE,wBAAqBQ,GAAA,QAAS,WAC9BL,MAGFH,EAAE,kBAAgBQ,GAAA,QAAS,WACzBC,MAGAA,EAAAA,aAAEsB,GAAAA,QAAF,SAAAtB,GADFA,EAAAsB,oBAIA/B,EAAA,qBAAsBQ,GAAA,QAAA,SAAAC,GACpBT,EAAE+B,oBAOJ/B,EAAE,uBAAuBQ,GAAG,QAAS,SAAUC,GAM7CT,EAAEgC,iBANJ7B,IAUEH,EAAA,QAAAiC,SAAD,mBAEC9B,EAAAA,iBAAU+B,OAAA,OAKRlC,EAAA,qBAAAQ,GAAA,QAAA,SAAAC,GACDA,EAAAuB,iBAND7B,IAEA,IAAMgC,EAAWnC,EAAEmB,MAAMiB,KAAK,QAU5BD,GAAF,MAAEA,IAUJnC,EAAA,QAAAiC,SAAA,mBAGAjC,EAAA,eAAAkC,OAAA,KAEAlC,EAAA,wBAAAM,KACA,8JACA6B,EACA,mBAwBInC,EAAA,qBAAKqC,KAAA,qBAEW,IAAAC,OAAA,sBAAA,CAbLC,YAAA,CAkBbtC,IAAAA,CACID,cAAE,EACJwC,cAAAA,IAGFC,IAAM,CACJC,cAAc,EACfC,aAAA,IAGHH,IAAAA,CAhBMI,cAAe,EAiBrBD,aAASH,OAePxC,SAAEwC,IAZgB,IAanBxC,EAAA6C,QAAAC,YAGEC,EAAAA,gBAAed,SAAY,0BAE1Be,EAAAA,gBAAgBC,YAAc,0BAMhC,SAAOP,IAGT,IAAAQ,EAAAlD,EAAAC,UAAA6C,YAEAK,EAAA7B,KAAAC,MAAA,KADA,EACA2B,EAAA,GAAA,MACAlD,EAAA,qBAAA6B,IAAA,YAAA,cAAAuB,OAAAD,EAAA,OA5BGnD,EAAAC,UAAMO,GAAA,SAAA,WACHR,EAAA,gBAAgBI,QACnBoC,IAGHE,EAAAA,wCAAcK,gBAfVL,MAmBFF,IAYFE,MAPF1C,EAAEqD,GAAGN,aAAe,WAClB,IAAIE,EAAajD,EAAEmB,MAAMgC,SAASG,IAkBlCN,EAAoBC,EAAGM,EAAhBpC,MAA+B8B,cAEvCO,EAlMHxD,EAAA6C,QAAAC,YAkLQW,EAAiBF,EAAcvD,EAAE6C,QAAQa,SAE7C,OAAmB,IAAfT,IAYmBM,EAAhBP,GAA+BC,EAAaQ,IAhMvD,CAkMGD","file":"main.min.js","sourcesContent":["(function ($) {\r\n  $(document).ready(function () {\r\n    // Init AOS (animate on scroll)\r\n    AOS.init({\r\n      once: true,\r\n    });\r\n\r\n    /* Parallax rotating card */\r\n    // mouse moves over element\r\n    $(\".case-card\").on(\"mousemove\", function (e) {\r\n      // e = Mouse click event.\r\n      const rect = e.target.getBoundingClientRect();\r\n      const x = e.clientX - rect.left; //x position within the element.\r\n      const y = e.clientY - rect.top; //y position within the element.\r\n      const w = $(this).outerWidth();\r\n      const h = $(this).outerHeight();\r\n\r\n      if (w <= 690) {\r\n        return;\r\n      }\r\n\r\n      // console.log({ x, y, w, h });\r\n\r\n      const xPercent = Math.floor((x / w) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n      const yPercent = Math.floor((y / h) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n\r\n      // Centric ratio\r\n      const xRatio = xPercent <= 50 ? xPercent / 100 : (100 - xPercent) / 100;\r\n      const yRatio = yPercent <= 50 ? yPercent / 100 : (100 - yPercent) / 100;\r\n\r\n      const xValue =\r\n        xPercent <= 50 ? ((1 - xRatio) / 5) * -1 : (1 - xRatio) / 5;\r\n      const yValue =\r\n        yPercent >= 50 ? ((1 - yRatio) / 5) * -1 : (1 - yRatio) / 5;\r\n\r\n      // Transform rotate rotates axes not in a way you may think at first so xValue goes to Y and vice versa\r\n      $(this).css(\r\n        \"transform\",\r\n        \"rotateY(\" + xValue + \"deg) rotateX(\" + yValue + \"deg)\",\r\n      );\r\n    });\r\n    // mouse leaves element\r\n    $(\".case-card\").on(\"mouseleave\", function () {\r\n      $(this).css(\"transform\", \"\");\r\n    });\r\n\r\n    // Popups\r\n    $(\".dd-popup__close-btn\").on(\"click\", function () {\r\n      closePopup();\r\n    });\r\n    // Close on overlay click\r\n    $(\".dd-popup-wrap\").on(\"click\", function () {\r\n      closePopup();\r\n    });\r\n    // Prevent overlay close on overlay content click\r\n    $(\".dd-popup\").on(\"click\", function (e) {\r\n      e.stopPropagation();\r\n    });\r\n    $(\".dd-popup__footer\").on(\"click\", function (e) {\r\n      e.stopPropagation();\r\n    });\r\n\r\n    function closePopup() {\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n      // $(\".dd-popup-wrap\").addClass(\"d-none\");\r\n      $(\".dd-popup-wrap\").fadeOut(300);\r\n      $(\".youtube-video-place\").html(\"\");\r\n    }\r\n\r\n    // Contact popup\r\n    $(\".open-contact-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      // $(\"#contactPopup\").removeClass(\"d-none\");\r\n      $(\"#contactPopup\").fadeIn(300);\r\n    });\r\n\r\n    // Video popup\r\n    $(\".open-video-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      const videoUrl = $(this).attr(\"href\");\r\n\r\n      if (!videoUrl || videoUrl === \"#\") {\r\n        return;\r\n      }\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      // $(\"#videoPopup\").removeClass(\"d-none\");\r\n      $(\"#videoPopup\").fadeIn(300);\r\n\r\n      $(\".youtube-video-place\").html(\r\n        '<iframe allowfullscreen allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen class=\"embed-responsive-item\" src=\"' +\r\n          videoUrl +\r\n          '\" ></iframe>',\r\n      );\r\n    });\r\n\r\n    // Simple phone input mask\r\n    // $(\".phone-input-mask\").on(\"keypress paste\", function (evt) {\r\n    //   // ^(\\([0-9]{3}\\)|[0-9]{3}-)[0-9]{3}-[0-9]{4}$\r\n    //   var theEvent = evt || window.event;\r\n\r\n    //   var key = null;\r\n    //   // Handle paste\r\n    //   if (theEvent.type === \"paste\") {\r\n    //     key = event.clipboardData.getData(\"text/plain\");\r\n    //   } else {\r\n    //     // Handle key press\r\n    //     key = theEvent.keyCode || theEvent.which;\r\n    //     key = String.fromCharCode(key);\r\n    //   }\r\n    //   var regex = /([0-9()+-])/;\r\n    //   if (!regex.test(key)) {\r\n    //     theEvent.returnValue = false;\r\n    //     if (theEvent.preventDefault) theEvent.preventDefault();\r\n    //   }\r\n    // });\r\n    $(\".phone-input-mask\").mask(\"+7 (999) 999-9999\");\r\n\r\n    var smallCasesSwiper = new Swiper(\".small-cases-swiper\", {\r\n      // allowTouchMove: false,\r\n      breakpoints: {\r\n        // when window width is >= 320px\r\n        320: {\r\n          slidesPerView: 1,\r\n          spaceBetween: -20,\r\n        },\r\n        // when window width is >= 640px\r\n        768: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 20,\r\n        },\r\n        992: {\r\n          slidesPerView: 4,\r\n          spaceBetween: 20,\r\n        },\r\n      },\r\n    });\r\n\r\n    $(document).on(\"scroll\", function () {\r\n      if ($(\".main-header\").length) {\r\n        floatingHeaderUpdate();\r\n      }\r\n\r\n      if ($(\".page-section.page-section__parallax\").isInViewport()) {\r\n        parallaxUpdate();\r\n      }\r\n    });\r\n\r\n    floatingHeaderUpdate();\r\n    function floatingHeaderUpdate() {\r\n      let viewportTop = $(window).scrollTop();\r\n\r\n      if (viewportTop > 600) {\r\n        $(\".main-header\").addClass(\"floating-header active\");\r\n      } else {\r\n        $(\".main-header\").removeClass(\"floating-header active\");\r\n      }\r\n    }\r\n\r\n    parallaxUpdate();\r\n    function parallaxUpdate() {\r\n      let position = $(document).scrollTop();\r\n      let base = 5;\r\n      let offset = Math.floor(100 - (base + position / 18 - 100));\r\n      $(\".parallax-element\").css(\"transform\", `translateY(${offset}%)`);\r\n    }\r\n  });\r\n\r\n  $.fn.isInViewport = function () {\r\n    let elementTop = $(this).offset().top;\r\n    let elementBottom = elementTop + $(this).outerHeight();\r\n\r\n    let viewportTop = $(window).scrollTop();\r\n    let viewportBottom = viewportTop + $(window).height();\r\n\r\n    if (elementTop === 0) {\r\n      return false;\r\n    }\r\n\r\n    // console.log({\r\n    //   isIn: elementBottom > viewportTop && elementTop < viewportBottom,\r\n    //   elementTop,\r\n    //   elementBottom,\r\n    //   viewportTop,\r\n    //   viewportBottom,\r\n    // });\r\n\r\n    return elementBottom > viewportTop && elementTop < viewportBottom;\r\n  };\r\n})(jQuery);\r\n"]}
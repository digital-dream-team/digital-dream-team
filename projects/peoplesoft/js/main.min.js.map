{"version":3,"sources":["main.js"],"names":["$","document","ready","menu","headers","closePopup","removeClass","fadeOut","html","each","hasClass","this","children","innerChild","title","text","parent","closest","inners","find","innerMenu","concat","index","innerTitle","iindex","attr","newParent","clone","section","append","preventDefault","id","detach","appendTo","target","scrollTop","y","on","e","top","animate","AOS","once","getBoundingClientRect","left","init","xRatio","xPercent","yRatio","clientX","rect","xValue","clientY","yValue","yPercent","h","outerHeight","w","Math","floor","x","css","stopPropagation","addClass","fadeIn","data","redirectUrl","videoUrl","self","serialized","success","alert","console","url","method","serialize","redirectUrlObj","URL","hostname","window","location","origin","pathname","ajax","type","action","val","mask","href","autoplay","delay","error","parallaxUpdate","Swiper","parallaxObjectUpdate","breakpoints","320","floatingBgUpdate","spaceBetween","768","slidesPerView","parentSection","992","outerInView","push","checkSidebar","innerLastInView","wheight","height","slowMultiplier","item","offset","elementTop","viewportTop","percent","elementBottom","sFix","viewportBottom","position","$el","eposition","sposition","p","innerLinks","length","floatingHeaderUpdate","isInViewport","links","_this","filter","checkSidebarInners","fn","arguments","undefined","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["(function ($) {\r\n  $(document).ready(function () {\r\n    // Clear elementor elements\r\n    $(\r\n      \".page-section__hero, .page-section__contact, .page-section__team, .page-section__news, .page-section__parallax, .page-section__small-cases, .page-section__cases\",\r\n    ).each(function () {\r\n      if ($(\"body\").hasClass(\"elementor-editor-active\")) {\r\n        return;\r\n      }\r\n\r\n      while (!$(this).children().hasClass(\"dd-containe\")) {\r\n        const innerChild = $(this).children().children();\r\n        $(this).html(innerChild);\r\n      }\r\n    });\r\n\r\n    // Case pages\r\n    if ($(\".main-content\").hasClass(\"case-page-content\")) {\r\n      const headers = $(\"h2\");\r\n      let menu = \"\";\r\n\r\n      headers.each(function (index) {\r\n        const parent = $(this).closest(\"section\");\r\n        const title = $(this).text();\r\n        $(this).attr(\"id\", `fm-${index}`);\r\n\r\n        const inners = parent.find(\"h3\");\r\n        let innerMenu = \"\";\r\n        inners.each(function (iindex) {\r\n          const innerTitle = $(this).text();\r\n          $(this).attr(\"id\", `fm-inner-${index}-${iindex}`);\r\n          innerMenu += `\r\n          <li class=\"floating-sidebar__menu-inner-item\">\r\n            <a class=\"floating-sidebar__menu-inner-item-link\" href=\"#fm-inner-${index}-${iindex}\">\r\n              ${innerTitle}\r\n            </a>\r\n          </li>\r\n          `;\r\n        });\r\n\r\n        if ($(\".floating-sidebar\").length) {\r\n          menu += `\r\n            <li class=\"floating-sidebar__menu-item\">\r\n              <a class=\"floating-sidebar__menu-item-link\" href=\"#fm-${index}\">\r\n                ${title}\r\n              </a>\r\n              <ul class=\"floating-sidebar__menu-inner\">\r\n                ${innerMenu}\r\n              </ul>\r\n            </li>\r\n          `;\r\n        }\r\n      });\r\n      $(\".floating-sidebar__menu\").append(menu);\r\n\r\n      $(\"section\").each(function () {\r\n        if ($(this).hasClass(\"top-content\")) {\r\n          let section = $(this);\r\n          let parent = $(this).parent().parent().parent();\r\n\r\n          let newParent = parent.clone().html(\"\");\r\n          $(section).detach().appendTo(newParent);\r\n          newParent.appendTo(\".top-content__container\");\r\n        }\r\n\r\n        if ($(this).hasClass(\"bottom-content\")) {\r\n          let section = $(this);\r\n          let parent = $(this).parent().parent().parent();\r\n\r\n          let newParent = parent.clone().html(\"\");\r\n          $(section).detach().appendTo(newParent);\r\n          newParent.appendTo(\".bottom-content__container\");\r\n        }\r\n      });\r\n    }\r\n\r\n    $(document).on(\"click\", \".floating-sidebar__menu a\", function (e) {\r\n      e.preventDefault();\r\n      const id = $(this).attr(\"href\");\r\n      const target = $(`section ${id}`);\r\n      let y = target.offset().top - 120;\r\n      $(\"html, body\").animate({ scrollTop: y }, 800);\r\n    });\r\n\r\n    $(\".page-section__hero-content\").attr(\"data-aos\", \"fade-right\");\r\n    $(\".case-card__content\").attr(\"data-aos\", \"fade-right\");\r\n    $(\".case-card__content\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".small-case-card\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".small-case-card\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".page-section__parallax-title\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".page-section__parallax-title\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".page-section__parallax-content\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".page-section__parallax-content\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".page-section__parallax-button\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".page-section__parallax-button\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".news-card\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".news-card\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".page-section__news-header\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".page-section__news-header\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".page-section__team-text\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".page-section__team-text\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".page-section__team-title\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".page-section__team-title\").attr(\"data-aos-duration\", \"1000\");\r\n    $(\".page-section__cases-title\").attr(\"data-aos\", \"fade-up\");\r\n    $(\".page-section__cases-title\").attr(\"data-aos-duration\", \"1000\");\r\n\r\n    // Init AOS (animate on scroll)\r\n    AOS.init({\r\n      once: true,\r\n    });\r\n\r\n    /* Parallax rotating card */\r\n    // mouse moves over element\r\n    $(\".case-card\").on(\"mousemove\", function (e) {\r\n      // e = Mouse click event.\r\n      const rect = e.target.getBoundingClientRect();\r\n      const x = e.clientX - rect.left; //x position within the element.\r\n      const y = e.clientY - rect.top; //y position within the element.\r\n      const w = $(this).outerWidth();\r\n      const h = $(this).outerHeight();\r\n\r\n      if (w <= 690) {\r\n        return;\r\n      }\r\n\r\n      const xPercent = Math.floor((x / w) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n      const yPercent = Math.floor((y / h) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n\r\n      // Centric ratio\r\n      const xRatio = xPercent <= 50 ? xPercent / 100 : (100 - xPercent) / 100;\r\n      const yRatio = yPercent <= 50 ? yPercent / 100 : (100 - yPercent) / 100;\r\n\r\n      const xValue =\r\n        xPercent <= 50 ? ((1 - xRatio) / 5) * -1 : (1 - xRatio) / 5;\r\n      const yValue =\r\n        yPercent >= 50 ? ((1 - yRatio) / 5) * -1 : (1 - yRatio) / 5;\r\n\r\n      // Transform rotate rotates axes not in a way you may think at first so xValue goes to Y and vice versa\r\n      $(this).css(\r\n        \"transform\",\r\n        \"rotateY(\" + xValue + \"deg) rotateX(\" + yValue + \"deg)\",\r\n      );\r\n    });\r\n    // mouse leaves element\r\n    $(\".case-card\").on(\"mouseleave\", function () {\r\n      $(this).css(\"transform\", \"\");\r\n    });\r\n\r\n    // Popups\r\n    $(\".dd-popup__close-btn\").on(\"click\", function () {\r\n      closePopup();\r\n    });\r\n    // Close on overlay click\r\n    $(\".dd-popup-wrap\").on(\"click\", function () {\r\n      closePopup();\r\n    });\r\n    // Prevent overlay close on overlay content click\r\n    $(\".dd-popup\").on(\"click\", function (e) {\r\n      e.stopPropagation();\r\n    });\r\n    $(\".dd-popup__footer\").on(\"click\", function (e) {\r\n      e.stopPropagation();\r\n    });\r\n\r\n    function closePopup() {\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n      // $(\".dd-popup-wrap\").addClass(\"d-none\");\r\n      $(\".dd-popup-wrap\").fadeOut(300);\r\n      $(\".youtube-video-place\").html(\"\");\r\n    }\r\n\r\n    // Contact popup\r\n    $(\".open-contact-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      // $(\"#contactPopup\").removeClass(\"d-none\");\r\n      $(\"#contactPopup\").fadeIn(300);\r\n    });\r\n\r\n    // Video popup\r\n    $(\".open-video-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      const videoUrl = $(this).attr(\"href\");\r\n\r\n      if (!videoUrl || videoUrl === \"#\") {\r\n        return;\r\n      }\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      // $(\"#videoPopup\").removeClass(\"d-none\");\r\n      $(\"#videoPopup\").fadeIn(300);\r\n\r\n      $(\".youtube-video-place\").html(\r\n        '<iframe allowfullscreen allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen class=\"embed-responsive-item\" src=\"' +\r\n          videoUrl +\r\n          '\" ></iframe>',\r\n      );\r\n    });\r\n\r\n    // Contact form submit\r\n    $(\".contact-form\").on(\"submit\", function (e) {\r\n      e.preventDefault();\r\n      const url = $(this).attr(\"action\");\r\n      const method = $(this).attr(\"method\");\r\n      const serialized = $(this).serialize();\r\n\r\n      let redirectUrl = $(this).data(\"redirect\");\r\n\r\n      if ($(\"body\").hasClass(\"translatepress-en_US\")) {\r\n        let redirectUrlObj = new URL(redirectUrl);\r\n        if (redirectUrlObj.hostname === window.location.hostname) {\r\n          redirectUrl = redirectUrlObj.origin + \"/en\" + redirectUrlObj.pathname;\r\n        }\r\n      }\r\n\r\n      const self = $(this);\r\n      $.ajax({\r\n        url,\r\n        type: method,\r\n        data: {\r\n          action: \"contactForm\",\r\n          serialized,\r\n        },\r\n        success: function (data) {\r\n          self.find('input[type=\"text\"] , input[type=\"tel\"]').val(\"\");\r\n          if (redirectUrl) {\r\n            window.location.href = redirectUrl;\r\n          }\r\n        },\r\n        error: function (data) {\r\n          alert(\"Ошибка, повторите позднее\");\r\n          console.error(data);\r\n        },\r\n      });\r\n    });\r\n\r\n    // Simple phone input mask\r\n    // $(\".phone-input-mask\").on(\"keypress paste\", function (evt) {\r\n    //   // ^(\\([0-9]{3}\\)|[0-9]{3}-)[0-9]{3}-[0-9]{4}$\r\n    //   var theEvent = evt || window.event;\r\n\r\n    //   var key = null;\r\n    //   // Handle paste\r\n    //   if (theEvent.type === \"paste\") {\r\n    //     key = event.clipboardData.getData(\"text/plain\");\r\n    //   } else {\r\n    //     // Handle key press\r\n    //     key = theEvent.keyCode || theEvent.which;\r\n    //     key = String.fromCharCode(key);\r\n    //   }\r\n    //   var regex = /([0-9()+-])/;\r\n    //   if (!regex.test(key)) {\r\n    //     theEvent.returnValue = false;\r\n    //     if (theEvent.preventDefault) theEvent.preventDefault();\r\n    //   }\r\n    // });\r\n\r\n    $(\".phone-input-mask\").each(function () {\r\n      $(this).mask(\"+7 (999) 999-9999\");\r\n    });\r\n\r\n    var smallCasesSwiper = new Swiper(\".small-cases-swiper\", {\r\n      // allowTouchMove: false,\r\n      autoplay: {\r\n        delay: 3000,\r\n      },\r\n      breakpoints: {\r\n        // when window width is >= 320px\r\n        320: {\r\n          slidesPerView: 1,\r\n          spaceBetween: -20,\r\n        },\r\n        // when window width is >= 640px\r\n        768: {\r\n          slidesPerView: 3,\r\n          spaceBetween: 20,\r\n        },\r\n        992: {\r\n          slidesPerView: 4,\r\n          spaceBetween: 20,\r\n        },\r\n      },\r\n    });\r\n\r\n    let outerInView = [];\r\n    let innerLastInView = null;\r\n    $(document).on(\"scroll\", function () {\r\n      if ($(\".main-header\").length) {\r\n        floatingHeaderUpdate();\r\n      }\r\n\r\n      if ($(\".page-section__parallax\").length) {\r\n        if ($(\".page-section__parallax\").isInViewport(true)) {\r\n          parallaxUpdate();\r\n        }\r\n      }\r\n\r\n      $(\".parallax-object\").each(function () {\r\n        if ($(this).isInViewport()) {\r\n          parallaxObjectUpdate($(this));\r\n        }\r\n      });\r\n\r\n      $(\".section-title__floating-bg-wrap\").each(function (index) {\r\n        if ($(this).isInViewport()) {\r\n          floatingBgUpdate($(this), index);\r\n        }\r\n      });\r\n\r\n      $(\"h2.section-title\").each(function () {\r\n        const parentSection = $(this).closest(\"section\");\r\n\r\n        if (parentSection.isInViewport()) {\r\n          outerInView.push($(this).attr(\"id\"));\r\n\r\n          checkSidebar($(this));\r\n        } else {\r\n          outerInView = outerInView.filter(\r\n            (item) => item === $(this).attr(\"id\"),\r\n          );\r\n        }\r\n\r\n        const innerLinks = parentSection.find(\"h3\");\r\n\r\n        innerLinks.each(function () {\r\n          if ($(this).isInViewport()) {\r\n            // const checkIfExist = innerLinksInView.find(\r\n            //   (inner) => inner.attr(\"id\") === $(this).attr(\"id\"),\r\n            // );\r\n            // if (!checkIfExist) {\r\n            innerLastInView = $(this).attr(\"id\");\r\n            // }\r\n          }\r\n          // else {\r\n          //   innerLinksInView = innerLinksInView.filter(\r\n          //     (inner) => inner.attr(\"id\") !== $(this).attr(\"id\"),\r\n          //   );\r\n          // }\r\n          checkSidebarInners();\r\n        });\r\n      });\r\n    });\r\n\r\n    function checkSidebar(item) {\r\n      const id = outerInView[0] || null;\r\n\r\n      const links = $(\".floating-sidebar__menu-item-link\");\r\n      links.each(function () {\r\n        if ($(this).attr(\"href\") === `#${id}`) {\r\n          $(this)\r\n            .parent()\r\n            .find(\".floating-sidebar__menu-inner\")\r\n            .addClass(\"active\");\r\n        } else {\r\n          $(this)\r\n            .parent()\r\n            .find(\".floating-sidebar__menu-inner\")\r\n            .removeClass(\"active\");\r\n        }\r\n      });\r\n    }\r\n    function checkSidebarInners() {\r\n      const links = $(\".floating-sidebar__menu-inner-item-link\");\r\n      links.each(function () {\r\n        if ($(this).attr(\"href\") === `#${innerLastInView}`) {\r\n          $(this).addClass(\"active\");\r\n        } else {\r\n          $(this).removeClass(\"active\");\r\n        }\r\n      });\r\n    }\r\n\r\n    $(\".section-title__floating-bg-wrap\").each(function (index) {\r\n      if ($(this).isInViewport()) {\r\n        floatingBgUpdate($(this), index);\r\n      }\r\n    });\r\n    function floatingBgUpdate(item, index) {\r\n      let elementTop = $(item).offset().top;\r\n      let viewportBottom = viewportTop + $(window).height();\r\n\r\n      const elementBottom = elementTop + $(item).outerHeight();\r\n      const viewportTop = $(window).scrollTop();\r\n\r\n      const percent = Math.floor((viewportTop / elementBottom) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n\r\n      $(item).css(\"transform\", `translateX(${-percent}%)`);\r\n    }\r\n\r\n    floatingHeaderUpdate();\r\n    function floatingHeaderUpdate() {\r\n      let viewportTop = $(window).scrollTop();\r\n\r\n      if (viewportTop > 600) {\r\n        $(\".main-header\").addClass(\"floating-header active\");\r\n      } else {\r\n        $(\".main-header\").removeClass(\"floating-header active\");\r\n      }\r\n    }\r\n\r\n    // Parallax section on home page function\r\n    parallaxUpdate();\r\n    function parallaxUpdate() {\r\n      let position = $(document).scrollTop();\r\n      let base = 5;\r\n      let offset = Math.floor(100 - (base + position / 18 - 100));\r\n      $(\".parallax-element\").css(\"transform\", `translateY(${offset}%)`);\r\n    }\r\n\r\n    // Single parallax object function\r\n    $(\".parallax-object\").each(function () {\r\n      if ($(this).isInViewport()) {\r\n        parallaxObjectUpdate($(this));\r\n      }\r\n    });\r\n    function parallaxObjectUpdate($el) {\r\n      let eposition = $el.offset().top;\r\n      let sposition = $(document).scrollTop();\r\n      let wheight = $(window).height();\r\n\r\n      let slowMultiplier = 4;\r\n      let offset = 5;\r\n      let p =\r\n        Math.floor(((eposition - sposition) / wheight) * 100) / slowMultiplier -\r\n        offset;\r\n      $el.css(\"transform\", `translateY(${p}%)`);\r\n    }\r\n  });\r\n\r\n  $.fn.isInViewport = function (sFix = false) {\r\n    let elementTop = $(this).offset().top;\r\n    let elementBottom = elementTop + $(this).outerHeight();\r\n\r\n    let viewportTop = $(window).scrollTop();\r\n    let viewportBottom = viewportTop + $(window).height();\r\n\r\n    // don't remember what was the problem, but this one fixed it, sFix implemented only for this reason\r\n    if (elementTop === 0 && sFix) {\r\n      return false;\r\n    }\r\n\r\n    return elementBottom > viewportTop && elementTop < viewportBottom;\r\n  };\r\n})(jQuery);\r\n"]}
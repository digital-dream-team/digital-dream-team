{"version":3,"sources":["main.js"],"names":["$","document","ready","closePopup","removeClass","addClass","e","preventDefault","html","base","floor","scrollTop","fadeIn","isInViewport","fadeOut","parallaxUpdate","elementTop","offset","Math","position","css","concat","once","on","rect","getBoundingClientRect","x","clientX","left","clientY","w","outerWidth","h","this","outerHeight","xPercent","yPercent","y","xRatio","xValue","yRatio","yValue","stopPropagation","videoUrl","attr","key","clipboardData","evt","theEvent","returnValue","window","event","floatingHeaderUpdate","type","getData","keyCode","which","String","fromCharCode","test","viewportTop","fn","top","elementBottom","viewportBottom","height","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["(function ($) {\r\n  $(document).ready(function () {\r\n    // Init AOS (animate on scroll)\r\n    AOS.init({\r\n      once: true,\r\n    });\r\n\r\n    /* Parallax rotating card */\r\n    // mouse moves over element\r\n    $(\".case-card\").on(\"mousemove\", function (e) {\r\n      // e = Mouse click event.\r\n      const rect = e.target.getBoundingClientRect();\r\n      const x = e.clientX - rect.left; //x position within the element.\r\n      const y = e.clientY - rect.top; //y position within the element.\r\n      const w = $(this).outerWidth();\r\n      const h = $(this).outerHeight();\r\n\r\n      if (w <= 690) {\r\n        return;\r\n      }\r\n\r\n      // console.log({ x, y, w, h });\r\n\r\n      const xPercent = Math.floor((x / w) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n      const yPercent = Math.floor((y / h) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n\r\n      // Centric ratio\r\n      const xRatio = xPercent <= 50 ? xPercent / 100 : (100 - xPercent) / 100;\r\n      const yRatio = yPercent <= 50 ? yPercent / 100 : (100 - yPercent) / 100;\r\n\r\n      const xValue =\r\n        xPercent <= 50 ? ((1 - xRatio) / 5) * -1 : (1 - xRatio) / 5;\r\n      const yValue =\r\n        yPercent >= 50 ? ((1 - yRatio) / 5) * -1 : (1 - yRatio) / 5;\r\n\r\n      // console.log({ xValue, yValue });\r\n\r\n      // Transform rotate rotates axes not in a way you may think at first so xValue goes to Y and vice versa\r\n      $(this).css(\r\n        \"transform\",\r\n        \"rotateY(\" + xValue + \"deg) rotateX(\" + yValue + \"deg)\",\r\n      );\r\n    });\r\n    // mouse leaves element\r\n    $(\".case-card\").on(\"mouseleave\", function () {\r\n      $(this).css(\"transform\", \"\");\r\n    });\r\n\r\n    // Popups\r\n    $(\".dd-popup__close-btn\").on(\"click\", function () {\r\n      closePopup();\r\n    });\r\n    // Close on overlay click\r\n    $(\".dd-popup-wrap\").on(\"click\", function () {\r\n      closePopup();\r\n    });\r\n    // Prevent overlay close on overlay content click\r\n    $(\".dd-popup\").on(\"click\", function (e) {\r\n      e.stopPropagation();\r\n    });\r\n    $(\".dd-popup__footer\").on(\"click\", function (e) {\r\n      e.stopPropagation();\r\n    });\r\n\r\n    function closePopup() {\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n      $(\".dd-popup-wrap\").addClass(\"d-none\");\r\n      $(\".youtube-video-place\").html(\"\");\r\n    }\r\n\r\n    // Contact popup\r\n    $(\".open-contact-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#contactPopup\").removeClass(\"d-none\");\r\n    });\r\n\r\n    // Video popup\r\n    $(\".open-video-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      closePopup();\r\n\r\n      const videoUrl = $(this).attr(\"href\");\r\n\r\n      if (!videoUrl || videoUrl === \"#\") {\r\n        return;\r\n      }\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#videoPopup\").removeClass(\"d-none\");\r\n\r\n      $(\".youtube-video-place\").html(\r\n        '<iframe allowfullscreen allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen class=\"embed-responsive-item\" src=\"' +\r\n          videoUrl +\r\n          '\" ></iframe>',\r\n      );\r\n    });\r\n\r\n    // Simple phone input mask\r\n    $(\".phone-input-mask\").on(\"keypress paste\", function (evt) {\r\n      // ^(\\([0-9]{3}\\)|[0-9]{3}-)[0-9]{3}-[0-9]{4}$\r\n      var theEvent = evt || window.event;\r\n\r\n      var key = null;\r\n      // Handle paste\r\n      if (theEvent.type === \"paste\") {\r\n        key = event.clipboardData.getData(\"text/plain\");\r\n      } else {\r\n        // Handle key press\r\n        key = theEvent.keyCode || theEvent.which;\r\n        key = String.fromCharCode(key);\r\n      }\r\n      var regex = /([0-9()+-])/;\r\n      if (!regex.test(key)) {\r\n        theEvent.returnValue = false;\r\n        if (theEvent.preventDefault) theEvent.preventDefault();\r\n      }\r\n    });\r\n\r\n    $(document).on(\"scroll\", function () {\r\n      floatingHeaderUpdate();\r\n\r\n      if ($(\".page-section.page-section__parallax\").isInViewport()) {\r\n        parallaxUpdate();\r\n      }\r\n    });\r\n\r\n    floatingHeaderUpdate();\r\n    function floatingHeaderUpdate() {\r\n      let viewportTop = $(window).scrollTop();\r\n\r\n      if (viewportTop > 600) {\r\n        $(\".floating-header\").fadeIn(400);\r\n      } else {\r\n        $(\".floating-header\").fadeOut(400);\r\n      }\r\n    }\r\n\r\n    parallaxUpdate();\r\n    function parallaxUpdate() {\r\n      let position = $(document).scrollTop();\r\n      let base = 5;\r\n      let offset = Math.floor(100 - (base + position / 18 - 100));\r\n      $(\".parallax-element\").css(\"transform\", `translateY(${offset}%)`);\r\n    }\r\n  });\r\n\r\n  $.fn.isInViewport = function () {\r\n    let elementTop = $(this).offset().top;\r\n    let elementBottom = elementTop + $(this).outerHeight();\r\n\r\n    let viewportTop = $(window).scrollTop();\r\n    let viewportBottom = viewportTop + $(window).height();\r\n\r\n    if (elementTop === 0) {\r\n      return false;\r\n    }\r\n\r\n    // console.log({\r\n    //   isIn: elementBottom > viewportTop && elementTop < viewportBottom,\r\n    //   elementTop,\r\n    //   elementBottom,\r\n    //   viewportTop,\r\n    //   viewportBottom,\r\n    // });\r\n\r\n    return elementBottom > viewportTop && elementTop < viewportBottom;\r\n  };\r\n})(jQuery);\r\n"]}
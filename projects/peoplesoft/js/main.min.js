"use strict";!function(l){l(document).ready(function(){var t,o;function a(){l("body").removeClass("overflow-hidden"),l(".dd-popup-wrap").fadeOut(300),l(".youtube-video-place").html("")}l(".page-section__hero, .page-section__contact, .page-section__team, .page-section__news, .page-section__parallax, .page-section__small-cases, .page-section__cases").each(function(){if(!l("body").hasClass("elementor-editor-active"))for(;!l(this).children().hasClass("dd-containe");){var t=l(this).children().children();l(this).html(t)}}),l(".main-content").hasClass("case-page-content")&&(t=l("h2"),o="",t.each(function(e){var t=l(this).closest("section"),a=l(this).text();l(this).attr("id","fm-".concat(e));var t=t.find("h3"),n="";t.each(function(t){var a=l(this).text();l(this).attr("id","fm-inner-".concat(e,"-").concat(t)),n+='\n          <li class="floating-sidebar__menu-inner-item">\n            <a class="floating-sidebar__menu-inner-item-link" href="#fm-inner-'.concat(e,"-").concat(t,'">\n              ').concat(a,"\n            </a>\n          </li>\n          ")}),l(".floating-sidebar").length&&(o+='\n            <li class="floating-sidebar__menu-item">\n              <a class="floating-sidebar__menu-item-link" href="#fm-'.concat(e,'">\n                ').concat(a,'\n              </a>\n              <ul class="floating-sidebar__menu-inner">\n                ').concat(n,"\n              </ul>\n            </li>\n          "))}),l(".floating-sidebar__menu").append(o),l("section").each(function(){var t,a;l(this).hasClass("top-content")&&(t=l(this),a=l(this).parent().parent().parent().clone().html(""),l(t).detach().appendTo(a),a.appendTo(".top-content__container")),l(this).hasClass("bottom-content")&&(t=l(this),a=l(this).parent().parent().parent().clone().html(""),l(t).detach().appendTo(a),a.appendTo(".bottom-content__container"))})),l(document).on("click",".floating-sidebar__menu a",function(t){t.preventDefault();t=l(this).attr("href"),t=l("section ".concat(t)).offset().top-120;l("html, body").animate({scrollTop:t},800)}),l(".page-section__hero-content").attr("data-aos","fade-right"),l(".case-card__content").attr("data-aos","fade-right"),l(".case-card__content").attr("data-aos-duration","1000"),l(".small-case-card").attr("data-aos","fade-up"),l(".small-case-card").attr("data-aos-duration","1000"),l(".page-section__parallax-title").attr("data-aos","fade-up"),l(".page-section__parallax-title").attr("data-aos-duration","1000"),l(".page-section__parallax-content").attr("data-aos","fade-up"),l(".page-section__parallax-content").attr("data-aos-duration","1000"),l(".page-section__parallax-button").attr("data-aos","fade-up"),l(".page-section__parallax-button").attr("data-aos-duration","1000"),l(".news-card").attr("data-aos","fade-up"),l(".news-card").attr("data-aos-duration","1000"),l(".page-section__news-header").attr("data-aos","fade-up"),l(".page-section__news-header").attr("data-aos-duration","1000"),l(".page-section__team-text").attr("data-aos","fade-up"),l(".page-section__team-text").attr("data-aos-duration","1000"),l(".page-section__team-title").attr("data-aos","fade-up"),l(".page-section__team-title").attr("data-aos-duration","1000"),l(".page-section__cases-title").attr("data-aos","fade-up"),l(".page-section__cases-title").attr("data-aos-duration","1000"),AOS.init({once:!0}),l(".case-card").on("mousemove",function(t){var a=t.target.getBoundingClientRect(),e=t.clientX-a.left,n=t.clientY-a.top,t=l(this).outerWidth(),a=l(this).outerHeight();t<=690||(t=(e=Math.floor(e/t*100)+1)<=50?e/100:(100-e)/100,a=(n=Math.floor(n/a*100)+1)<=50?n/100:(100-n)/100,t=e<=50?(1-t)/5*-1:(1-t)/5,a=50<=n?(1-a)/5*-1:(1-a)/5,l(this).css("transform","rotateY("+t+"deg) rotateX("+a+"deg)"))}),l(".case-card").on("mouseleave",function(){l(this).css("transform","")}),l(".dd-popup__close-btn").on("click",function(){a()}),l(".dd-popup-wrap").on("click",function(){a()}),l(".dd-popup").on("click",function(t){t.stopPropagation()}),l(".dd-popup__footer").on("click",function(t){t.stopPropagation()}),l(".open-contact-popup").on("click",function(t){t.preventDefault(),a(),l("body").addClass("overflow-hidden"),l("#contactPopup").fadeIn(300)}),l(".open-video-popup").on("click",function(t){t.preventDefault(),a();t=l(this).attr("href");t&&"#"!==t&&(l("body").addClass("overflow-hidden"),l("#videoPopup").fadeIn(300),l(".youtube-video-place").html('<iframe allowfullscreen allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="embed-responsive-item" src="'+t+'" ></iframe>'))}),l(".contact-form").on("submit",function(t){t.preventDefault();var a=l(this).attr("action"),e=l(this).attr("method"),n=l(this).serialize(),o=l(this).data("redirect");!l("body").hasClass("translatepress-en_US")||(t=new URL(o)).hostname===window.location.hostname&&(o=t.origin+"/en"+t.pathname);var i=l(this);l.ajax({url:a,type:e,data:{action:"contactForm",serialized:n},success:function(t){i.find('input[type="text"] , input[type="tel"]').val(""),o&&(window.location.href=o)},error:function(t){alert("Ошибка, повторите позднее"),console.error(t)}})}),l(".phone-input-mask").each(function(){l(this).mask("+7 (999) 999-9999")});new Swiper(".small-cases-swiper",{autoplay:{delay:3e3},breakpoints:{320:{slidesPerView:1,spaceBetween:-20},768:{slidesPerView:3,spaceBetween:20},992:{slidesPerView:4,spaceBetween:20}}});var n=[],i=null;function e(t){var a=l(t).offset().top,e=(l(window).height(),a+l(t).outerHeight()),a=l(window).scrollTop(),e=Math.floor(a/e*100)+1;l(t).css("transform","translateX(".concat(-e,"%)"))}function s(){600<l(window).scrollTop()?l(".main-header").addClass("floating-header active"):l(".main-header").removeClass("floating-header active")}function c(){var t=l(document).scrollTop(),t=Math.floor(100-(5+t/18-100));l(".parallax-element").css("transform","translateY(".concat(t,"%)"))}function r(t){var a=t.offset().top,e=l(document).scrollTop(),n=l(window).height(),n=Math.floor((a-e)/n*100)/4-5;t.css("transform","translateY(".concat(n,"%)"))}l(document).on("scroll",function(){l(".main-header").length&&s(),l(".page-section__parallax").length&&l(".page-section__parallax").isInViewport(!0)&&c(),l(".parallax-object").each(function(){l(this).isInViewport()&&r(l(this))}),l(".section-title__floating-bg-wrap").each(function(t){l(this).isInViewport()&&e(l(this))}),l("h2.section-title").each(function(){var t,a=this,e=l(this).closest("section");e.isInViewport()?(n.push(l(this).attr("id")),l(this),t=n[0]||null,l(".floating-sidebar__menu-item-link").each(function(){l(this).attr("href")==="#".concat(t)?l(this).parent().find(".floating-sidebar__menu-inner").addClass("active"):l(this).parent().find(".floating-sidebar__menu-inner").removeClass("active")})):n=n.filter(function(t){return t===l(a).attr("id")}),e.find("h3").each(function(){l(this).isInViewport()&&(i=l(this).attr("id")),l(".floating-sidebar__menu-inner-item-link").each(function(){l(this).attr("href")==="#".concat(i)?l(this).addClass("active"):l(this).removeClass("active")})})})}),l(".section-title__floating-bg-wrap").each(function(t){l(this).isInViewport()&&e(l(this))}),s(),c(),l(".parallax-object").each(function(){l(this).isInViewport()&&r(l(this))})}),l.fn.isInViewport=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],a=l(this).offset().top,e=a+l(this).outerHeight(),n=l(window).scrollTop(),o=n+l(window).height();return(0!==a||!t)&&(n<e&&a<o)}}(jQuery);
//# sourceMappingURL=main.min.js.map

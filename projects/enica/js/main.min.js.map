{"version":3,"sources":["main.js"],"names":["getParameterByName","name","url","arguments","length","undefined","window","location","href","replace","results","RegExp","exec","decodeURIComponent","$","drawLine","container","line","lHeight","parseInt","height","pathLength","getTotalLength","maxScrollTop","scrollTop","style","strokeDasharray","join","jQuery","on","removeClass","s4","crewImageSrc","ultraTextParallax","$el","elementBottom","offset","top","outerHeight","viewportTop","dist","maxScrollY","Math","round","concat","newOffset","each","this","attr","push","preload","document","images","i","Image","imageObj","src","AniJS","getHelper","animationHelper","e","animationContext","setTimeout","addDelayFunction","preventDefault","addClass","vacancy","find","val","html","mapIframe","data","currentTarget","target","hasClass","trigger","files","size","alert","freeMode","slidesPerView","spaceBetween","Swiper","loop","navigation","arrowPrev","nextEl","arrowNext","prevEl","$clamp","clamp","$member","$item","get","index","parent","css","timelineDots","targetClass","$target","prevAll","russia","kyrgyzstan","tajikistan","getBoundingClientRect","originalEvent","xPercent","xRatio","yRatio","yPercent","xValue","rect","x","clientX","left","y","clientY","w","outerWidth","floor","kazakhstan","h","uzbekistan","yValue","_this","city","self","country","sticky","isInViewport","pageYOffset","query_formatError","query_fileSizeError","sFix","elementTop","viewportBottom","history","replaceState","title","split","getElementById","s2","s1","s3","fn","car","opacity","scrollY","path","pathLen","pos","getPointAtLength","angle","posAhead","atan2","posBehind","rotate","rad","PI","rad2deg","transform","positionCar"],"mappings":"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","file":"main.min.js","sourcesContent":["(function ($) {\r\n  jQuery(function () {\r\n    // Close menu on outside click\r\n    $(\".main-container\").on(\"click\", function () {\r\n      $(\".navbar-collapse\").removeClass(\"show\");\r\n    });\r\n\r\n    // Crew members alt images preload (to prevent flashes on load)\r\n    let crewImageSrc = [];\r\n    $(\".team-crew__member-image-alt\").each(function () {\r\n      const url = $(this).attr(\"src\");\r\n      crewImageSrc.push(url);\r\n    });\r\n    $(\".team-crew-mobile__member-image-alt\").each(function () {\r\n      const url = $(this).attr(\"src\");\r\n      crewImageSrc.push(url);\r\n    });\r\n    preload(crewImageSrc);\r\n    function preload(images) {\r\n      if (document.images) {\r\n        var i = 0;\r\n        var imageObj = new Image();\r\n        for (i = 0; i <= images.length - 1; i++) {\r\n          //document.write('<img src=\"' + imageArray[i] + '\" />');// Write to page (uncomment to check images)\r\n          imageObj.src = images[i];\r\n        }\r\n      }\r\n    }\r\n\r\n    // Animations helper\r\n    //Obtaining the default helper\r\n    var animationHelper = AniJS.getHelper();\r\n\r\n    //Defining addDelayFunction\r\n    animationHelper.addDelayFunction = function (e, animationContext) {\r\n      setTimeout(function () {\r\n        animationContext.run();\r\n      }, 20000);\r\n    };\r\n\r\n    // Popups\r\n    $(\".open-vacancy-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#vacancyFormPopup\").addClass(\"active\");\r\n\r\n      const vacancy = $(this).data(\"vacancy\");\r\n\r\n      if (vacancy) {\r\n        $(\"#vacancyFormPopup\").find(\"#vacancyFormVacancyInput\").val(vacancy);\r\n\r\n        $(\"#vacancyFormPopup\").find(\".vacancy-type-text\").html(vacancy);\r\n      }\r\n    });\r\n    $(\".open-contact-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#contactFormPopup\").addClass(\"active\");\r\n    });\r\n    $(\".open-map-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#mapPopup\").addClass(\"active\");\r\n\r\n      const mapIframe = $(this).data(\"map\");\r\n      if (mapIframe) {\r\n        $(\"#mapContainer\").html(mapIframe);\r\n      }\r\n    });\r\n\r\n    // Close overlay on outside click\r\n    $(\".overlay-cdk\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n\r\n      if ($(\"#mapPopup\").hasClass(\"active\")) {\r\n        $(\"#mapContainer\").html(\"\");\r\n      }\r\n      if ($(\"#vacancyFormPopup\").hasClass(\"active\")) {\r\n        $(\"#vacancyFormPopup\")\r\n          .find(\"form\")\r\n          .find(\"input\")\r\n          .each(function () {\r\n            $(this).val(\"\");\r\n          });\r\n        $(\"#vacancySectionFormFileInputName\").html(\"\");\r\n      }\r\n\r\n      $(this).removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    });\r\n\r\n    // Close overlay on button click\r\n    $(\".overlay-cdk__close-btn\").on(\"click\", function (e) {\r\n      if ($(\"#mapPopup\").hasClass(\"active\")) {\r\n        $(\"#mapContainer\").html(\"\");\r\n      }\r\n      if ($(\"#vacancyFormPopup\").hasClass(\"active\")) {\r\n        $(\"#vacancyFormPopup\")\r\n          .find(\"form\")\r\n          .find(\"input\")\r\n          .each(function () {\r\n            $(this).val(\"\");\r\n          });\r\n        $(\"#vacancySectionFormFileInputName\").html(\"\");\r\n      }\r\n\r\n      $(\".overlay-cdk\").removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    });\r\n\r\n    // Open file inputs\r\n    $(\".open-vacancy-form-file-input\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n\r\n      $(\"#vacancyFormFileInput\").trigger(\"click\");\r\n    });\r\n\r\n    $(\"#vacancyFormFileInput\").on(\"change\", function (e) {\r\n      let name = null;\r\n      if (this.files.length) {\r\n        if (this.files[0].size > 10485760) {\r\n          alert(\"Максимальный размер файла: 10 МБ\");\r\n          $(this).val(\"\");\r\n          $(\"#vacancyFormFileInputName\").html(\"\");\r\n        }\r\n\r\n        name = this.files[0].name;\r\n      }\r\n      if (name) {\r\n        $(\"#vacancyFormFileInputName\").html(\"Файл: \" + name);\r\n      } else {\r\n        $(\"#vacancyFormFileInputName\").html(\"\");\r\n      }\r\n    });\r\n\r\n    $(\".open-vacancy-section-form-file-input\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n\r\n      $(\"#vacancySectionFormFileInput\").trigger(\"click\");\r\n    });\r\n\r\n    $(\"#vacancySectionFormFileInput\").on(\"change\", function (e) {\r\n      let name = null;\r\n      if (this.files.length) {\r\n        if (this.files[0].size > 10485760) {\r\n          alert(\"Максимальный размер файла: 10 МБ\");\r\n          $(this).val(\"\");\r\n          $(\"#vacancySectionFormFileInputName\").html(\"\");\r\n        }\r\n\r\n        name = this.files[0].name;\r\n      }\r\n      if (name) {\r\n        $(\"#vacancySectionFormFileInputName\").html(\"Файл: \" + name);\r\n      } else {\r\n        $(\"#vacancySectionFormFileInputName\").html(\"\");\r\n      }\r\n    });\r\n\r\n    // Init posts swiper\r\n    new Swiper(\".posts-swiper\", {\r\n      freeMode: true,\r\n      slidesPerView: \"auto\",\r\n      loop: false,\r\n      spaceBetween: 20,\r\n      // Navigation arrows.\r\n      navigation: {\r\n        nextEl: \".swiper-button-next\",\r\n        prevEl: \".swiper-button-prev\",\r\n      },\r\n    });\r\n\r\n    // Init gallery swiper\r\n    if ($(\".gallery-swiper\").length) {\r\n      $(\".gallery-swiper\").each(function () {\r\n        let navigation = false;\r\n\r\n        const arrowPrev = $(this)\r\n          .closest(\".gallery-swiper\")\r\n          .find(\".swiper-button-prev\")[0];\r\n\r\n        const arrowNext = $(this)\r\n          .closest(\".gallery-swiper\")\r\n          .find(\".swiper-button-next\")[0];\r\n\r\n        if (arrowPrev && arrowNext) {\r\n          navigation = {\r\n            nextEl: arrowNext,\r\n            prevEl: arrowPrev,\r\n          };\r\n        }\r\n\r\n        new Swiper($(this)[0], {\r\n          freeMode: true,\r\n          slidesPerView: \"auto\",\r\n          loop: false,\r\n          spaceBetween: 20,\r\n          // Navigation arrows.\r\n          navigation,\r\n        });\r\n      });\r\n    }\r\n\r\n    // Excerpt titles\r\n    $(\".post-card__title\").each(function () {\r\n      $clamp($(this)[0], { clamp: 2 });\r\n    });\r\n    $(\".post-card.post-card--big .post-card__title\").each(function () {\r\n      $clamp($(this)[0], { clamp: 3 });\r\n    });\r\n\r\n    // Toggle crew member state\r\n    $(\".team-crew__member-card-wrap\").on(\"click\", function () {\r\n      const $item = $(this);\r\n      const $member = $($(\".team-crew__member\").get($item.index()));\r\n\r\n      if ($item.hasClass(\"active\")) {\r\n        $(\".team-crew__member-card-wrap\").removeClass(\"active\");\r\n        $(\".team-crew__member\").removeClass(\"active\");\r\n        return;\r\n      }\r\n      $(\".team-crew__member-card-wrap\").removeClass(\"active\");\r\n      $(\".team-crew__member\").removeClass(\"active\");\r\n      $item.addClass(\"active\");\r\n      $member.addClass(\"active\");\r\n    });\r\n    $(\".team-crew-mobile__member\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const $item = $(this);\r\n\r\n      if ($item.hasClass(\"active\")) {\r\n        $(\".team-crew-mobile__member\").removeClass(\"active\");\r\n        return;\r\n      }\r\n      $(\".team-crew-mobile__member\").removeClass(\"active\");\r\n      $item.addClass(\"active\");\r\n    });\r\n\r\n    // Toggle docs\r\n    $(\".docs__item a\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const $item = $(this).parent();\r\n      if ($item.hasClass(\"active\")) {\r\n        $(\".docs__item\").removeClass(\"active\");\r\n        return;\r\n      }\r\n      $(\".docs__item\").removeClass(\"active\");\r\n      $item.addClass(\"active\");\r\n    });\r\n\r\n    // Toggle map\r\n    $(\".contact-map__map-wrap a\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const $item = $(this).parent();\r\n      $item.css(\"transition\", \"400ms\");\r\n      if ($item.hasClass(\"active\")) {\r\n        $(\".contact-map__map-wrap\").removeClass(\"active\");\r\n      } else {\r\n        $(\".contact-map__map-wrap\").removeClass(\"active\");\r\n        $item.addClass(\"active\");\r\n      }\r\n\r\n      if ($(\".contact-map__map-wrap.active\").length === 0) {\r\n        $(\".section--map-title\").css(\"z-index\", \"12\");\r\n      } else {\r\n        $(\".section--map-title\").css(\"z-index\", \"1\");\r\n      }\r\n\r\n      setTimeout(() => {\r\n        $item.css(\"transition\", \"\");\r\n      }, 400);\r\n\r\n      if ($(\".contact-map-container--timeline\").length) {\r\n        $(\".contact-map__timeline-item\").removeClass(\"active last-active\");\r\n        let timelineDots = $(\".contact-map__timeline-item-inner\");\r\n        timelineDots.each(function () {\r\n          let targetClass = $(this).data(\"target\");\r\n          if ($item.hasClass(targetClass) && $item.hasClass(\"active\")) {\r\n            const parent = $(\".contact-map__timeline\");\r\n            parent\r\n              .find(\".contact-map__timeline-item\")\r\n              .removeClass(\"active last-active\");\r\n\r\n            $(this).parent().addClass(\"active last-active\");\r\n            $(this).parent().prevAll().addClass(\"active\");\r\n          }\r\n        });\r\n      }\r\n    });\r\n    $(\".contact-map__link\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const targetClass = $(this).data(\"target\");\r\n      const $target = $(`.${targetClass}`);\r\n      $target.css(\"transition\", \"400ms\");\r\n      if ($target.hasClass(\"active\")) {\r\n        $(\".contact-map__map-wrap\").removeClass(\"active\");\r\n      } else {\r\n        $(\".contact-map__map-wrap\").removeClass(\"active\");\r\n        $(`.${targetClass}`).addClass(\"active\");\r\n      }\r\n\r\n      if ($(\".contact-map__map-wrap.active\").length === 0) {\r\n        $(\".section--map-title\").css(\"z-index\", \"12\");\r\n      } else {\r\n        $(\".section--map-title\").css(\"z-index\", \"1\");\r\n      }\r\n\r\n      setTimeout(() => {\r\n        $target.css(\"transition\", \"\");\r\n      }, 400);\r\n    });\r\n\r\n    // Toggle timeline\r\n    $(\".contact-map__timeline-item-inner\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n\r\n      const parent = $(\".contact-map__timeline\");\r\n\r\n      parent\r\n        .find(\".contact-map__timeline-item\")\r\n        .removeClass(\"active last-active\");\r\n\r\n      $(this).parent().addClass(\"active last-active\");\r\n      $(this).parent().prevAll().addClass(\"active\");\r\n\r\n      const targetClass = $(this).data(\"target\");\r\n      const $target = $(`.${targetClass}`);\r\n\r\n      $target.css(\"transition\", \"400ms\");\r\n      $(\".contact-map__map-wrap\").removeClass(\"active\");\r\n      $target.addClass(\"active\");\r\n\r\n      setTimeout(() => {\r\n        $target.css(\"transition\", \"\");\r\n      }, 400);\r\n\r\n      if ($(\".contact-map__map-wrap.active\").length === 0) {\r\n        $(\".section--map-title\").css(\"z-index\", \"12\");\r\n      } else {\r\n        $(\".section--map-title\").css(\"z-index\", \"1\");\r\n      }\r\n    });\r\n\r\n    $(\".contact-map-container\").on(\"mousemove\", function (e) {\r\n      const russia = $(this).find(\".contact-map__russia-wrap\");\r\n      const kazakhstan = $(this).find(\".contact-map__kazakhstan-wrap\");\r\n      const kyrgyzstan = $(this).find(\".contact-map__kyrgyzstan-wrap\");\r\n      const tajikistan = $(this).find(\".contact-map__tajikistan-wrap\");\r\n      const uzbekistan = $(this).find(\".contact-map__uzbekistan-wrap\");\r\n\r\n      // e = Mouse click event.\r\n      const rect = e.currentTarget.getBoundingClientRect();\r\n      const x = e.originalEvent.clientX - rect.left; //x position within the element.\r\n      const y = e.originalEvent.clientY - rect.top; //y position within the element.\r\n      const w = $(this).outerWidth();\r\n      const h = $(this).outerHeight();\r\n\r\n      // if (w <= 690) {\r\n      //   return;\r\n      // }\r\n\r\n      const xPercent = Math.floor((x / w) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n      const yPercent = Math.floor((y / h) * 100) + 1; // add + 1 to read of 0 and get to 100\r\n\r\n      // Centric ratio\r\n      const xRatio = xPercent <= 50 ? xPercent / 100 : (100 - xPercent) / 100;\r\n      const yRatio = yPercent <= 50 ? yPercent / 100 : (100 - yPercent) / 100;\r\n\r\n      // const xValue = xPercent <= 50 ? (1 - xRatio) * -1 : 1 - xRatio;\r\n      // const yValue = yPercent >= 50 ? (1 - yRatio) * -1 : 1 - yRatio;\r\n\r\n      const xValue =\r\n        xPercent <= 50 ? (xRatio - 0.5) * -1 * 100 : (xRatio - 0.5) * 100;\r\n      const yValue =\r\n        yPercent <= 50 ? (yRatio - 0.5) * -1 * 100 : (yRatio - 0.5) * 100;\r\n\r\n      // console.log({ xValue, yValue });\r\n      // setTimeout(() => {\r\n      //   $(this).find(\".contact-map__map-wrap\").css(\"transition\", `100ms`);\r\n      // }, 400);\r\n      // console.log({ xValue, yValue });\r\n\r\n      if (xValue >= 48 || xValue <= -48 || yValue <= -48 || yValue >= 48) {\r\n        $(this).find(\".contact-map__map-wrap\").css(\"transition\", `1400ms`);\r\n      } else {\r\n        $(this).find(\".contact-map__map-wrap\").css(\"transition\", \"\");\r\n      }\r\n\r\n      russia.css(\r\n        \"transform\",\r\n        `translate(${xValue * 0.15}px, ${yValue * 0.15}px)`,\r\n      );\r\n      kazakhstan.css(\r\n        \"transform\",\r\n        `translate(${xValue * 0.27}px, ${yValue * 0.27}px)`,\r\n      );\r\n      kyrgyzstan.css(\r\n        \"transform\",\r\n        `translate(${xValue * 0.35}px, ${yValue * 0.35}px)`,\r\n      );\r\n      tajikistan.css(\r\n        \"transform\",\r\n        `translate(${xValue * 0.55}px, ${yValue * 0.55}px)`,\r\n      );\r\n      uzbekistan.css(\r\n        \"transform\",\r\n        `translate(${xValue * 0.65}px, ${yValue * 0.65}px)`,\r\n      );\r\n    });\r\n    // mouse leaves element\r\n    $(\".contact-map-container\").on(\"mouseleave\", function () {\r\n      const russia = $(this).find(\".contact-map__russia-wrap\");\r\n      const kazakhstan = $(this).find(\".contact-map__kazakhstan-wrap\");\r\n      const kyrgyzstan = $(this).find(\".contact-map__kyrgyzstan-wrap\");\r\n      const tajikistan = $(this).find(\".contact-map__tajikistan-wrap\");\r\n      const uzbekistan = $(this).find(\".contact-map__uzbekistan-wrap\");\r\n      russia.css(\"transform\", \"\");\r\n      kazakhstan.css(\"transform\", \"\");\r\n      kyrgyzstan.css(\"transform\", \"\");\r\n      tajikistan.css(\"transform\", \"\");\r\n      uzbekistan.css(\"transform\", \"\");\r\n\r\n      // $(this).find(\".contact-map__map-wrap\").css(\"transition\", \"\");\r\n      setTimeout(() => {\r\n        $(this).find(\".contact-map__map-wrap\").css(\"transition\", \"\");\r\n      }, 500);\r\n    });\r\n\r\n    // Toggle contact tabs\r\n    $(\".contact-tab-btn a\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const $item = $(this);\r\n\r\n      $(\".contact-tab-btn a\").removeClass(\"active\");\r\n      $item.addClass(\"active\");\r\n\r\n      $(\".contact-tabs__item\").removeClass(\"active\");\r\n\r\n      const index = $item.data(\"index\");\r\n\r\n      $(\".contact-tabs__item\").each(function () {\r\n        if ($(this).data(\"index\") === index) {\r\n          $(this).addClass(\"active\");\r\n        }\r\n      });\r\n    });\r\n\r\n    // Toggle contact info\r\n    $(\".toggle-contact-info\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n\r\n      const index = $(this).data(\"index\");\r\n      const city = $(this).data(\"city\");\r\n      const country = $(this).data(\"country\");\r\n\r\n      $(\".contact-info\").removeClass(\"active\");\r\n      $('.contact-info[data-index=\"' + index + '\"]').addClass(\"active\");\r\n\r\n      if (country) {\r\n        $(\".contact-info__country\").html(country);\r\n      }\r\n      if (city) {\r\n        $(\".contact-info__city span\").html(city);\r\n      }\r\n    });\r\n\r\n    // On scroll events\r\n    $(document).on(\"scroll\", function () {\r\n      // Animate hand with phone on scroll\r\n      if ($(\".composite-hand\").length) {\r\n        // $(\".composite-hand\").each(function () {\r\n        if ($(\".composite-hand-trigger\").isInViewport()) {\r\n          $(\".composite-hand\").each(function () {\r\n            let self = $(this);\r\n            setTimeout(function () {\r\n              self.addClass(\"active\");\r\n            }, 200);\r\n          });\r\n        }\r\n      }\r\n\r\n      // Animate graph on scroll\r\n      if ($(\".animated-graphs-wrap\").length) {\r\n        $(\".animated-graphs-wrap\").each(function () {\r\n          let self = $(this);\r\n          if ($(this).isInViewport()) {\r\n            self.find(\".animated-graphs\").addClass(\"animated\");\r\n          }\r\n        });\r\n      }\r\n\r\n      // // Update ultra text parallax on scroll\r\n      // if ($(\".text-ultra-parallax\").length) {\r\n      //   $(\".text-ultra-parallax\").each(function () {\r\n      //     let self = $(this);\r\n      //     if ($(this).isInViewport()) {\r\n      //       ultraTextParallax(self);\r\n      //     }\r\n      //   });\r\n      // }\r\n      if ($(\".text-ultra-parallax-img\").length) {\r\n        $(\".text-ultra-parallax-img\").each(function () {\r\n          let self = $(this);\r\n          if ($(this).isInViewport()) {\r\n            ultraTextParallax(self);\r\n          }\r\n        });\r\n      }\r\n\r\n      // Sticky header\r\n      if ($(\".main-header\").length) {\r\n        let sticky = $(\".main-header\").height();\r\n\r\n        if (window.pageYOffset > sticky) {\r\n          $(\".main-header\").addClass(\"sticky\");\r\n          $(\".main-header\")\r\n            .find(\".navbar\")\r\n            .removeClass(\"navbar-dark\")\r\n            .addClass(\"navbar-light\");\r\n        } else {\r\n          $(\".main-header\").removeClass(\"sticky\");\r\n          $(\".main-header\")\r\n            .find(\".navbar\")\r\n            .removeClass(\"navbar-light\")\r\n            .addClass(\"navbar-dark\");\r\n        }\r\n      }\r\n    });\r\n\r\n    // Trigger on scroll events here on page load\r\n    // Animate hand with phone on scroll\r\n    if ($(\".composite-hand\").length) {\r\n      $(\".composite-hand\").each(function () {\r\n        let self = $(this);\r\n        if ($(this).isInViewport()) {\r\n          setTimeout(function () {\r\n            self.addClass(\"active\");\r\n          }, 0);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Animate graph on scroll\r\n    if ($(\".animated-graphs-wrap\").length) {\r\n      $(\".animated-graphs-wrap\").each(function () {\r\n        let self = $(this);\r\n        if ($(this).isInViewport()) {\r\n          self.find(\".animated-graphs\").addClass(\"animated\");\r\n        }\r\n      });\r\n    }\r\n\r\n    // Update ultra text parallax on scroll\r\n    if ($(\".text-ultra-parallax-img\").length) {\r\n      $(\".text-ultra-parallax-img\").each(function () {\r\n        let self = $(this);\r\n        if ($(this).isInViewport()) {\r\n          ultraTextParallax(self);\r\n        }\r\n      });\r\n    }\r\n\r\n    // if ($(\".text-ultra-parallax\").length) {\r\n    //   $(\".text-ultra-parallax\").each(function () {\r\n    //     let self = $(this);\r\n    //     if ($(this).isInViewport()) {\r\n    //       ultraTextParallax(self);\r\n    //     }\r\n    //   });\r\n    // }\r\n\r\n    // Sticky header\r\n    if ($(\".main-header\").length) {\r\n      let sticky = $(\".main-header\").height();\r\n\r\n      if (window.pageYOffset > sticky) {\r\n        $(\".main-header\").addClass(\"sticky\");\r\n        $(\".main-header\")\r\n          .find(\".navbar\")\r\n          .removeClass(\"navbar-dark\")\r\n          .addClass(\"navbar-light\");\r\n      } else {\r\n        $(\".main-header\").removeClass(\"sticky\");\r\n        $(\".main-header\")\r\n          .find(\".navbar\")\r\n          .removeClass(\"navbar-light\")\r\n          .addClass(\"navbar-dark\");\r\n      }\r\n    }\r\n\r\n    // Forms query handlers\r\n\r\n    if ($(\"form\").length) {\r\n      let query_formatError = getParameterByName(\"form_fileFormatError\");\r\n      if (query_formatError) {\r\n        alert(\r\n          \"Ошибка. Неверный формат файла, пожалуйста выбирете один из следующих форматов: doc, docx, pdf.\",\r\n        );\r\n\r\n        let url = window.location.href;\r\n        url = url.split(\"?\")[0];\r\n\r\n        window.history.replaceState({}, document.title, url);\r\n      }\r\n\r\n      let query_fileSizeError = getParameterByName(\"form_fileSizeError\");\r\n      if (query_fileSizeError) {\r\n        alert(\"Ошибка. Максимальный размер файла: 10 МБ.\");\r\n\r\n        let url = window.location.href;\r\n        url = url.split(\"?\")[0];\r\n\r\n        window.history.replaceState({}, document.title, url);\r\n      }\r\n\r\n      let query_sendError = getParameterByName(\"form_sendError\");\r\n      if (query_sendError) {\r\n        alert(\"Произошла ошибка. Пожалуйста, повторите попытку позже.\");\r\n\r\n        let url = window.location.href;\r\n        url = url.split(\"?\")[0];\r\n\r\n        window.history.replaceState({}, document.title, url);\r\n      }\r\n    }\r\n\r\n    // Ultra text parallax effect\r\n    function ultraTextParallax($el) {\r\n      let elementTop = $el.offset().top;\r\n      let elementBottom = elementTop + $el.outerHeight();\r\n\r\n      let viewportTop = $(window).scrollTop();\r\n      let viewportBottom = viewportTop + $(window).height();\r\n\r\n      let percOffset =\r\n        (Math.round(viewportTop) / Math.round(elementBottom)) * 100;\r\n\r\n      // const defaultOffset = 240;\r\n      const defaultOffset = 180;\r\n      let newOffset = defaultOffset + -percOffset * 3.25;\r\n\r\n      // $el.css(\"background-position\", `15px ${newOffset}px`);\r\n      $el.css(\"background-position\", `0px ${newOffset}px`);\r\n    }\r\n  });\r\n\r\n  // Check if element is in a viewport\r\n  $.fn.isInViewport = function (sFix = false) {\r\n    let elementTop = $(this).offset().top;\r\n    let elementBottom = elementTop + $(this).outerHeight();\r\n\r\n    let viewportTop = $(window).scrollTop();\r\n    let viewportBottom = viewportTop + $(window).height();\r\n\r\n    // don't remember what was the problem, but this one fixed it, sFix implemented only for this reason\r\n    if (elementTop === 0 && sFix) {\r\n      return false;\r\n    }\r\n\r\n    return elementBottom > viewportTop && elementTop < viewportBottom;\r\n  };\r\n\r\n  // Анимация маршрута\r\n  $(window).on(\"scroll\", function () {\r\n    if (!$(\"#route\").length) {\r\n      return;\r\n    }\r\n    var s1 = parseInt($(\".section--home-hero\").height());\r\n    var s2 = parseInt($(\".mbp-100\").height());\r\n    var s3 = parseInt($(\".section--stats\").height());\r\n    var s4 = parseInt($(\".section--docs\").height());\r\n    var lHeight = s1 + s2 + s3 + (s4 / 2 + 80);\r\n    $(\"#route\").css({ height: lHeight }).css({ opacity: \"1\" });\r\n    drawLine($(\"#bx_a\"), document.getElementById(\"path\"));\r\n    positionCar();\r\n  });\r\n\r\n  if ($(\"#route\").length) {\r\n    drawLine($(\"#bx_a\"), document.getElementById(\"path\"));\r\n  }\r\n\r\n  function drawLine(container, line) {\r\n    var s1 = parseInt($(\".section--home-hero\").height());\r\n    var s2 = parseInt($(\".mbp-100\").height());\r\n    var s3 = parseInt($(\".section--stats\").height());\r\n    var s4 = parseInt($(\".section--docs\").height());\r\n    var lHeight = s1 + s2 + s3 + (s4 / 2 + 80);\r\n    var pathLength = line.getTotalLength(),\r\n      maxScrollTop = lHeight,\r\n      percentDone = $(window).scrollTop() / maxScrollTop,\r\n      length = percentDone * (pathLength * 1.1);\r\n    line.style.strokeDasharray = [length, pathLength].join(\" \");\r\n  }\r\n  function positionCar() {\r\n    var s1 = parseInt($(\".section--home-hero\").height());\r\n    var s2 = parseInt($(\".section--our-services\").height());\r\n    var s3 = parseInt($(\".section--stats\").height());\r\n    var s4 = parseInt($(\".section--docs\").height());\r\n    var lHeight = s1 + s2 + s3 + (s4 / 2 + 80);\r\n    var scrollY = window.scrollY || window.pageYOffset;\r\n    var maxScrollY = lHeight;\r\n    var path = document.getElementById(\"path\");\r\n    // Calculate distance along the path the car should be for the current scroll amount\r\n    var pathLen = path.getTotalLength();\r\n    var dist = (pathLen * (scrollY * 1.1)) / maxScrollY;\r\n    var pos = path.getPointAtLength(dist - 1);\r\n    // Calculate position a little ahead of the car (or behind if we are at the end), so we can calculate car angle\r\n    if (dist + 0.1 <= pathLen) {\r\n      var posAhead = path.getPointAtLength(dist + 1);\r\n      var angle = Math.atan2(posAhead.y - pos.y, posAhead.x - pos.x);\r\n    } else {\r\n      var posBehind = path.getPointAtLength(dist - 1);\r\n      var angle = Math.atan2(pos.y - posBehind.y, pos.x - posBehind.x);\r\n    }\r\n    // Position the car at \"pos\" totated by \"angle\"\r\n    var car = document.getElementById(\"car\");\r\n    // car.setAttribute(\"transform\", \"translate(\" + (pos.x) + \",\" + (pos.y) + \") rotate(\" + (rad2deg(angle)) + \")\");\r\n    var rotate = rad2deg(angle);\r\n    car.style.transform =\r\n      \"translate(\" + pos.x + \"px,\" + pos.y + \"px)rotate(\" + rotate + \"deg)\";\r\n    // car.style.WebkitTransition = 'transform 0.1s linear ';\r\n  }\r\n\r\n  function rad2deg(rad) {\r\n    return (180 * rad) / Math.PI;\r\n  }\r\n  // Конец анимации маршрута\r\n})(jQuery);\r\n\r\n// Get query string support function\r\nfunction getParameterByName(name, url = window.location.href) {\r\n  name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n  var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\r\n    results = regex.exec(url);\r\n  if (!results) return null;\r\n  if (!results[2]) return \"\";\r\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n"]}
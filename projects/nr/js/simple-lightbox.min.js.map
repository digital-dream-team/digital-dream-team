{"version":3,"sources":["simple-lightbox.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","obj","value","SimpleLightbox","this","_defineProperty","spinner","nav","navText","captions","close","closeText","showCounter","fileExt","animationSlide","animationSpeed","preloading","loop","rel","docClose","swipeTolerance","className","heightRatio","sourceAttr","overlay","captionDelay","captionSelector","captionType","captionsData","captionPosition","window","history","disableRightClick","alertError","additionalHtml","throttleInterval","maxZoom","rtl","swipeYDiff","swipeEnd","swipeYEnd","imageLeft","containerHeight","containerOffsetX","imgHeight","capture","initialOffsetY","initialPointerOffsetY","initialPointerOffsetY2","initialPinchDistance","pointerOffsetY","pointerOffsetY2","swipeDiff","swipeStart","swipeYStart","mousedown","zoomed","containerWidth","assign","defaultOptions","options","elements","initialOffsetX","Array","from","document","querySelectorAll","initialScale","calculateTransitionPrefix","pointerOffsetX","transitionPrefix","hash","targetOffsetX","getRelated","pinchOffsetX","limitOffsetX","limitOffsetY","wrapper","appendChild","domNodes","closeButton","navigation","relatedElements","eventNamespace","event","transitionCapable","_this","isAnimating","initialImageIndex","indexOf","currentTarget","openImage","addEventListener","isOpen","body","contains","enableKeyboard","throttle","controlCoordinates","loadImage","addEvents","classList","add","currentImage","setAttribute","createElement","innerHTML","preventDefault","concat","counter","caption","captionClass","image","createDomNodes","inThrottle","func","arguments","setTimeout","element","RegExp","test","pathname","s","type","scrollbarWidth","fullWindowWidth","limit","documentElement","getBoundingClientRect","right","Math","abs","documentElementRect","left","paddingRight","parseInt","style","scrollDiv","offsetWidth","clientWidth","removeChild","isValidLink","remove","dataset","originalPaddingRight","_this2","isClosing","currentImageIndex","dispatchEvent","hashReseted","fadeOut","disableScroll","htmlClass","Event","minMax","doubleTapped","_this3","index","querySelector","next","prev","getAttribute","loadedImages","src","push","nextImage","prevImage","Image","direction","newIndex","slide","slideDirection","_this4","preload","_this5","innerWidth","widthRatio","windowHeight","tmpImage","translateX","display","adjustImage","dirIsDefined","alert","alertErrorMessage","windowWidth","height","ratio","imageHeight","imageWidth","top","innerHeight","globalScrollbarWidth","captionText","captionContainer","updateURL","scaleImageToRatio","hide","show","fadeIn","setCaption","targetOffsetY","targetScale","max","scale","initialLocationHash","_this6","zoomPanElement","min","bind","tagName","match","initialPointerOffsetX","clientX","clientY","getDimensions","width","offsetLeft","hashchangeHandler","offsetTop","parseFloat","translateY","touchCount","touches","getElementsByTagName","imgWidth","containerOffsetY","doubleTapZoom","opacity","controlCoordinatesinitialOffsetY","setZoomData","initialPointerOffsetX2","sqrt","pageX","pageY","touchmoveCount","pointerOffsetX2","targetPinchDistance","scaleDifference","pinchOffsetY","possibleDir","styles","getComputedStyle","offsetHeight","borderTopWidth","borderBottomWidth","paddingTop","borderLeftWidth","borderRightWidth","paddingLeft","newURL","location","href","split","newHash","pushStateSupport","historyHasChanges","title","paddingBottom","urlChangedOnce","back","pushState","search","clearTimeout","historyUpdateTimeout","updateHash","_this7","speed","pos","filter","_this8","elems","toggleScrollbar","targetURL","events","callback","opts","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","Symbol","iterator","_iterator","done","namespaces","_didIteratorError2","_iteratorError2","_step2","_iterator2","_iteratorNormalCompletion2","err","wrap","_didIteratorError3","_iteratorError3","undefined","_step3","_iterator3","_iteratorNormalCompletion3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","duration","_this9","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","step","_iteratorError6","_iterator6","fade","call","currentOpacity","_iteratorNormalCompletion7","_iteratorNormalCompletion6","_step7","_iterator7","_iteratorError7","_didIteratorError6","requestAnimationFrame","_this10","_element","_didIteratorError8","_iteratorError8","_step8","_iterator8","_iteratorNormalCompletion8","_didIteratorError7","opacityTarget","_didIteratorError10","_iteratorError10","_iteratorError9","_step10","_iteratorNormalCompletion10","_iterator10","_didIteratorError9","_iterator9","_step9","_iteratorNormalCompletion9","_iteratorNormalCompletion11","_didIteratorError11","_element2","_step11","_iterator11","initialDisplay","_iteratorError11","_didIteratorError12","_iteratorNormalCompletion12","_iterator12","input","_iteratorError12","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step12","_step13","_iterator13","fullyNamespacedEvents","_iteratorNormalCompletion14","_didIteratorError14","_step14","_iterator14","_iteratorError14","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_step15","_iterator15","_iteratorNormalCompletion16","_didIteratorError16","_step16","_iterator16","removeEventListener","_iteratorError16","elem","off","initialSelector","selector","destroy","constructor","get","substring"],"mappings":"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","file":"simple-lightbox.min.js","sourcesContent":["/*!\r\n\tBy Andr√© Rinas, www.andrerinas.de\r\n\tDocumentation, www.simplelightbox.de\r\n\tAvailable for use under the MIT License\r\n\tVersion 2.1.3\r\n*/\n\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar SimpleLightbox =\n/*#__PURE__*/\nfunction () {\n  function SimpleLightbox(elements, options) {\n    var _this = this;\n\n    _classCallCheck(this, SimpleLightbox);\n\n    _defineProperty(this, \"defaultOptions\", {\n      sourceAttr: 'href',\n      overlay: true,\n      spinner: true,\n      nav: true,\n      navText: ['&lsaquo;', '&rsaquo;'],\n      captions: true,\n      captionDelay: 0,\n      captionSelector: 'img',\n      captionType: 'attr',\n      captionsData: 'title',\n      captionPosition: 'bottom',\n      captionClass: '',\n      close: true,\n      closeText: '&times;',\n      swipeClose: true,\n      showCounter: true,\n      fileExt: 'png|jpg|jpeg|gif|webp',\n      animationSlide: true,\n      animationSpeed: 250,\n      preloading: true,\n      enableKeyboard: true,\n      loop: true,\n      rel: false,\n      docClose: true,\n      swipeTolerance: 50,\n      className: 'simple-lightbox',\n      widthRatio: 0.8,\n      heightRatio: 0.9,\n      scaleImageToRatio: false,\n      disableRightClick: false,\n      disableScroll: true,\n      alertError: true,\n      alertErrorMessage: 'Image not found, next image will be loaded',\n      additionalHtml: false,\n      history: true,\n      throttleInterval: 0,\n      doubleTapZoom: 2,\n      maxZoom: 10,\n      htmlClass: 'has-lightbox',\n      rtl: false\n    });\n\n    _defineProperty(this, \"transitionPrefix\", void 0);\n\n    _defineProperty(this, \"transitionCapable\", false);\n\n    _defineProperty(this, \"isTouchDevice\", 'ontouchstart' in window);\n\n    _defineProperty(this, \"initialLocationHash\", void 0);\n\n    _defineProperty(this, \"pushStateSupport\", 'pushState' in history);\n\n    _defineProperty(this, \"isOpen\", false);\n\n    _defineProperty(this, \"isAnimating\", false);\n\n    _defineProperty(this, \"isClosing\", false);\n\n    _defineProperty(this, \"urlChangedOnce\", false);\n\n    _defineProperty(this, \"hashReseted\", false);\n\n    _defineProperty(this, \"historyHasChanges\", false);\n\n    _defineProperty(this, \"historyUpdateTimeout\", null);\n\n    _defineProperty(this, \"currentImage\", void 0);\n\n    _defineProperty(this, \"eventNamespace\", 'simplelightbox');\n\n    _defineProperty(this, \"domNodes\", {});\n\n    _defineProperty(this, \"loadedImages\", []);\n\n    _defineProperty(this, \"initialImageIndex\", 0);\n\n    _defineProperty(this, \"currentImageIndex\", 0);\n\n    _defineProperty(this, \"initialSelector\", null);\n\n    _defineProperty(this, \"globalScrollbarWidth\", 0);\n\n    _defineProperty(this, \"controlCoordinates\", {\n      swipeDiff: 0,\n      swipeYDiff: 0,\n      swipeStart: 0,\n      swipeEnd: 0,\n      swipeYStart: 0,\n      swipeYEnd: 0,\n      mousedown: false,\n      imageLeft: 0,\n      zoomed: false,\n      containerHeight: 0,\n      containerWidth: 0,\n      containerOffsetX: 0,\n      containerOffsetY: 0,\n      imgHeight: 0,\n      imgWidth: 0,\n      capture: false,\n      initialOffsetX: 0,\n      initialOffsetY: 0,\n      initialPointerOffsetX: 0,\n      initialPointerOffsetY: 0,\n      initialPointerOffsetX2: 0,\n      initialPointerOffsetY2: 0,\n      initialScale: 1,\n      initialPinchDistance: 0,\n      pointerOffsetX: 0,\n      pointerOffsetY: 0,\n      pointerOffsetX2: 0,\n      pointerOffsetY2: 0,\n      targetOffsetX: 0,\n      targetOffsetY: 0,\n      targetScale: 0,\n      pinchOffsetX: 0,\n      pinchOffsetY: 0,\n      limitOffsetX: 0,\n      limitOffsetY: 0,\n      scaleDifference: 0,\n      targetPinchDistance: 0,\n      touchCount: 0,\n      doubleTapped: false,\n      touchmoveCount: 0\n    });\n\n    this.options = Object.assign(this.defaultOptions, options);\n\n    if (typeof elements === 'string') {\n      this.initialSelector = elements;\n      this.elements = Array.from(document.querySelectorAll(elements));\n    } else {\n      this.elements = typeof elements.length !== 'undefined' && elements.length > 0 ? Array.from(elements) : [elements];\n    }\n\n    this.relatedElements = [];\n    this.transitionPrefix = this.calculateTransitionPrefix();\n    this.transitionCapable = this.transitionPrefix !== false;\n    this.initialLocationHash = this.hash; // this should be handled by attribute selector IMHO! => 'a[rel=bla]'...\n\n    if (this.options.rel) {\n      this.elements = this.getRelated(this.options.rel);\n    }\n\n    this.createDomNodes();\n\n    if (this.options.close) {\n      this.domNodes.wrapper.appendChild(this.domNodes.closeButton);\n    } // if (this.options.showCounter) {\n    //     if (this.elements.length > 1) {\n    //         this.domNodes.wrapper.appendChild(this.domNodes.counter);\n    //         this.domNodes.counter.querySelector('.sl-total').innerHTML = this.elements.length;\n    //     }\n    // }\n\n\n    if (this.options.nav) {\n      this.domNodes.wrapper.appendChild(this.domNodes.navigation);\n    }\n\n    if (this.options.spinner) {\n      this.domNodes.wrapper.appendChild(this.domNodes.spinner);\n    }\n\n    this.addEventListener(this.elements, 'click.' + this.eventNamespace, function (event) {\n      if (_this.isValidLink(event.currentTarget)) {\n        event.preventDefault();\n\n        if (_this.isAnimating) {\n          return false;\n        }\n\n        _this.initialImageIndex = _this.elements.indexOf(event.currentTarget);\n\n        _this.openImage(event.currentTarget);\n      }\n    }); // close addEventListener click addEventListener doc\n\n    if (this.options.docClose) {\n      this.addEventListener(this.domNodes.overlay, ['click.' + this.eventNamespace, 'touchstart.' + this.eventNamespace], function (event) {\n        if (_this.isOpen) {\n          _this.close();\n        }\n      });\n    } // disable rightclick\n\n\n    if (this.options.disableRightClick) {\n      this.addEventListener(document.body, 'contextmenu.' + this.eventNamespace, function (event) {\n        if (event.target.classList.contains('sl-overlay')) {\n          event.preventDefault();\n        }\n      });\n    } // keyboard-control\n\n\n    if (this.options.enableKeyboard) {\n      this.addEventListener(document.body, 'keyup.' + this.eventNamespace, this.throttle(function (event) {\n        _this.controlCoordinates.swipeDiff = 0; // keyboard control only if lightbox is open\n\n        if (_this.isAnimating && event.key === 'Escape') {\n          _this.currentImage.setAttribute('src', '');\n\n          _this.isAnimating = false;\n          return _this.close();\n        }\n\n        if (_this.isOpen) {\n          event.preventDefault();\n\n          if (event.key === 'Escape') {\n            _this.close();\n          }\n\n          if (!_this.isAnimating && ['ArrowLeft', 'ArrowRight'].indexOf(event.key) > -1) {\n            _this.loadImage(event.key === 'ArrowRight' ? 1 : -1);\n          }\n        }\n      }, this.options.throttleInterval));\n    }\n\n    this.addEvents();\n  }\n\n  _createClass(SimpleLightbox, [{\n    key: \"createDomNodes\",\n    value: function createDomNodes() {\n      this.domNodes.overlay = document.createElement('div');\n      this.domNodes.overlay.classList.add('sl-overlay');\n      this.domNodes.overlay.dataset.opacityTarget = \".7\";\n      this.domNodes.closeButton = document.createElement('button');\n      this.domNodes.closeButton.classList.add('sl-close');\n      this.domNodes.closeButton.innerHTML = this.options.closeText;\n      this.domNodes.spinner = document.createElement('div');\n      this.domNodes.spinner.classList.add('sl-spinner');\n      this.domNodes.spinner.innerHTML = '<div></div>';\n      this.domNodes.navigation = document.createElement('div');\n      this.domNodes.navigation.classList.add('sl-navigation');\n      this.domNodes.navigation.innerHTML = \"<button class=\\\"sl-prev\\\">\".concat(this.options.navText[0], \"</button><button class=\\\"sl-next\\\">\").concat(this.options.navText[1], \"</button>\");\n      this.domNodes.counter = document.createElement('div');\n      this.domNodes.counter.classList.add('sl-counter');\n      this.domNodes.counter.innerHTML = '<span class=\"sl-current\"></span>/<span class=\"sl-total\"></span>';\n      this.domNodes.caption = document.createElement('div');\n      this.domNodes.caption.classList.add('sl-caption', 'pos-' + this.options.captionPosition);\n\n      if (this.options.captionClass) {\n        this.domNodes.caption.classList.add(this.options.captionClass);\n      }\n\n      this.domNodes.image = document.createElement('div');\n      this.domNodes.image.classList.add('sl-image');\n      this.domNodes.wrapper = document.createElement('div');\n      this.domNodes.wrapper.classList.add('sl-wrapper');\n\n      if (this.options.className) {\n        this.domNodes.wrapper.classList.add(this.options.className);\n      }\n\n      if (this.options.rtl) {\n        this.domNodes.wrapper.classList.add('sl-dir-rtl');\n      }\n    }\n  }, {\n    key: \"throttle\",\n    value: function throttle(func, limit) {\n      var inThrottle;\n      return function () {\n        if (!inThrottle) {\n          func.apply(this, arguments);\n          inThrottle = true;\n          setTimeout(function () {\n            return inThrottle = false;\n          }, limit);\n        }\n      };\n    }\n  }, {\n    key: \"isValidLink\",\n    value: function isValidLink(element) {\n      return !this.options.fileExt || 'pathname' in element && new RegExp('(' + this.options.fileExt + ')$', 'i').test(element.pathname);\n    }\n  }, {\n    key: \"calculateTransitionPrefix\",\n    value: function calculateTransitionPrefix() {\n      var s = (document.body || document.documentElement).style;\n      return 'transition' in s ? '' : 'WebkitTransition' in s ? '-webkit-' : 'MozTransition' in s ? '-moz-' : 'OTransition' in s ? '-o' : false;\n    }\n  }, {\n    key: \"toggleScrollbar\",\n    value: function toggleScrollbar(type) {\n      var scrollbarWidth = 0;\n\n      if (type === 'hide') {\n        var fullWindowWidth = window.innerWidth;\n\n        if (!fullWindowWidth) {\n          var documentElementRect = document.documentElement.getBoundingClientRect();\n          fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left);\n        }\n\n        if (document.body.clientWidth < fullWindowWidth) {\n          var scrollDiv = document.createElement('div'),\n              paddingRight = parseInt(document.body.style.paddingRight || 0, 10);\n          scrollDiv.classList.add('sl-scrollbar-measure');\n          document.body.appendChild(scrollDiv);\n          scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n          document.body.removeChild(scrollDiv);\n          document.body.dataset.originalPaddingRight = paddingRight;\n\n          if (scrollbarWidth > 0) {\n            document.body.classList.add('hidden-scroll');\n            document.body.style.paddingRight = paddingRight + scrollbarWidth + 'px';\n          }\n        }\n      } else {\n        document.body.classList.remove('hidden-scroll');\n        document.body.style.paddingRight = document.body.dataset.originalPaddingRight;\n      }\n\n      return scrollbarWidth;\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      var _this2 = this;\n\n      if (!this.isOpen || this.isAnimating || this.isClosing) {\n        return false;\n      }\n\n      this.isClosing = true;\n      var element = this.relatedElements[this.currentImageIndex];\n      element.dispatchEvent(new Event('close.simplelightbox'));\n\n      if (this.options.history) {\n        this.historyHasChanges = false;\n\n        if (!this.hashReseted) {\n          this.resetHash();\n        }\n      }\n\n      this.fadeOut(document.querySelectorAll('.sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter'), 300, function () {\n        if (_this2.options.disableScroll) {\n          _this2.toggleScrollbar('show');\n        }\n\n        if (_this2.options.htmlClass && _this2.options.htmlClass !== '') {\n          document.querySelector('html').classList.remove(_this2.options.htmlClass);\n        }\n\n        document.body.removeChild(_this2.domNodes.wrapper);\n        document.body.removeChild(_this2.domNodes.overlay);\n        _this2.domNodes.additionalHtml = null;\n        element.dispatchEvent(new Event('closed.simplelightbox'));\n        _this2.isClosing = false;\n      });\n      this.currentImage = null;\n      this.isOpen = false;\n      this.isAnimating = false; // reset touchcontrol coordinates\n\n      for (var key in this.controlCoordinates) {\n        this.controlCoordinates[key] = 0;\n      }\n\n      this.controlCoordinates.mousedown = false;\n      this.controlCoordinates.zoomed = false;\n      this.controlCoordinates.capture = false;\n      this.controlCoordinates.initialScale = this.minMax(1, 1, this.options.maxZoom);\n      this.controlCoordinates.doubleTapped = false;\n    }\n  }, {\n    key: \"preload\",\n    value: function preload() {\n      var _this3 = this;\n\n      var index = this.currentImageIndex,\n          length = this.relatedElements.length,\n          next = index + 1 < 0 ? length - 1 : index + 1 >= length - 1 ? 0 : index + 1,\n          prev = index - 1 < 0 ? length - 1 : index - 1 >= length - 1 ? 0 : index - 1,\n          nextImage = new Image(),\n          prevImage = new Image();\n      nextImage.addEventListener('load', function (event) {\n        var src = event.target.getAttribute('src');\n\n        if (_this3.loadedImages.indexOf(src) === -1) {\n          //is this condition even required... setting multiple times will not change usage...\n          _this3.loadedImages.push(src);\n        }\n\n        _this3.relatedElements[index].dispatchEvent(new Event('nextImageLoaded.' + _this3.eventNamespace));\n      });\n      nextImage.setAttribute('src', this.relatedElements[next].getAttribute(this.options.sourceAttr));\n      prevImage.addEventListener('load', function (event) {\n        var src = event.target.getAttribute('src');\n\n        if (_this3.loadedImages.indexOf(src) === -1) {\n          _this3.loadedImages.push(src);\n        }\n\n        _this3.relatedElements[index].dispatchEvent(new Event('prevImageLoaded.' + _this3.eventNamespace));\n      });\n      prevImage.setAttribute('src', this.relatedElements[prev].getAttribute(this.options.sourceAttr));\n    }\n  }, {\n    key: \"loadImage\",\n    value: function loadImage(direction) {\n      var _this4 = this;\n\n      var slideDirection = direction;\n\n      if (this.options.rtl) {\n        direction = -direction;\n      }\n\n      this.relatedElements[this.currentImageIndex].dispatchEvent(new Event('change.' + this.eventNamespace));\n      this.relatedElements[this.currentImageIndex].dispatchEvent(new Event((direction === 1 ? 'next' : 'prev') + '.' + this.eventNamespace));\n      var newIndex = this.currentImageIndex + direction;\n\n      if (this.isAnimating || (newIndex < 0 || newIndex >= this.relatedElements.length) && this.options.loop === false) {\n        return false;\n      }\n\n      this.currentImageIndex = newIndex < 0 ? this.relatedElements.length - 1 : newIndex > this.relatedElements.length - 1 ? 0 : newIndex;\n      this.domNodes.counter.querySelector('.sl-current').innerHTML = this.currentImageIndex + 1;\n\n      if (this.options.animationSlide) {\n        this.slide(this.options.animationSpeed / 1000, -100 * slideDirection - this.controlCoordinates.swipeDiff + 'px');\n      }\n\n      this.fadeOut(this.domNodes.image, 300, function () {\n        _this4.isAnimating = true;\n        setTimeout(function () {\n          var element = _this4.relatedElements[_this4.currentImageIndex];\n\n          _this4.currentImage.setAttribute('src', element.getAttribute(_this4.options.sourceAttr));\n\n          if (_this4.loadedImages.indexOf(element.getAttribute(_this4.options.sourceAttr)) === -1) {\n            _this4.show(_this4.domNodes.spinner);\n          }\n\n          if (_this4.domNodes.image.contains(_this4.domNodes.caption)) {\n            _this4.domNodes.image.removeChild(_this4.domNodes.caption);\n          }\n\n          _this4.adjustImage(slideDirection);\n\n          if (_this4.options.preloading) _this4.preload();\n        }, 100);\n      });\n    }\n  }, {\n    key: \"adjustImage\",\n    value: function adjustImage(direction) {\n      var _this5 = this;\n\n      if (!this.currentImage) {\n        return false;\n      }\n\n      var tmpImage = new Image(),\n          windowWidth = window.innerWidth * this.options.widthRatio,\n          windowHeight = window.innerHeight * this.options.heightRatio;\n      tmpImage.setAttribute('src', this.currentImage.getAttribute('src'));\n      this.currentImage.dataset.scale = 1;\n      this.currentImage.dataset.translateX = 0;\n      this.currentImage.dataset.translateY = 0;\n      this.zoomPanElement(0, 0, 1);\n      tmpImage.addEventListener('error', function (event) {\n        _this5.relatedElements[_this5.currentImageIndex].dispatchEvent(new Event('error.' + _this5.eventNamespace));\n\n        _this5.isAnimating = false;\n        _this5.isOpen = false;\n        _this5.domNodes.spinner.style.display = 'none';\n        var dirIsDefined = direction === 1 || direction === -1;\n\n        if (_this5.initialImageIndex === _this5.currentImageIndex && dirIsDefined) {\n          return _this5.close();\n        }\n\n        if (_this5.options.alertError) {\n          alert(_this5.options.alertErrorMessage);\n        }\n\n        _this5.loadImage(dirIsDefined ? direction : 1);\n      });\n      tmpImage.addEventListener('load', function (event) {\n        if (typeof direction !== 'undefined') {\n          _this5.relatedElements[_this5.currentImageIndex].dispatchEvent(new Event('changed.' + _this5.eventNamespace));\n\n          _this5.relatedElements[_this5.currentImageIndex].dispatchEvent(new Event((direction === 1 ? 'nextDone' : 'prevDone') + '.' + _this5.eventNamespace));\n        } // history\n\n\n        if (_this5.options.history) {\n          _this5.updateURL();\n        }\n\n        if (_this5.loadedImages.indexOf(_this5.currentImage.getAttribute('src')) === -1) {\n          _this5.loadedImages.push(_this5.currentImage.getAttribute('src'));\n        }\n\n        var imageWidth = event.target.width,\n            imageHeight = event.target.height;\n\n        if (_this5.options.scaleImageToRatio || imageWidth > windowWidth || imageHeight > windowHeight) {\n          var ratio = imageWidth / imageHeight > windowWidth / windowHeight ? imageWidth / windowWidth : imageHeight / windowHeight;\n          imageWidth /= ratio;\n          imageHeight /= ratio;\n        }\n\n        _this5.domNodes.image.style.top = (window.innerHeight - imageHeight) / 2 + 'px';\n        _this5.domNodes.image.style.left = (window.innerWidth - imageWidth - _this5.globalScrollbarWidth) / 2 + 'px';\n        _this5.domNodes.image.style.width = imageWidth + 'px';\n        _this5.domNodes.image.style.height = imageHeight + 'px';\n        _this5.domNodes.spinner.style.display = 'none';\n\n        _this5.fadeIn(_this5.currentImage, 300);\n\n        _this5.isOpen = true;\n        var captionContainer = _this5.options.captionSelector === 'self' ? _this5.relatedElements[_this5.currentImageIndex] : _this5.relatedElements[_this5.currentImageIndex].querySelector(_this5.options.captionSelector),\n            captionText;\n\n        if (_this5.options.captions && captionContainer) {\n          if (_this5.options.captionType === 'data') {\n            captionText = captionContainer.dataset[_this5.options.captionsData];\n          } else if (_this5.options.captionType === 'text') {\n            captionText = captionContainer.innerHTML;\n          } else {\n            captionText = captionContainer.getAttribute(_this5.options.captionsData);\n          }\n        }\n\n        if (!_this5.options.loop) {\n          if (_this5.currentImageIndex === 0) {\n            _this5.hide(_this5.domNodes.navigation.querySelector('.sl-prev'));\n          }\n\n          if (_this5.currentImageIndex >= _this5.relatedElements.length - 1) {\n            _this5.hide(_this5.domNodes.navigation.querySelector('.sl-next'));\n          }\n\n          if (_this5.currentImageIndex > 0) {\n            _this5.show(_this5.domNodes.navigation.querySelector('.sl-prev'));\n          }\n\n          if (_this5.currentImageIndex < _this5.relatedElements.length - 1) {\n            _this5.show(_this5.domNodes.navigation.querySelector('.sl-next'));\n          }\n        }\n\n        if (_this5.relatedElements.length === 1) {\n          _this5.hide(_this5.domNodes.navigation.querySelectorAll('.sl-prev, .sl-next'));\n        } else {\n          _this5.show(_this5.domNodes.navigation.querySelectorAll('.sl-prev, .sl-next'));\n        }\n\n        if (direction === 1 || direction === -1) {\n          if (_this5.options.animationSlide) {\n            _this5.slide(0, 100 * direction + 'px');\n\n            setTimeout(function () {\n              _this5.slide(_this5.options.animationSpeed / 1000, 0 + 'px');\n            }, 50);\n          }\n\n          _this5.fadeIn(_this5.domNodes.image, 300, function () {\n            _this5.isAnimating = false;\n\n            _this5.setCaption(captionText, imageWidth);\n          });\n        } else {\n          _this5.isAnimating = false;\n\n          _this5.setCaption(captionText, imageWidth);\n        }\n\n        if (_this5.options.additionalHtml && !_this5.domNodes.additionalHtml) {\n          _this5.domNodes.additionalHtml = document.createElement('div');\n\n          _this5.domNodes.additionalHtml.classList.add('sl-additional-html');\n\n          _this5.domNodes.additionalHtml.innerHTML = _this5.options.additionalHtml;\n\n          _this5.domNodes.image.appendChild(_this5.domNodes.additionalHtml);\n        }\n      });\n    }\n  }, {\n    key: \"zoomPanElement\",\n    value: function zoomPanElement(targetOffsetX, targetOffsetY, targetScale) {\n      this.currentImage.style[this.transitionPrefix + 'transform'] = 'translate(' + targetOffsetX + ',' + targetOffsetY + ') scale(' + targetScale + ')';\n    }\n  }, {\n    key: \"minMax\",\n    value: function minMax(value, min, max) {\n      return value < min ? min : value > max ? max : value;\n    }\n  }, {\n    key: \"setZoomData\",\n    value: function setZoomData(initialScale, targetOffsetX, targetOffsetY) {\n      this.currentImage.dataset.scale = initialScale;\n      this.currentImage.dataset.translateX = targetOffsetX;\n      this.currentImage.dataset.translateY = targetOffsetY;\n    }\n  }, {\n    key: \"hashchangeHandler\",\n    value: function hashchangeHandler() {\n      if (this.isOpen && this.hash === this.initialLocationHash) {\n        this.hashReseted = true;\n        this.close();\n      }\n    }\n  }, {\n    key: \"addEvents\",\n    value: function addEvents() {\n      var _this6 = this;\n\n      // resize/responsive\n      this.addEventListener(window, 'resize.' + this.eventNamespace, function (event) {\n        //this.adjustImage.bind(this)\n        if (_this6.isOpen) {\n          _this6.adjustImage();\n        }\n      });\n      this.addEventListener(this.domNodes.closeButton, ['click.' + this.eventNamespace, 'touchstart.' + this.eventNamespace], this.close.bind(this));\n\n      if (this.options.history) {\n        setTimeout(function () {\n          _this6.addEventListener(window, 'hashchange.' + _this6.eventNamespace, function (event) {\n            if (_this6.isOpen) {\n              _this6.hashchangeHandler();\n            }\n          });\n        }, 40);\n      }\n\n      this.addEventListener(this.domNodes.navigation.getElementsByTagName('button'), 'click.' + this.eventNamespace, function (event) {\n        if (!event.currentTarget.tagName.match(/button/i)) {\n          return true;\n        }\n\n        event.preventDefault();\n        _this6.controlCoordinates.swipeDiff = 0;\n\n        _this6.loadImage(event.currentTarget.classList.contains('sl-next') ? 1 : -1);\n      });\n      this.addEventListener(this.domNodes.image, ['touchstart.' + this.eventNamespace, 'mousedown.' + this.eventNamespace], function (event) {\n        if (event.target.tagName === 'A' && event.type === 'touchstart') {\n          return true;\n        }\n\n        if (event.type === 'mousedown') {\n          _this6.controlCoordinates.initialPointerOffsetX = event.clientX;\n          _this6.controlCoordinates.initialPointerOffsetY = event.clientY;\n          _this6.controlCoordinates.containerHeight = _this6.getDimensions(_this6.domNodes.image).height;\n          _this6.controlCoordinates.containerWidth = _this6.getDimensions(_this6.domNodes.image).width;\n          _this6.controlCoordinates.imgHeight = _this6.getDimensions(_this6.currentImage).height;\n          _this6.controlCoordinates.imgWidth = _this6.getDimensions(_this6.currentImage).width;\n          _this6.controlCoordinates.containerOffsetX = _this6.domNodes.image.offsetLeft;\n          _this6.controlCoordinates.containerOffsetY = _this6.domNodes.image.offsetTop;\n          _this6.controlCoordinates.initialOffsetX = parseFloat(_this6.currentImage.dataset.translateX);\n          _this6.controlCoordinates.initialOffsetY = parseFloat(_this6.currentImage.dataset.translateY);\n          _this6.controlCoordinates.capture = true;\n        } else {\n          _this6.controlCoordinates.touchCount = event.touches.length;\n          _this6.controlCoordinates.initialPointerOffsetX = event.touches[0].clientX;\n          _this6.controlCoordinates.initialPointerOffsetY = event.touches[0].clientY;\n          _this6.controlCoordinates.containerHeight = _this6.getDimensions(_this6.domNodes.image).height;\n          _this6.controlCoordinates.containerWidth = _this6.getDimensions(_this6.domNodes.image).width;\n          _this6.controlCoordinates.imgHeight = _this6.getDimensions(_this6.currentImage).height;\n          _this6.controlCoordinates.imgWidth = _this6.getDimensions(_this6.currentImage).width;\n          _this6.controlCoordinates.containerOffsetX = _this6.domNodes.image.offsetLeft;\n          _this6.controlCoordinates.containerOffsetY = _this6.domNodes.image.offsetTop;\n\n          if (_this6.controlCoordinates.touchCount === 1)\n            /* Single touch */\n            {\n              if (!_this6.controlCoordinates.doubleTapped) {\n                _this6.controlCoordinates.doubleTapped = true;\n                setTimeout(function () {\n                  _this6.controlCoordinates.doubleTapped = false;\n                }, 300);\n              } else {\n                _this6.currentImage.classList.add('sl-transition');\n\n                if (!_this6.controlCoordinates.zoomed) {\n                  _this6.controlCoordinates.initialScale = _this6.options.doubleTapZoom;\n\n                  _this6.setZoomData(0, 0, _this6.controlCoordinates.initialScale);\n\n                  _this6.zoomPanElement(0 + \"px\", 0 + \"px\", _this6.controlCoordinates.initialScale);\n\n                  if (!_this6.domNodes.caption.style.opacity && _this6.domNodes.caption.style.display !== 'none') {\n                    _this6.fadeOut(_this6.domNodes.caption, 200);\n                  }\n\n                  _this6.controlCoordinates.zoomed = true;\n                } else {\n                  _this6.controlCoordinates.initialScale = 1;\n\n                  _this6.setZoomData(0, 0, _this6.controlCoordinates.initialScale);\n\n                  _this6.zoomPanElement(0 + \"px\", 0 + \"px\", _this6.controlCoordinates.initialScale);\n\n                  _this6.controlCoordinates.zoomed = false;\n                }\n\n                setTimeout(function () {\n                  if (_this6.currentImage) {\n                    _this6.currentImage.classList.remove('sl-transition');\n                  }\n                }, 200);\n                return false;\n              }\n\n              _this6.controlCoordinatesinitialOffsetX = parseFloat(_this6.currentImage.dataset.translateX);\n              _this6.controlCoordinatesinitialOffsetY = parseFloat(_this6.currentImage.dataset.translateY);\n            } else if (_this6.controlCoordinates.touchCount === 2)\n            /* Pinch */\n            {\n              _this6.controlCoordinates.initialPointerOffsetX2 = event.touches[1].clientX;\n              _this6.controlCoordinates.initialPointerOffsetY2 = event.touches[1].clientY;\n              _this6.controlCoordinatesinitialOffsetX = parseFloat(_this6.currentImage.dataset.translateX);\n              _this6.controlCoordinatesinitialOffsetY = parseFloat(_this6.currentImage.dataset.translateY);\n              _this6.controlCoordinates.pinchOffsetX = (_this6.controlCoordinates.initialPointerOffsetX + _this6.controlCoordinates.initialPointerOffsetX2) / 2;\n              _this6.controlCoordinates.pinchOffsetY = (_this6.controlCoordinates.initialPointerOffsetY + _this6.controlCoordinates.initialPointerOffsetY2) / 2;\n              _this6.controlCoordinates.initialPinchDistance = Math.sqrt((_this6.controlCoordinates.initialPointerOffsetX - _this6.controlCoordinates.initialPointerOffsetX2) * (_this6.controlCoordinates.initialPointerOffsetX - _this6.controlCoordinates.initialPointerOffsetX2) + (_this6.controlCoordinates.initialPointerOffsetY - _this6.controlCoordinates.initialPointerOffsetY2) * (_this6.controlCoordinates.initialPointerOffsetY - _this6.controlCoordinates.initialPointerOffsetY2));\n            }\n\n          _this6.controlCoordinates.capture = true;\n        }\n\n        if (_this6.controlCoordinates.mousedown) return true;\n\n        if (_this6.transitionCapable) {\n          _this6.controlCoordinates.imageLeft = parseInt(_this6.domNodes.image.style.left, 10);\n        }\n\n        _this6.controlCoordinates.mousedown = true;\n        _this6.controlCoordinates.swipeDiff = 0;\n        _this6.controlCoordinates.swipeYDiff = 0;\n        _this6.controlCoordinates.swipeStart = event.pageX || event.touches[0].pageX;\n        _this6.controlCoordinates.swipeYStart = event.pageY || event.touches[0].pageY;\n        return false;\n      });\n      this.addEventListener(this.domNodes.image, ['touchmove.' + this.eventNamespace, 'mousemove.' + this.eventNamespace, 'MSPointerMove'], function (event) {\n        if (!_this6.controlCoordinates.mousedown) {\n          return true;\n        }\n\n        event.preventDefault();\n\n        if (event.type === 'touchmove') {\n          if (_this6.controlCoordinates.capture === false) {\n            return false;\n          }\n\n          _this6.controlCoordinates.pointerOffsetX = event.touches[0].clientX;\n          _this6.controlCoordinates.pointerOffsetY = event.touches[0].clientY;\n          _this6.controlCoordinates.touchCount = event.touches.length;\n          _this6.controlCoordinates.touchmoveCount++;\n\n          if (_this6.controlCoordinates.touchCount > 1)\n            /* Pinch */\n            {\n              _this6.controlCoordinates.pointerOffsetX2 = event.touches[1].clientX;\n              _this6.controlCoordinates.pointerOffsetY2 = event.touches[1].clientY;\n              _this6.controlCoordinates.targetPinchDistance = Math.sqrt((_this6.controlCoordinates.pointerOffsetX - _this6.controlCoordinates.pointerOffsetX2) * (_this6.controlCoordinates.pointerOffsetX - _this6.controlCoordinates.pointerOffsetX2) + (_this6.controlCoordinates.pointerOffsetY - _this6.controlCoordinates.pointerOffsetY2) * (_this6.controlCoordinates.pointerOffsetY - _this6.controlCoordinates.pointerOffsetY2));\n\n              if (_this6.controlCoordinates.initialPinchDistance === null) {\n                _this6.controlCoordinates.initialPinchDistance = _this6.controlCoordinates.targetPinchDistance;\n              }\n\n              if (Math.abs(_this6.controlCoordinates.initialPinchDistance - _this6.controlCoordinates.targetPinchDistance) >= 1) {\n                /* Initialize helpers */\n                _this6.controlCoordinates.targetScale = _this6.minMax(_this6.controlCoordinates.targetPinchDistance / _this6.controlCoordinates.initialPinchDistance * _this6.controlCoordinates.initialScale, 1, _this6.options.maxZoom);\n                _this6.controlCoordinates.limitOffsetX = (_this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerWidth) / 2;\n                _this6.controlCoordinates.limitOffsetY = (_this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerHeight) / 2;\n                _this6.controlCoordinates.scaleDifference = _this6.controlCoordinates.targetScale - _this6.controlCoordinates.initialScale;\n                _this6.controlCoordinates.targetOffsetX = _this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerWidth ? 0 : _this6.minMax(_this6.controlCoordinates.initialOffsetX - (_this6.controlCoordinates.pinchOffsetX - _this6.controlCoordinates.containerOffsetX - _this6.controlCoordinates.containerWidth / 2 - _this6.controlCoordinates.initialOffsetX) / (_this6.controlCoordinates.targetScale - _this6.controlCoordinates.scaleDifference) * _this6.controlCoordinates.scaleDifference, _this6.controlCoordinates.limitOffsetX * -1, _this6.controlCoordinates.limitOffsetX);\n                _this6.controlCoordinates.targetOffsetY = _this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerHeight ? 0 : _this6.minMax(_this6.controlCoordinates.initialOffsetY - (_this6.controlCoordinates.pinchOffsetY - _this6.controlCoordinates.containerOffsetY - _this6.controlCoordinates.containerHeight / 2 - _this6.controlCoordinates.initialOffsetY) / (_this6.controlCoordinates.targetScale - _this6.controlCoordinates.scaleDifference) * _this6.controlCoordinates.scaleDifference, _this6.controlCoordinates.limitOffsetY * -1, _this6.controlCoordinates.limitOffsetY);\n\n                _this6.zoomPanElement(_this6.controlCoordinates.targetOffsetX + \"px\", _this6.controlCoordinates.targetOffsetY + \"px\", _this6.controlCoordinates.targetScale);\n\n                if (_this6.controlCoordinates.targetScale > 1) {\n                  _this6.controlCoordinates.zoomed = true;\n\n                  if (!_this6.domNodes.caption.style.opacity && _this6.domNodes.caption.style.display !== 'none') {\n                    _this6.fadeOut(_this6.domNodes.caption, 200);\n                  }\n                }\n\n                _this6.controlCoordinates.initialPinchDistance = _this6.controlCoordinates.targetPinchDistance;\n                _this6.controlCoordinates.initialScale = _this6.controlCoordinates.targetScale;\n                _this6.controlCoordinates.initialOffsetX = _this6.controlCoordinates.targetOffsetX;\n                _this6.controlCoordinates.initialOffsetY = _this6.controlCoordinates.targetOffsetY;\n              }\n            } else {\n            _this6.controlCoordinates.targetScale = _this6.controlCoordinates.initialScale;\n            _this6.controlCoordinates.limitOffsetX = (_this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerWidth) / 2;\n            _this6.controlCoordinates.limitOffsetY = (_this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerHeight) / 2;\n            _this6.controlCoordinates.targetOffsetX = _this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerWidth ? 0 : _this6.minMax(_this6.controlCoordinates.pointerOffsetX - (_this6.controlCoordinates.initialPointerOffsetX - _this6.controlCoordinates.initialOffsetX), _this6.controlCoordinates.limitOffsetX * -1, _this6.controlCoordinates.limitOffsetX);\n            _this6.controlCoordinates.targetOffsetY = _this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerHeight ? 0 : _this6.minMax(_this6.controlCoordinates.pointerOffsetY - (_this6.controlCoordinates.initialPointerOffsetY - _this6.controlCoordinates.initialOffsetY), _this6.controlCoordinates.limitOffsetY * -1, _this6.controlCoordinates.limitOffsetY);\n\n            if (Math.abs(_this6.controlCoordinates.targetOffsetX) === Math.abs(_this6.controlCoordinates.limitOffsetX)) {\n              _this6.controlCoordinates.initialOffsetX = _this6.controlCoordinates.targetOffsetX;\n              _this6.controlCoordinates.initialPointerOffsetX = _this6.controlCoordinates.pointerOffsetX;\n            }\n\n            if (Math.abs(_this6.controlCoordinates.targetOffsetY) === Math.abs(_this6.controlCoordinates.limitOffsetY)) {\n              _this6.controlCoordinates.initialOffsetY = _this6.controlCoordinates.targetOffsetY;\n              _this6.controlCoordinates.initialPointerOffsetY = _this6.controlCoordinates.pointerOffsetY;\n            }\n\n            _this6.setZoomData(_this6.controlCoordinates.initialScale, _this6.controlCoordinates.targetOffsetX, _this6.controlCoordinates.targetOffsetY);\n\n            _this6.zoomPanElement(_this6.controlCoordinates.targetOffsetX + \"px\", _this6.controlCoordinates.targetOffsetY + \"px\", _this6.controlCoordinates.targetScale);\n          }\n        }\n        /* Mouse Move implementation */\n\n\n        if (event.type === 'mousemove' && _this6.controlCoordinates.mousedown) {\n          if (event.type == 'touchmove') return true;\n          if (_this6.controlCoordinates.capture === false) return false;\n          _this6.controlCoordinates.pointerOffsetX = event.clientX;\n          _this6.controlCoordinates.pointerOffsetY = event.clientY;\n          _this6.controlCoordinates.targetScale = _this6.controlCoordinates.initialScale;\n          _this6.controlCoordinates.limitOffsetX = (_this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerWidth) / 2;\n          _this6.controlCoordinates.limitOffsetY = (_this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale - _this6.controlCoordinates.containerHeight) / 2;\n          _this6.controlCoordinates.targetOffsetX = _this6.controlCoordinates.imgWidth * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerWidth ? 0 : _this6.minMax(_this6.controlCoordinates.pointerOffsetX - (_this6.controlCoordinates.initialPointerOffsetX - _this6.controlCoordinates.initialOffsetX), _this6.controlCoordinates.limitOffsetX * -1, _this6.controlCoordinates.limitOffsetX);\n          _this6.controlCoordinates.targetOffsetY = _this6.controlCoordinates.imgHeight * _this6.controlCoordinates.targetScale <= _this6.controlCoordinates.containerHeight ? 0 : _this6.minMax(_this6.controlCoordinates.pointerOffsetY - (_this6.controlCoordinates.initialPointerOffsetY - _this6.controlCoordinates.initialOffsetY), _this6.controlCoordinates.limitOffsetY * -1, _this6.controlCoordinates.limitOffsetY);\n\n          if (Math.abs(_this6.controlCoordinates.targetOffsetX) === Math.abs(_this6.controlCoordinates.limitOffsetX)) {\n            _this6.controlCoordinates.initialOffsetX = _this6.controlCoordinates.targetOffsetX;\n            _this6.controlCoordinates.initialPointerOffsetX = _this6.controlCoordinates.pointerOffsetX;\n          }\n\n          if (Math.abs(_this6.controlCoordinates.targetOffsetY) === Math.abs(_this6.controlCoordinates.limitOffsetY)) {\n            _this6.controlCoordinates.initialOffsetY = _this6.controlCoordinates.targetOffsetY;\n            _this6.controlCoordinates.initialPointerOffsetY = _this6.controlCoordinates.pointerOffsetY;\n          }\n\n          _this6.setZoomData(_this6.controlCoordinates.initialScale, _this6.controlCoordinates.targetOffsetX, _this6.controlCoordinates.targetOffsetY);\n\n          _this6.zoomPanElement(_this6.controlCoordinates.targetOffsetX + \"px\", _this6.controlCoordinates.targetOffsetY + \"px\", _this6.controlCoordinates.targetScale);\n        }\n\n        if (!_this6.controlCoordinates.zoomed) {\n          _this6.controlCoordinates.swipeEnd = event.pageX || event.touches[0].pageX;\n          _this6.controlCoordinates.swipeYEnd = event.pageY || event.touches[0].pageY;\n          _this6.controlCoordinates.swipeDiff = _this6.controlCoordinates.swipeStart - _this6.controlCoordinates.swipeEnd;\n          _this6.controlCoordinates.swipeYDiff = _this6.controlCoordinates.swipeYStart - _this6.controlCoordinates.swipeYEnd;\n\n          if (_this6.options.animationSlide) {\n            _this6.slide(0, -_this6.controlCoordinates.swipeDiff + 'px');\n          }\n        }\n      });\n      this.addEventListener(this.domNodes.image, ['touchend.' + this.eventNamespace, 'mouseup.' + this.eventNamespace, 'touchcancel.' + this.eventNamespace, 'mouseleave.' + this.eventNamespace, 'pointerup', 'pointercancel', 'MSPointerUp', 'MSPointerCancel'], function (event) {\n        if (_this6.isTouchDevice && event.type === 'touchend') {\n          _this6.controlCoordinates.touchCount = event.touches.length;\n\n          if (_this6.controlCoordinates.touchCount === 0)\n            /* No touch */\n            {\n              /* Set attributes */\n              _this6.setZoomData(_this6.controlCoordinates.initialScale, _this6.controlCoordinates.targetOffsetX, _this6.controlCoordinates.targetOffsetY);\n\n              if (_this6.controlCoordinates.initialScale === 1) {\n                _this6.controlCoordinates.zoomed = false;\n\n                if (_this6.domNodes.caption.style.display === 'none') {\n                  _this6.fadeIn(_this6.domNodes.caption, 200);\n                }\n              }\n\n              _this6.controlCoordinates.initialPinchDistance = null;\n              _this6.controlCoordinates.capture = false;\n            } else if (_this6.controlCoordinates.touchCount === 1)\n            /* Single touch */\n            {\n              _this6.controlCoordinates.initialPointerOffsetX = event.touches[0].clientX;\n              _this6.controlCoordinates.initialPointerOffsetY = event.touches[0].clientY;\n            } else if (_this6.controlCoordinates.touchCount > 1)\n            /* Pinch */\n            {\n              _this6.controlCoordinates.initialPinchDistance = null;\n            }\n        }\n\n        if (_this6.controlCoordinates.mousedown) {\n          _this6.controlCoordinates.mousedown = false;\n          var possibleDir = true;\n\n          if (!_this6.options.loop) {\n            if (_this6.currentImageIndex === 0 && _this6.controlCoordinates.swipeDiff < 0) {\n              possibleDir = false;\n            }\n\n            if (_this6.currentImageIndex >= _this6.relatedElements.length - 1 && _this6.controlCoordinates.swipeDiff > 0) {\n              possibleDir = false;\n            }\n          }\n\n          if (Math.abs(_this6.controlCoordinates.swipeDiff) > _this6.options.swipeTolerance && possibleDir) {\n            _this6.loadImage(_this6.controlCoordinates.swipeDiff > 0 ? 1 : -1);\n          } else if (_this6.options.animationSlide) {\n            _this6.slide(_this6.options.animationSpeed / 1000, 0 + 'px');\n          }\n\n          if (_this6.options.swipeClose && Math.abs(_this6.controlCoordinates.swipeYDiff) > 50 && Math.abs(_this6.controlCoordinates.swipeDiff) < _this6.options.swipeTolerance) {\n            _this6.close();\n          }\n        }\n      });\n      this.addEventListener(this.domNodes.image, ['dblclick'], function (event) {\n        _this6.controlCoordinates.initialPointerOffsetX = event.clientX;\n        _this6.controlCoordinates.initialPointerOffsetY = event.clientY;\n        _this6.controlCoordinates.containerHeight = _this6.getDimensions(_this6.domNodes.image).height;\n        _this6.controlCoordinates.containerWidth = _this6.getDimensions(_this6.domNodes.image).width;\n        _this6.controlCoordinates.imgHeight = _this6.getDimensions(_this6.currentImage).height;\n        _this6.controlCoordinates.imgWidth = _this6.getDimensions(_this6.currentImage).width;\n        _this6.controlCoordinates.containerOffsetX = _this6.domNodes.image.offsetLeft;\n        _this6.controlCoordinates.containerOffsetY = _this6.domNodes.image.offsetTop;\n\n        _this6.currentImage.classList.add('sl-transition');\n\n        if (!_this6.controlCoordinates.zoomed) {\n          _this6.controlCoordinates.initialScale = _this6.options.doubleTapZoom;\n\n          _this6.setZoomData(_this6.controlCoordinates.initialScale, 0, 0);\n\n          _this6.zoomPanElement(0 + \"px\", 0 + \"px\", _this6.controlCoordinates.initialScale);\n\n          if (!_this6.domNodes.caption.style.opacity && _this6.domNodes.caption.style.display !== 'none') {\n            _this6.fadeOut(_this6.domNodes.caption, 200);\n          }\n\n          _this6.controlCoordinates.zoomed = true;\n        } else {\n          _this6.controlCoordinates.initialScale = 1;\n\n          _this6.setZoomData(_this6.controlCoordinates.initialScale, 0, 0);\n\n          _this6.zoomPanElement(0 + \"px\", 0 + \"px\", _this6.controlCoordinates.initialScale);\n\n          _this6.controlCoordinates.zoomed = false;\n\n          if (_this6.domNodes.caption.style.display === 'none') {\n            _this6.fadeIn(_this6.domNodes.caption, 200);\n          }\n        }\n\n        setTimeout(function () {\n          if (_this6.currentImage) {\n            _this6.currentImage.classList.remove('sl-transition');\n          }\n        }, 200);\n        _this6.controlCoordinates.capture = true;\n        return false;\n      });\n    }\n  }, {\n    key: \"getDimensions\",\n    value: function getDimensions(element) {\n      var styles = window.getComputedStyle(element),\n          height = element.offsetHeight,\n          width = element.offsetWidth,\n          borderTopWidth = parseFloat(styles.borderTopWidth),\n          borderBottomWidth = parseFloat(styles.borderBottomWidth),\n          paddingTop = parseFloat(styles.paddingTop),\n          paddingBottom = parseFloat(styles.paddingBottom),\n          borderLeftWidth = parseFloat(styles.borderLeftWidth),\n          borderRightWidth = parseFloat(styles.borderRightWidth),\n          paddingLeft = parseFloat(styles.paddingLeft),\n          paddingRight = parseFloat(styles.paddingRight);\n      return {\n        height: height - borderBottomWidth - borderTopWidth - paddingTop - paddingBottom,\n        width: width - borderLeftWidth - borderRightWidth - paddingLeft - paddingRight\n      };\n    }\n  }, {\n    key: \"updateHash\",\n    value: function updateHash() {\n      var newHash = 'pid=' + (this.currentImageIndex + 1),\n          newURL = window.location.href.split('#')[0] + '#' + newHash;\n      this.hashReseted = false;\n\n      if (this.pushStateSupport) {\n        window.history[this.historyHasChanges ? 'replaceState' : 'pushState']('', document.title, newURL);\n      } else {\n        // what is the browser target of this?\n        if (this.historyHasChanges) {\n          window.location.replace(newURL);\n        } else {\n          window.location.hash = newHash;\n        }\n      }\n\n      if (!this.historyHasChanges) {\n        this.urlChangedOnce = true;\n      }\n\n      this.historyHasChanges = true;\n    }\n  }, {\n    key: \"resetHash\",\n    value: function resetHash() {\n      this.hashReseted = true;\n\n      if (this.urlChangedOnce) {\n        history.back();\n      } else {\n        if (this.pushStateSupport) {\n          history.pushState('', document.title, window.location.pathname + window.location.search);\n        } else {\n          window.location.hash = '';\n        }\n      } //\n      //in case an history operation is still pending\n\n\n      clearTimeout(this.historyUpdateTimeout);\n    }\n  }, {\n    key: \"updateURL\",\n    value: function updateURL() {\n      clearTimeout(this.historyUpdateTimeout);\n\n      if (!this.historyHasChanges) {\n        this.updateHash(); // first time\n      } else {\n        this.historyUpdateTimeout = setTimeout(this.updateHash.bind(this), 800);\n      }\n    }\n  }, {\n    key: \"setCaption\",\n    value: function setCaption(captionText, imageWidth) {\n      var _this7 = this;\n\n      if (this.options.captions && captionText && captionText !== '' && typeof captionText !== \"undefined\") {\n        this.hide(this.domNodes.caption);\n        this.domNodes.caption.style.width = imageWidth + 'px';\n        this.domNodes.caption.innerHTML = captionText;\n        this.domNodes.image.appendChild(this.domNodes.caption);\n        setTimeout(function () {\n          _this7.fadeIn(_this7.domNodes.caption, 300);\n        }, this.options.captionDelay);\n      }\n    }\n  }, {\n    key: \"slide\",\n    value: function slide(speed, pos) {\n      if (!this.transitionCapable) {\n        return this.domNodes.image.style.left = pos;\n      }\n\n      this.domNodes.image.style[this.transitionPrefix + 'transform'] = 'translateX(' + pos + ')';\n      this.domNodes.image.style[this.transitionPrefix + 'transition'] = this.transitionPrefix + 'transform ' + speed + 's linear';\n    }\n  }, {\n    key: \"getRelated\",\n    value: function getRelated(rel) {\n      var elems;\n\n      if (rel && rel !== false && rel !== 'nofollow') {\n        elems = Array.from(this.elements).filter(function (element) {\n          return element.getAttribute('rel') === rel;\n        });\n      } else {\n        elems = this.elements;\n      }\n\n      return elems;\n    }\n  }, {\n    key: \"openImage\",\n    value: function openImage(element) {\n      var _this8 = this;\n\n      element.dispatchEvent(new Event('show.' + this.eventNamespace));\n\n      if (this.options.disableScroll) {\n        this.globalScrollbarWidth = this.toggleScrollbar('hide');\n      }\n\n      if (this.options.htmlClass && this.options.htmlClass !== '') {\n        document.querySelector('html').classList.add(this.options.htmlClass);\n      }\n\n      document.body.appendChild(this.domNodes.wrapper);\n      this.domNodes.wrapper.appendChild(this.domNodes.image);\n\n      if (this.options.overlay) {\n        document.body.appendChild(this.domNodes.overlay);\n      }\n\n      this.relatedElements = this.getRelated(element.rel);\n\n      if (this.options.showCounter) {\n        if (this.relatedElements.length == 1 && this.domNodes.wrapper.contains(this.domNodes.counter)) {\n          this.domNodes.wrapper.removeChild(this.domNodes.counter);\n        } else if (this.relatedElements.length > 1 && !this.domNodes.wrapper.contains(this.domNodes.counter)) {\n          this.domNodes.wrapper.appendChild(this.domNodes.counter);\n        }\n      }\n\n      this.isAnimating = true;\n      this.currentImageIndex = this.relatedElements.indexOf(element);\n      var targetURL = element.getAttribute(this.options.sourceAttr);\n      this.currentImage = document.createElement('img');\n      this.currentImage.style.display = 'none';\n      this.currentImage.setAttribute('src', targetURL);\n      this.currentImage.dataset.scale = 1;\n      this.currentImage.dataset.translateX = 0;\n      this.currentImage.dataset.translateY = 0;\n\n      if (this.loadedImages.indexOf(targetURL) === -1) {\n        this.loadedImages.push(targetURL);\n      }\n\n      this.domNodes.image.innerHTML = '';\n      this.domNodes.image.setAttribute('style', '');\n      this.domNodes.image.appendChild(this.currentImage);\n      this.fadeIn(this.domNodes.overlay, 300);\n      this.fadeIn([this.domNodes.counter, this.domNodes.navigation, this.domNodes.closeButton], 300);\n      this.show(this.domNodes.spinner);\n      this.domNodes.counter.querySelector('.sl-current').innerHTML = this.currentImageIndex + 1;\n      this.domNodes.counter.querySelector('.sl-total').innerHTML = this.relatedElements.length;\n      this.adjustImage();\n\n      if (this.options.preloading) {\n        this.preload();\n      }\n\n      setTimeout(function () {\n        element.dispatchEvent(new Event('shown.' + _this8.eventNamespace));\n      }, this.options.animationSpeed);\n    } // utility\n\n  }, {\n    key: \"addEventListener\",\n    value: function addEventListener(elements, events, callback, opts) {\n      elements = this.wrap(elements);\n      events = this.wrap(events);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var element = _step.value;\n\n          if (!element.namespaces) {\n            element.namespaces = {};\n          } // save the namespaces addEventListener the DOM element itself\n\n\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = events[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var event = _step2.value;\n              var options = opts || false;\n              element.namespaces[event] = callback;\n              element.addEventListener(event.split('.')[0], callback, options);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n                _iterator2[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(elements, events) {\n      elements = this.wrap(elements);\n      events = this.wrap(events);\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = elements[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var element = _step3.value;\n          var _iteratorNormalCompletion4 = true;\n          var _didIteratorError4 = false;\n          var _iteratorError4 = undefined;\n\n          try {\n            for (var _iterator4 = events[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n              var event = _step4.value;\n              element.removeEventListener(event.split('.')[0], element.namespaces[event]);\n              delete element.namespaces[event];\n            }\n          } catch (err) {\n            _didIteratorError4 = true;\n            _iteratorError4 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n                _iterator4[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError4) {\n                throw _iteratorError4;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"fadeOut\",\n    value: function fadeOut(elements, duration, callback) {\n      var _this9 = this;\n\n      elements = this.wrap(elements);\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = elements[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var element = _step5.value;\n          element.style.opacity = 1;\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n\n      var step = 16.66666 / (duration || 300),\n          fade = function fade() {\n        var currentOpacity = parseFloat(elements[0].style.opacity);\n\n        if ((currentOpacity -= step) < 0) {\n          var _iteratorNormalCompletion6 = true;\n          var _didIteratorError6 = false;\n          var _iteratorError6 = undefined;\n\n          try {\n            for (var _iterator6 = elements[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n              var element = _step6.value;\n              element.style.display = \"none\";\n              element.style.opacity = '';\n            }\n          } catch (err) {\n            _didIteratorError6 = true;\n            _iteratorError6 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n                _iterator6[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError6) {\n                throw _iteratorError6;\n              }\n            }\n          }\n\n          callback && callback.call(_this9, elements);\n        } else {\n          var _iteratorNormalCompletion7 = true;\n          var _didIteratorError7 = false;\n          var _iteratorError7 = undefined;\n\n          try {\n            for (var _iterator7 = elements[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n              var _element = _step7.value;\n              _element.style.opacity = currentOpacity;\n            }\n          } catch (err) {\n            _didIteratorError7 = true;\n            _iteratorError7 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n                _iterator7[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError7) {\n                throw _iteratorError7;\n              }\n            }\n          }\n\n          requestAnimationFrame(fade);\n        }\n      };\n\n      fade();\n    }\n  }, {\n    key: \"fadeIn\",\n    value: function fadeIn(elements, duration, callback, display) {\n      var _this10 = this;\n\n      elements = this.wrap(elements);\n      var _iteratorNormalCompletion8 = true;\n      var _didIteratorError8 = false;\n      var _iteratorError8 = undefined;\n\n      try {\n        for (var _iterator8 = elements[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n          var element = _step8.value;\n          element.style.opacity = 0;\n          element.style.display = display || \"block\";\n        }\n      } catch (err) {\n        _didIteratorError8 = true;\n        _iteratorError8 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n            _iterator8[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError8) {\n            throw _iteratorError8;\n          }\n        }\n      }\n\n      var opacityTarget = parseFloat(elements[0].dataset.opacityTarget || 1),\n          step = 16.66666 * opacityTarget / (duration || 300),\n          fade = function fade() {\n        var currentOpacity = parseFloat(elements[0].style.opacity);\n\n        if (!((currentOpacity += step) > opacityTarget)) {\n          var _iteratorNormalCompletion9 = true;\n          var _didIteratorError9 = false;\n          var _iteratorError9 = undefined;\n\n          try {\n            for (var _iterator9 = elements[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n              var element = _step9.value;\n              element.style.opacity = currentOpacity;\n            }\n          } catch (err) {\n            _didIteratorError9 = true;\n            _iteratorError9 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion9 && _iterator9[\"return\"] != null) {\n                _iterator9[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError9) {\n                throw _iteratorError9;\n              }\n            }\n          }\n\n          requestAnimationFrame(fade);\n        } else {\n          var _iteratorNormalCompletion10 = true;\n          var _didIteratorError10 = false;\n          var _iteratorError10 = undefined;\n\n          try {\n            for (var _iterator10 = elements[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n              var _element2 = _step10.value;\n              _element2.style.opacity = '';\n            }\n          } catch (err) {\n            _didIteratorError10 = true;\n            _iteratorError10 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion10 && _iterator10[\"return\"] != null) {\n                _iterator10[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError10) {\n                throw _iteratorError10;\n              }\n            }\n          }\n\n          callback && callback.call(_this10, elements);\n        }\n      };\n\n      fade();\n    }\n  }, {\n    key: \"hide\",\n    value: function hide(elements) {\n      elements = this.wrap(elements);\n      var _iteratorNormalCompletion11 = true;\n      var _didIteratorError11 = false;\n      var _iteratorError11 = undefined;\n\n      try {\n        for (var _iterator11 = elements[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {\n          var element = _step11.value;\n          element.dataset.initialDisplay = element.style.display;\n          element.style.display = 'none';\n        }\n      } catch (err) {\n        _didIteratorError11 = true;\n        _iteratorError11 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion11 && _iterator11[\"return\"] != null) {\n            _iterator11[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError11) {\n            throw _iteratorError11;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"show\",\n    value: function show(elements, display) {\n      elements = this.wrap(elements);\n      var _iteratorNormalCompletion12 = true;\n      var _didIteratorError12 = false;\n      var _iteratorError12 = undefined;\n\n      try {\n        for (var _iterator12 = elements[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {\n          var element = _step12.value;\n          element.style.display = element.dataset.initialDisplay || display || 'block';\n        }\n      } catch (err) {\n        _didIteratorError12 = true;\n        _iteratorError12 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion12 && _iterator12[\"return\"] != null) {\n            _iterator12[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError12) {\n            throw _iteratorError12;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"wrap\",\n    value: function wrap(input) {\n      return typeof input[Symbol.iterator] === 'function' && typeof input !== 'string' ? input : [input];\n    }\n  }, {\n    key: \"on\",\n    value: function on(events, callback) {\n      events = this.wrap(events);\n      var _iteratorNormalCompletion13 = true;\n      var _didIteratorError13 = false;\n      var _iteratorError13 = undefined;\n\n      try {\n        for (var _iterator13 = this.elements[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {\n          var element = _step13.value;\n\n          if (!element.fullyNamespacedEvents) {\n            element.fullyNamespacedEvents = {};\n          }\n\n          var _iteratorNormalCompletion14 = true;\n          var _didIteratorError14 = false;\n          var _iteratorError14 = undefined;\n\n          try {\n            for (var _iterator14 = events[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {\n              var event = _step14.value;\n              element.fullyNamespacedEvents[event] = callback;\n              element.addEventListener(event, callback);\n            }\n          } catch (err) {\n            _didIteratorError14 = true;\n            _iteratorError14 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion14 && _iterator14[\"return\"] != null) {\n                _iterator14[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError14) {\n                throw _iteratorError14;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError13 = true;\n        _iteratorError13 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion13 && _iterator13[\"return\"] != null) {\n            _iterator13[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError13) {\n            throw _iteratorError13;\n          }\n        }\n      }\n\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(events) {\n      events = this.wrap(events);\n      var _iteratorNormalCompletion15 = true;\n      var _didIteratorError15 = false;\n      var _iteratorError15 = undefined;\n\n      try {\n        for (var _iterator15 = this.elements[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {\n          var element = _step15.value;\n          var _iteratorNormalCompletion16 = true;\n          var _didIteratorError16 = false;\n          var _iteratorError16 = undefined;\n\n          try {\n            for (var _iterator16 = events[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {\n              var event = _step16.value;\n\n              if (typeof element.fullyNamespacedEvents !== 'undefined' && event in element.fullyNamespacedEvents) {\n                element.removeEventListener(event, element.fullyNamespacedEvents[event]);\n              }\n            }\n          } catch (err) {\n            _didIteratorError16 = true;\n            _iteratorError16 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion16 && _iterator16[\"return\"] != null) {\n                _iterator16[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError16) {\n                throw _iteratorError16;\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError15 = true;\n        _iteratorError15 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion15 && _iterator15[\"return\"] != null) {\n            _iterator15[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError15) {\n            throw _iteratorError15;\n          }\n        }\n      }\n\n      return this;\n    } // api\n\n  }, {\n    key: \"open\",\n    value: function open(elem) {\n      elem = elem || this.elements[0];\n      this.initialImageIndex = this.elements.indexOf(elem);\n      this.openImage(elem);\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      this.loadImage(1);\n    }\n  }, {\n    key: \"prev\",\n    value: function prev() {\n      this.loadImage(-1);\n    } //close is exposed anyways..\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      //remove all custom event listeners from elements\n      this.off(['close.' + this.eventNamespace, 'closed.' + this.eventNamespace, 'nextImageLoaded.' + this.eventNamespace, 'prevImageLoaded.' + this.eventNamespace, 'change.' + this.eventNamespace, 'nextDone.' + this.eventNamespace, 'prevDone.' + this.eventNamespace, 'error.' + this.eventNamespace, 'changed.' + this.eventNamespace, 'next.' + this.eventNamespace, 'prev.' + this.eventNamespace, 'show.' + this.eventNamespace, 'shown.' + this.eventNamespace]);\n      this.removeEventListener(this.elements, 'click.' + this.eventNamespace);\n      this.removeEventListener(document.body, 'contextmenu.' + this.eventNamespace);\n      this.removeEventListener(document.body, 'keyup.' + this.eventNamespace);\n      this.removeEventListener(this.domNodes.navigation.getElementsByTagName('button'), 'click.' + this.eventNamespace);\n      this.removeEventListener(this.domNodes.closeButton, 'click.' + this.eventNamespace);\n      this.removeEventListener(window, 'resize.' + this.eventNamespace);\n      this.removeEventListener(window, 'hashchange.' + this.eventNamespace);\n      this.close();\n\n      if (this.isOpen) {\n        document.body.removeChild(this.domNodes.wrapper);\n        document.body.removeChild(this.domNodes.overlay);\n      }\n\n      this.elements = null;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.initialSelector) {\n        throw 'refreshing only works when you initialize using a selector!';\n      }\n\n      var options = this.options,\n          selector = this.initialSelector;\n      this.destroy();\n      this.constructor(selector, options);\n      return this;\n    }\n  }, {\n    key: \"hash\",\n    get: function get() {\n      return window.location.hash.substring(1);\n    }\n  }]);\n\n  return SimpleLightbox;\n}();"]}
{"version":3,"sources":["main.js"],"names":["$","document","ready","on","this","removeClass","addClass","find","src","stopPropagation","preventDefault","method","attr","serialized","url","e","type","error","data","serialize","branchStep","branchItems","hideExtraBranches","success","hasClass","step","limit","searchValue","index","resizeHander","addEventListener","innerWidth","getAttribute","length","querySelector","behavior","text","trim","slice","clone","html","truncated","appendTo","stepLimit","val","result","window","each","contentValue","toLowerCase","indexOf","event","remove","querySelectorAll","forEach","anchor","scrollIntoView","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["(function($) {\r\n  $(document).ready(function() {\r\n    // Lazy load\r\n    $(\".lazy\").lazy();\r\n\r\n    // Load features on mobile\r\n    $(\"#loadFeaturesBtn\").on(\"click\", function() {\r\n      $(this)\r\n        .removeClass(\"d-block\")\r\n        .addClass(\"d-none\");\r\n      $(\".feature\").removeClass(\"d-none\");\r\n    });\r\n\r\n    // Open video overlay\r\n    $(\"#videoBtn, #aboutVideoBtn\").on(\"click\", function() {\r\n      $(\"#video-popup\").addClass(\"active\");\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n    });\r\n\r\n    // Close overlay on outside click\r\n    $(\".cdk-overlay\").on(\"click\", function() {\r\n      $(this).removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n\r\n      // Destroy iframe video player\r\n      const src = $(this)\r\n        .find(\"iframe\")\r\n        .attr(\"src\");\r\n      $(this)\r\n        .find(\"iframe\")\r\n        .attr(\"src\", \"\");\r\n      $(this)\r\n        .find(\"iframe\")\r\n        .attr(\"src\", src);\r\n    });\r\n    // Prevent overlay close on overlay content click\r\n    $(\".cdk-overlay__content\").on(\"click\", function(e) {\r\n      e.stopPropagation();\r\n    });\r\n\r\n    $(\"#contactForm\").on(\"submit\", function(e) {\r\n      e.preventDefault();\r\n      const url = $(this).attr(\"action\");\r\n      const method = $(this).attr(\"method\");\r\n      const serialized = $(this).serialize();\r\n\r\n      $(\r\n        \".contact-form__response-success, .contact-form__response-error\"\r\n      ).removeClass(\"active\");\r\n\r\n      $.ajax({\r\n        url,\r\n        type: method,\r\n        data: serialized,\r\n        success: function(data) {\r\n          $(\".contact-form__response-success\").addClass(\"active\");\r\n        },\r\n        error: function(data) {\r\n          $(\".contact-form__response-error\").addClass(\"active\");\r\n        }\r\n      });\r\n    });\r\n\r\n    // Branches table load more\r\n    let branchStep = 1;\r\n    const branchLimit = 9;\r\n    const branchItems = $(\".branches-table__content .row\");\r\n\r\n    if (branchItems.length > 0) {\r\n      hideExtraBranches(branchStep, branchLimit);\r\n      $(\"#loadBranchesBtn\").on(\"click\", function() {\r\n        branchStep += 1;\r\n        hideExtraBranches(branchStep, branchLimit);\r\n        if (!$(\".branches-table__content .row\").hasClass(\"d-none\")) {\r\n          $(this).addClass(\"d-none\");\r\n        }\r\n      });\r\n    }\r\n\r\n    function hideExtraBranches(step, limit) {\r\n      branchItems.each(function(index) {\r\n        const stepLimit = step * limit;\r\n        if (index + 1 > stepLimit) {\r\n          $(this).addClass(\"d-none\");\r\n        } else {\r\n          $(this).removeClass(\"d-none\");\r\n        }\r\n      });\r\n    }\r\n\r\n    // Branches search\r\n\r\n    $(\"#branchesSearch\").on(\"keyup change\", function() {\r\n      const searchValue = $(this).val()\r\n        ? $(this)\r\n            .val()\r\n            .toLowerCase()\r\n        : null;\r\n      if (!searchValue) {\r\n        branchStep = 1;\r\n        hideExtraBranches(branchStep, branchLimit);\r\n        $(\"#loadBranchesBtn\").removeClass(\"d-none\");\r\n        return;\r\n      }\r\n      $(\"#loadBranchesBtn\").addClass(\"d-none\");\r\n      branchItems.each(function() {\r\n        let contentValue = \"\";\r\n        $(this)\r\n          .find(\".branches-table__for-search\")\r\n          .each(function() {\r\n            contentValue = $(this)\r\n              .text()\r\n              .trim();\r\n          });\r\n\r\n        // filter\r\n        const result = contentValue.toLowerCase().indexOf(searchValue) > -1;\r\n        if (result) {\r\n          $(this).removeClass(\"d-none\");\r\n        } else {\r\n          $(this).addClass(\"d-none\");\r\n        }\r\n      });\r\n    });\r\n\r\n    // On resize\r\n    resizeHander();\r\n    window.addEventListener(\"resize\", function(event) {\r\n      resizeHander();\r\n    });\r\n\r\n    // Read more for mobile version\r\n    $(\"#aboutReadMoreBtn\").on(\"click\", function() {\r\n      $(\".about-section__text\").removeClass(\"d-none\");\r\n      $(\".about-section__text-truncated\").remove();\r\n      $(this).addClass(\"activated\");\r\n    });\r\n\r\n    function resizeHander() {\r\n      // About section read more on mobile\r\n      if ($(\"#aboutReadMoreBtn\").hasClass(\"activated\")) {\r\n        return;\r\n      }\r\n      const windowWidth = window.innerWidth;\r\n      if (windowWidth <= 768) {\r\n        $(\"#branchesSearch\").attr(\"placeholder\", \"Поиск по городу\");\r\n\r\n        if ($(\".about-section__text-truncated\").length === 0) {\r\n          $(\".about-section__text\").addClass(\"d-none\");\r\n          const truncated =\r\n            $(\".about-section__text\")\r\n              .text()\r\n              .trim()\r\n              .slice(0, 177) + \" ...\";\r\n\r\n          $(\".about-section__text\")\r\n            .clone()\r\n            .attr(\"class\", \"about-section__text-truncated\")\r\n            .html(truncated)\r\n            .appendTo($(\".about-section__text-wrapper\"));\r\n        } else {\r\n          $(\".about-section__text\").addClass(\"d-none\");\r\n          $(\".about-section__text-truncated\").removeClass(\"d-none\");\r\n        }\r\n      } else {\r\n        $(\"#branchesSearch\").attr(\r\n          \"placeholder\",\r\n          \"Узнайте, есть ли наш филиал в вашем городе...\"\r\n        );\r\n        $(\".about-section__text\").removeClass(\"d-none\");\r\n        $(\".about-section__text-truncated\").addClass(\"d-none\");\r\n      }\r\n    }\r\n  });\r\n\r\n  // Smooth anchor scroll\r\n  document.querySelectorAll('a[href^=\"#\"]').forEach(anchor => {\r\n    anchor.addEventListener(\"click\", function(e) {\r\n      if (this.getAttribute(\"href\") === \"#\") {\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n      document.querySelector(this.getAttribute(\"href\")).scrollIntoView({\r\n        behavior: \"smooth\"\r\n      });\r\n    });\r\n  });\r\n})(jQuery);\r\n"]}
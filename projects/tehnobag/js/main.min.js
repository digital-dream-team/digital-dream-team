"use strict";!function(s){s(document).ready(function(){var e=document.getElementById("scene_1");new Parallax(e,{selector:".layer"});s(".lazy").lazy(),s("#loadFeaturesBtn").on("click",function(){s(this).removeClass("d-block").addClass("d-none"),s(".feature").removeClass("d-none")}),s("#videoBtn, #aboutVideoBtn").on("click",function(){s("#video-popup").addClass("active"),s("body").addClass("overflow-hidden"),s(".youtube-video-place").html('<iframe allowfullscreen allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="embed-responsive-item" src="'+s(".youtube-video-place").data("yt-url")+'" ></iframe>')}),s(".message__close, .popup-form__close").on("click",function(){s(".cdk-overlay").removeClass("active"),s("body").removeClass("overflow-hidden")}),s(".cdk-overlay").on("click",function(){s(this).removeClass("active"),s("body").removeClass("overflow-hidden"),s(".youtube-video-place").html('\n        <div class="play-youtube-video">\n          <i class="icon-play-circled"></i>\n        </div>\n        ')}),s(".cdk-overlay__content").on("click",function(e){e.stopPropagation()}),s("#contactForm").on("submit",function(e){e.preventDefault();var t=s(this).attr("action"),o=s(this).attr("method"),a=s(this).serialize();s.ajax({url:t,type:o,data:a,success:function(e){s("#success-popup").addClass("active")},error:function(e){s("#error-popup").addClass("active")}})}),s(".open-popup-form-btn").on("click",function(){s("#form-popup").addClass("active"),s("body").addClass("overflow-hidden")}),s("#popupContactForm").on("submit",function(e){e.preventDefault();var t=s(this).attr("action"),o=s(this).attr("method"),a=s(this).serialize();s.ajax({url:t,type:o,data:a,success:function(e){s(".cdk-overlay").removeClass("active"),s("body").removeClass("overflow-hidden"),s("#success-popup").addClass("active")},error:function(e){s(".cdk-overlay").removeClass("active"),s("body").removeClass("overflow-hidden"),s("#error-popup").addClass("active")}})}),s("#popupFormPhoneInput").on("keypress paste",function(e){var t=e||window.event,o=null;o="paste"===t.type?event.clipboardData.getData("text/plain"):(o=t.keyCode||t.which,String.fromCharCode(o));/([1-9()+-])/.test(o)||(t.returnValue=!1,t.preventDefault&&t.preventDefault())});var o=1,a=s(".branches-table__content .row");function n(t,o){a.each(function(e){t*o<e+1?s(this).addClass("d-none"):s(this).removeClass("d-none")})}function t(){if(!s("#aboutReadMoreBtn").hasClass("activated"))if(window.innerWidth<=768)if(s("#branchesSearch").attr("placeholder","Поиск по городу"),0===s(".about-section__text-truncated").length){s(".about-section__text").addClass("d-none");var e=s(".about-section__text").text().trim().slice(0,177)+" ...";s(".about-section__text").clone().attr("class","about-section__text-truncated").html(e).appendTo(s(".about-section__text-wrapper"))}else s(".about-section__text").addClass("d-none"),s(".about-section__text-truncated").removeClass("d-none");else s("#branchesSearch").attr("placeholder","Узнайте, есть ли наш филиал в вашем городе..."),s(".about-section__text").removeClass("d-none"),s(".about-section__text-truncated").addClass("d-none")}0<a.length&&(n(o,9),s("#loadBranchesBtn").on("click",function(){n(o+=1,9),s(".branches-table__content .row").hasClass("d-none")||s(this).addClass("d-none")})),s("#branchesSearch").on("keyup change",function(){var t=s(this).val()?s(this).val().toLowerCase():null;if(!t)return n(o=1,9),void s("#loadBranchesBtn").removeClass("d-none");s("#loadBranchesBtn").addClass("d-none"),a.each(function(){var e="";s(this).find(".branches-table__for-search").each(function(){e=s(this).text().trim()}),-1<e.toLowerCase().indexOf(t)?s(this).removeClass("d-none"):s(this).addClass("d-none")})}),t(),window.addEventListener("resize",function(e){t()}),s("#aboutReadMoreBtn").on("click",function(){s(".about-section__text").removeClass("d-none"),s(".about-section__text-truncated").remove(),s(this).addClass("activated")})}),document.querySelectorAll('a[href^="#"]').forEach(function(e){e.addEventListener("click",function(e){"#"!==this.getAttribute("href")&&(e.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"}))})})}(jQuery);
//# sourceMappingURL=main.min.js.map

"use strict";!function(o){window.onload=function(){for(var t=document.getElementsByTagName("iframe"),e=0;e<t.length;e++)t[e].getAttribute("data-src")&&t[e].setAttribute("src",t[e].getAttribute("data-src"))},o(document).ready(function(){o(".lazy").lazy(),o("#loadFeaturesBtn").on("click",function(){o(this).removeClass("d-block").addClass("d-none"),o(".feature").removeClass("d-none")}),o("#videoBtn, #aboutVideoBtn").on("click",function(){o("#video-popup").addClass("active"),o("body").addClass("overflow-hidden")}),o(".cdk-overlay").on("click",function(){o(this).removeClass("active"),o("body").removeClass("overflow-hidden");var t=o(this).find("iframe").attr("src");o(this).find("iframe").attr("src",""),o(this).find("iframe").attr("src",t)}),o(".cdk-overlay__content").on("click",function(t){t.stopPropagation()}),o("#contactForm").on("submit",function(t){t.preventDefault();var e=o(this).attr("action"),n=o(this).attr("method"),a=o(this).serialize();o(".contact-form__response-success, .contact-form__response-error").removeClass("active"),o.ajax({url:e,type:n,data:a,success:function(t){o(".contact-form__response-success").addClass("active")},error:function(t){o(".contact-form__response-error").addClass("active")}})});var t=1,a=o(".branches-table__content .row");function n(e,n){a.each(function(t){e*n<t+1?o(this).addClass("d-none"):o(this).removeClass("d-none")})}function e(){if(!o("#aboutReadMoreBtn").hasClass("activated"))if(window.innerWidth<=768)if(o("#branchesSearch").attr("placeholder","Поиск по городу"),0===o(".about-section__text-truncated").length){o(".about-section__text").addClass("d-none");var t=o(".about-section__text").text().trim().slice(0,177)+" ...";o(".about-section__text").clone().attr("class","about-section__text-truncated").html(t).appendTo(o(".about-section__text-wrapper"))}else o(".about-section__text").addClass("d-none"),o(".about-section__text-truncated").removeClass("d-none");else o("#branchesSearch").attr("placeholder","Узнайте, есть ли наш филиал в вашем городе..."),o(".about-section__text").removeClass("d-none"),o(".about-section__text-truncated").addClass("d-none")}0<a.length&&(n(t,9),o("#loadBranchesBtn").on("click",function(){n(t+=1,9),o(".branches-table__content .row").hasClass("d-none")||o(this).addClass("d-none")})),o("#branchesSearch").on("keyup change",function(){var e=o(this).val()?o(this).val().toLowerCase():null;if(!e)return n(t=1,9),void o("#loadBranchesBtn").removeClass("d-none");o("#loadBranchesBtn").addClass("d-none"),a.each(function(){var t="";o(this).find(".branches-table__for-search").each(function(){t=o(this).text().trim()}),-1<t.toLowerCase().indexOf(e)?o(this).removeClass("d-none"):o(this).addClass("d-none")})}),e(),window.addEventListener("resize",function(t){e()}),o("#aboutReadMoreBtn").on("click",function(){o(".about-section__text").removeClass("d-none"),o(".about-section__text-truncated").remove(),o(this).addClass("activated")})}),document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){"#"!==this.getAttribute("href")&&(t.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"}))})})}(jQuery);
//# sourceMappingURL=main.min.js.map

{"version":3,"sources":["main.js"],"names":["config","membersUrl","playsUrl","settingsUrl","$","ajax","url","type","getSettings","async","success","res","error","alert","html","dataType","data","phone","attr","email","facebook_url","whatsapp_url","console","log","plays","play","id","age_category","cost","create_date","duration_min","img_url","is_free","team_id","desc","file_size","lang","name","short_desc","track_url","video_url","is_hit","director_name","director","concat","first_name","middle_name","last_name","route_from","from","route_to","to","route","markerlist","descChunk1","parsedDesc","split","length","forEach","chunk1","index1","parts","push","imageChunk","taglessChunk","image","shift","restPart","part","index","is_hot","map","members","readers","each","_this","this","empty","durationString","labelsString","sizeString","append","member","avatar_url","socialsString","role","default_role","socials","members_big","_this2","accoladesString","social","value","method","images","_this3","isPreloaded","setTimeout","on","e","preventDefault","resize","removeClass","serializedArray","document","serializeArray","self","$win","requestObj","$doc","scrollTop","$svg","drawsvg","item","p","_objectSpread","find","val","transform","openThanks","sticky","window","addClass","opacity","hasClass","isRellaxed","rellax","rellax2","closest","destroy","Swiper","spaceBetween","freeMode","breakpoints","768","slidesPerView","992","init","$el","Rellax","popupSound","popupProgressInterval","playObj","height","max","closeNavbarOverlay","css","readersString","remove","imagesLoaded","instance","percent","loadedImages","filter","outerWidth","Math","floor","finishPreload","membersString","prepend","routeString","target","currentTarget","pageYOffset","popupPlayerVolVal","popupPlayerMediaSrc","animate","preload","volume","html5","popupMusicLoaded","popupMusicLoading","durationSec","clearInterval","speed","format","transition","closeOverlay","position","reader","routeItem","metaString","previewPlayerVolVal","previewSound","src","previewPlayerMediaSrc","vol","previewMusicLoaded","previewMusicLoading","Howl","previewProgressInterval","round","positionSec","String","duration","durationMin","padStart","seek","playing","stop","load","off","unload","loop","once","setInterval","positionMin","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["// Configs\r\nconst config = {\r\n  // membersUrl: \"http://api.mestodteatr.kg/plays-service/members\",\r\n  membersUrl:\r\n    \"http://api.mestodteatr.kg/plays-service/api/mobile/members?lang=ru\",\r\n  // playsUrl: \"http://api.mestodteatr.kg/plays-service/plays\",\r\n  playsUrl:\r\n    \"http://api.mestodteatr.kg/plays-service/api/mobile/plays?lang=ru&limit=5\",\r\n  settingsUrl: \"http://api.mestodteatr.kg/pages-service/app/settings\",\r\n};\r\n\r\n(function ($) {\r\n  // Document ready\r\n  $(function () {\r\n    // Load settings\r\n    getSettings();\r\n\r\n    function getSettings() {\r\n      $.ajax({\r\n        url: config.settingsUrl,\r\n        type: \"GET\",\r\n        dataType: null,\r\n        async: false,\r\n        success: function (res) {\r\n          if (!res.success || res.error) {\r\n            alert(\"Ошибка при загрузке настроек\");\r\n            $(\".settings-option__phone\").html(\"N/A\");\r\n            $(\".settings-option__email\").html(\"N/A\");\r\n            return;\r\n          }\r\n\r\n          const data = res.data;\r\n          $(\".settings-option__phone\")\r\n            .html(data.phone)\r\n            .attr(\"href\", \"tel:\" + data.phone);\r\n          $(\".settings-option__email\")\r\n            .html(data.email)\r\n            .attr(\"href\", \"mailto:\" + data.email);\r\n\r\n          $(\".settings-option__facebook\").attr(\"href\", data.facebook_url);\r\n          $(\".settings-option__whatsapp\").attr(\"href\", data.whatsapp_url);\r\n          $(\".settings-option__instagram\").attr(\"href\", data.instagram_url);\r\n\r\n          console.log(data);\r\n        },\r\n        error: function (data) {\r\n          console.error(data);\r\n        },\r\n      });\r\n    }\r\n\r\n    // Load plays\r\n    let plays = [];\r\n    getPlays();\r\n\r\n    function getPlays() {\r\n      $.ajax({\r\n        url: config.playsUrl,\r\n        type: \"GET\",\r\n        dataType: null,\r\n        async: false,\r\n        success: function (res) {\r\n          const data = res.data;\r\n\r\n          plays = data.map((play) => {\r\n            let {\r\n              id,\r\n              age_category,\r\n              cost,\r\n              create_date,\r\n              duration_min,\r\n              img_url,\r\n              is_free,\r\n              team_id,\r\n              desc,\r\n              file_size,\r\n              lang,\r\n              name,\r\n              short_desc,\r\n              track_url,\r\n              video_url,\r\n              is_hit,\r\n            } = play;\r\n\r\n            let director_name = \"N/A\";\r\n            if (play.director) {\r\n              director_name = `${play.director.first_name} ${play.director.middle_name} ${play.director.last_name}`;\r\n            }\r\n\r\n            let route_from = null;\r\n            if (play.from) {\r\n              route_from = play.from.name;\r\n            }\r\n\r\n            let route_to = null;\r\n            if (play.to) {\r\n              route_to = play.to.name;\r\n            }\r\n\r\n            let route = [];\r\n            if (play.markerlist) {\r\n              route = play.markerlist;\r\n            }\r\n            // const {\r\n            //   id,\r\n            //   age_category,\r\n            //   cost,\r\n            //   create_date,\r\n            //   duration_min,\r\n            //   img_url,\r\n            //   is_free,\r\n            //   team_id,\r\n            // } = play;\r\n            // const {\r\n            //   desc,\r\n            //   file_size,\r\n            //   lang,\r\n            //   name,\r\n            //   short_desc,\r\n            //   track_url,\r\n            //   video_url,\r\n            // } = play.content[0];\r\n\r\n            // Parse api images\r\n            let parsedDesc = desc;\r\n            if (desc) {\r\n              let descChunk1 = desc.split(\"![\");\r\n\r\n              if (descChunk1.length > 1) {\r\n                let parts = [];\r\n                descChunk1.forEach((chunk1, index1) => {\r\n                  if (index1 === 0) {\r\n                    parts.push(chunk1);\r\n                  } else if (index1 > 0) {\r\n                    let taglessChunk = chunk1.split(\"](\")[1];\r\n                    let imageChunk = taglessChunk.split(\")\");\r\n                    let image = imageChunk.shift();\r\n                    let restPart = imageChunk.join(\")\");\r\n                    parts.push(\r\n                      `<div><img src=\"${image}\" alt=\"pic\" class=\"w-100\" /></div>`,\r\n                    );\r\n                    parts.push(restPart);\r\n                  }\r\n                });\r\n\r\n                parsedDesc = \"\";\r\n                parts.forEach((part, index) => {\r\n                  parsedDesc += part;\r\n                  if (index + 1 !== parts.length) {\r\n                    parsedDesc += \" \";\r\n                  }\r\n                });\r\n              }\r\n            }\r\n\r\n            return {\r\n              // Main\r\n              id,\r\n              age_category,\r\n              cost,\r\n              duration_min,\r\n              img_url,\r\n              is_free,\r\n              team_id,\r\n              create_date,\r\n              // Content\r\n              desc: parsedDesc,\r\n              file_size,\r\n              lang,\r\n              name,\r\n              short_desc,\r\n              track_url, // E.g. \"assets/sample.mp3\"\r\n              video_url,\r\n              is_hot: is_hit,\r\n              director_name,\r\n              route_from,\r\n              route_to,\r\n              route,\r\n              // Don't exist / rename accordingly later\r\n              map: null, // E.g. \"assets/sample-map.png\"\r\n              members: [],\r\n              // members: [\r\n              //   {\r\n              //     name: \"name\",\r\n              //     position: \"position\",\r\n              //   },\r\n              // ]\r\n              readers: [],\r\n              // readers: [\r\n              //   {\r\n              //     name: \"Нурбек Эген\",\r\n              //   },\r\n              // ]\r\n            };\r\n          });\r\n        },\r\n        error: function (data) {\r\n          console.error(data);\r\n        },\r\n      });\r\n\r\n      // Update cards DOM\r\n      $(\".plays-swiper .swiper-wrapper\").each(function () {\r\n        $(this).empty();\r\n\r\n        plays.forEach((play) => {\r\n          const {\r\n            id,\r\n            img_url,\r\n            name,\r\n            director_name,\r\n            route_from,\r\n            route_to,\r\n            duration_min,\r\n            file_size,\r\n            age_category,\r\n            is_free,\r\n            is_hot,\r\n          } = play;\r\n\r\n          let durationString = `${duration_min} минут`;\r\n          let sizeString = `${file_size} mb`;\r\n          let labelsString = \"\";\r\n          if (age_category) {\r\n            labelsString += `<div class=\"play-card__image-label\">${age_category}</div>`;\r\n          }\r\n          if (is_free) {\r\n            labelsString += `<div class=\"play-card__image-label\">Бесплатно</div>`;\r\n          }\r\n          if (is_hot) {\r\n            labelsString += `<div class=\"play-card__image-label play-card__image-label--hot\">\r\n            Хит!\r\n          </div>`;\r\n          }\r\n\r\n          $(this).append(`\r\n          <div class=\"swiper-slide\">\r\n            <div class=\"play-card-wrap\">\r\n              <a class=\"open-play-popup\" data-id=\"${id}\">\r\n                <div class=\"play-card\">\r\n                  <div class=\"play-card__image-wrap\">\r\n                    <img\r\n                      src=\"${img_url}\"\r\n                      alt=\"play\"\r\n                      class=\"play-card__image\"\r\n                    />\r\n                    <div class=\"play-card__image-labels\">\r\n                      ${labelsString}\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"play-card__body\">\r\n                    <div class=\"play-card__body-header\">\r\n                      <div class=\"play-card__body-meta-container\">\r\n                        <div class=\"play-card__body-meta\">\r\n                          <i class=\"icon-timer\"></i>\r\n                          <span>${durationString}</span>\r\n                        </div>\r\n                        <div class=\"play-card__body-meta\">\r\n                          <i class=\"icon-insert\"></i>\r\n                          <span>${sizeString}</span>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"play-card__body-director text-truncate\">\r\n                        <span class=\"play-card__body-director-position\">\r\n                          Режиссер:\r\n                        </span>\r\n                        <span class=\"play-card__body-director-name\">\r\n                          ${director_name}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"play-card__body-title\">\r\n                      ${name}\r\n                    </div>\r\n                    <div class=\"play-card__body-route\">\r\n                      <div class=\"play-card__body-route-from\">\r\n                        <span class=\"play-card__body-route-title\">\r\n                          от\r\n                        </span>\r\n                        <span\r\n                          class=\"play-card__body-route-name text-truncate\"\r\n                        >\r\n                          ${route_from}\r\n                        </span>\r\n                      </div>\r\n                      <div class=\"play-card__body-route-separator\">\r\n                        <i class=\"icon-arrow-right\"></i>\r\n                      </div>\r\n                      <div class=\"play-card__body-route-to\">\r\n                        <span class=\"play-card__body-route-title\">\r\n                          до\r\n                        </span>\r\n                        <span\r\n                          class=\"play-card__body-route-name text-truncate\"\r\n                        >\r\n                          ${route_to}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"play-card__body-controls\">\r\n                      <span class=\"play-card__btn\">\r\n                        Подробнее о спектакле\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        `);\r\n        });\r\n      });\r\n    }\r\n\r\n    // Load members\r\n    let members = [];\r\n    getMembers();\r\n\r\n    function getMembers() {\r\n      $.ajax({\r\n        url: config.membersUrl,\r\n        type: \"GET\",\r\n        dataType: null,\r\n        async: false,\r\n        success: function (res) {\r\n          const data = res.data;\r\n          members = data.map((member) => {\r\n            // const { avatar_url, id, role_id, team_id } = member;\r\n            // const { desc, first_name, lang, last_name, middle_name } =\r\n            //   member.member_info[0];\r\n            // const { name_ru: role_ru, name_en, name_kg } = member.member_role;\r\n            const {\r\n              avatar_url,\r\n              id,\r\n              desc,\r\n              first_name,\r\n              lang,\r\n              last_name,\r\n              middle_name,\r\n            } = member;\r\n            const { name: role_name } = member.default_role;\r\n\r\n            return {\r\n              // Main\r\n              id,\r\n              avatar_url,\r\n              // role_id,\r\n              // team_id,\r\n              // Content\r\n              desc,\r\n              first_name,\r\n              lang,\r\n              last_name,\r\n              middle_name,\r\n              // Role\r\n              // role: role_ru,\r\n              role: role_name,\r\n              // Don't exist\r\n              socials: [],\r\n            };\r\n          });\r\n        },\r\n        error: function (data) {\r\n          console.error(data);\r\n        },\r\n      });\r\n\r\n      let members_big = members; // Filter to get only \"big\" members?\r\n\r\n      // Split into halfs\r\n      // let members_small_1 = [];\r\n      // let members_small_2 = [];\r\n\r\n      // if (members.length > 1) {\r\n      //   const halfList = Math.ceil(members.length / 2);\r\n      //   members_small_1 = [...members].splice(0, halfList);\r\n      //   members_small_2 = [...members].splice(-halfList);\r\n      // } else {\r\n      //   members_small_1 = [...members];\r\n      // }\r\n\r\n      $(\".team-swiper .swiper-wrapper\").each(function () {\r\n        $(this).empty();\r\n\r\n        members_big.forEach((member) => {\r\n          const { first_name, last_name, middle_name, avatar_url, desc, role } =\r\n            member;\r\n\r\n          let accoladesString = desc;\r\n          // member.accolades.forEach((accolade) => {\r\n          //   accoladesString += `${accolade}, `;\r\n          // });\r\n          let socialsString = \"\";\r\n          member.socials.forEach((social) => {\r\n            socialsString += `\r\n              <div>\r\n                <a\r\n                  href=\"${social.value}\"\r\n                  class=\"team-member-card__body-social-link\"\r\n                  target=\"_blank\"\r\n                >\r\n                  ${social.name}\r\n                </a>\r\n              </div>\r\n            `;\r\n          });\r\n\r\n          $(this).append(`\r\n          <div class=\"swiper-slide\">\r\n            <div class=\"team-member-card-wrap\">\r\n              <div class=\"team-member-card\">\r\n                <div class=\"team-member-card__image-wrap\">\r\n                  <img\r\n                    src=\"${avatar_url}\"\r\n                    alt=\"member\"\r\n                    class=\"team-member-card__image\"\r\n                  />\r\n                </div>\r\n                <div class=\"team-member-card__body\">\r\n                  <div class=\"team-member-card__body-name\">\r\n                    ${last_name} ${first_name} ${middle_name}\r\n                  </div>\r\n                  <div class=\"team-member-card__body-position\">\r\n                    ${role}\r\n                  </div>\r\n                  <div class=\"team-member-card__body-accolades\">\r\n                    ${accoladesString}\r\n                  </div>\r\n                  <div class=\"team-member-card__body-socials\">\r\n                    ${socialsString}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        `);\r\n        });\r\n      });\r\n\r\n      $(\".team-row\").each(function () {\r\n        $(this).empty();\r\n        members.forEach((member) => {\r\n          const { first_name, last_name, middle_name, avatar_url, desc, role } =\r\n            member;\r\n\r\n          $(this).append(`\r\n            <div class=\"col-6 col-md-2\">\r\n              <div class=\"team-member\">\r\n                <p class=\"team-member__position\">${role}:</p>\r\n                <p class=\"team-member__name\">${last_name} ${first_name} ${middle_name}</p>\r\n              </div>\r\n            </div>\r\n          `);\r\n        });\r\n      });\r\n\r\n      // Two cols layout ?\r\n\r\n      // Split into halfs\r\n      // let members_small_1 = [];\r\n      // let members_small_2 = [];\r\n\r\n      // if (members.length > 1) {\r\n      //   const halfList = Math.ceil(members.length / 2);\r\n      //   members_small_1 = [...members].splice(0, halfList);\r\n      //   members_small_2 = [...members].splice(-halfList);\r\n      // } else {\r\n      //   members_small_1 = [...members];\r\n      // }\r\n\r\n      // $(\".team-row-1\").each(function () {\r\n      //   $(this).empty();\r\n      //   members_small_1.forEach((member) => {\r\n      //     const {\r\n      //       first_name,\r\n      //       last_name,\r\n      //       middle_name,\r\n      //       avatar_url,\r\n      //       desc,\r\n      //       role,\r\n      //     } = member;\r\n\r\n      //     $(this).append(`\r\n      //       <div class=\"col-6 col-md-4\">\r\n      //         <div class=\"team-member\">\r\n      //           <p class=\"team-member__position\">${role}:</p>\r\n      //           <p class=\"team-member__name\">${last_name} ${first_name} ${middle_name}</p>\r\n      //         </div>\r\n      //       </div>\r\n      //     `);\r\n      //   });\r\n      // });\r\n\r\n      // $(\".team-row-2\").each(function () {\r\n      //   $(this).empty();\r\n      //   members_small_2.forEach((member) => {\r\n      //     const {\r\n      //       first_name,\r\n      //       last_name,\r\n      //       middle_name,\r\n      //       avatar_url,\r\n      //       desc,\r\n      //       role,\r\n      //     } = member;\r\n\r\n      //     $(this).append(`\r\n      //       <div class=\"col-6 col-md-4\">\r\n      //         <div class=\"team-member\">\r\n      //         <p class=\"team-member__position\">${role}:</p>\r\n      //         <p class=\"team-member__name\">${last_name} ${first_name} ${middle_name}</p>\r\n      //         </div>\r\n      //       </div>\r\n      //     `);\r\n      //   });\r\n      // });\r\n    }\r\n\r\n    // Load preview player file and data ?\r\n    function getPreview() {}\r\n\r\n    // Ajax form submit / Аякс форма настраивается тут\r\n    $(\".ajax-contact-form\").on(\"submit\", function (e) {\r\n      e.preventDefault();\r\n      const url = $(this).attr(\"action\");\r\n      const method = $(this).attr(\"method\");\r\n      const dataType = $(this).data(\"type\") || null;\r\n      const serializedArray = $(this).serializeArray();\r\n      const self = $(this);\r\n\r\n      let requestObj = {};\r\n      serializedArray.forEach((item) => {\r\n        requestObj[item.name] = item.value;\r\n      });\r\n\r\n      $.ajax({\r\n        url,\r\n        type: method,\r\n        dataType: dataType,\r\n        data: {\r\n          ...requestObj,\r\n          // action: \"ajaxForm\",\r\n          // serialized,\r\n        },\r\n        success: function (data) {\r\n          // Clear inputs\r\n          self.find(\"input, textarea\").val(\"\");\r\n\r\n          // Open thanks popup\r\n          $(\".overlay-cdk\").removeClass(\"active\");\r\n          openThanks();\r\n        },\r\n        error: function (data) {\r\n          // Basic error handling\r\n          alert(\"Ошибка, повторите позднее\");\r\n          console.error(data);\r\n        },\r\n      });\r\n    });\r\n\r\n    let isPreloaded = false;\r\n    $(\"body\")\r\n      .imagesLoaded()\r\n      .progress(function (instance, image) {\r\n        if (instance.images) {\r\n          let length = instance.images.length;\r\n          let loadedImages = instance.images.filter(\r\n            (image) => image.isLoaded,\r\n          ).length;\r\n\r\n          let percent = Math.floor((loadedImages / length) * 100);\r\n\r\n          $(\".preloader-section__bar-overlay\").css(\"width\", `${percent}%`);\r\n        }\r\n      })\r\n      .always(function (instance) {\r\n        setTimeout(() => {\r\n          if (!isPreloaded) {\r\n            finishPreload();\r\n          }\r\n        }, 250);\r\n      });\r\n\r\n    // Timeout just in case (Keep in mind it won't trigger after critical js error)\r\n    setTimeout(() => {\r\n      if (!isPreloaded) {\r\n        finishPreload();\r\n      }\r\n    }, 60000);\r\n\r\n    function finishPreload() {\r\n      isPreloaded = true;\r\n      setTimeout(() => {\r\n        $(\"body\").addClass(\"loaded\");\r\n        $(\".preloader-section\").addClass(\"loaded\");\r\n\r\n        $(\".main-content\").removeClass(\"d-none\");\r\n        $(\".pipe-container-wrap\").removeClass(\"d-none\");\r\n\r\n        setTimeout(() => {\r\n          $(\".preloader-section\").addClass(\"d-none\");\r\n\r\n          $(\".section-hero__composit-title-img-wrap\").addClass(\r\n            \"fadeInUp animated\",\r\n          );\r\n          $(\".section-hero__composit-title-1\").addClass(\"fadeInUp animated\");\r\n          $(\".section-hero__composit-title-2\").addClass(\"fadeInUp animated\");\r\n          $(\".section-hero__composit-title-3\").addClass(\"fadeInUp animated\");\r\n          $(\".section-hero__subtitle\").addClass(\"fadeInUp animated\");\r\n          $(\".section-hero__content .store-btn\").addClass(\"fadeInUp animated\");\r\n          $(\".section-hero__phones-item-wrap\").addClass(\"fadeInUp animated\");\r\n\r\n          $(\".floating-circles\").addClass(\"animated\");\r\n\r\n          // Init swipers here because content width before unavailable\r\n          if ($(\".plays-swiper\").length) {\r\n            $(\".plays-swiper\").each(function () {\r\n              const arrowPrev = $(this)\r\n                .closest(\".plays-swiper-wrap\")\r\n                .find(\".swiper-button-prev\")[0];\r\n\r\n              const arrowNext = $(this)\r\n                .closest(\".plays-swiper-wrap\")\r\n                .find(\".swiper-button-next\")[0];\r\n\r\n              new Swiper($(this)[0], {\r\n                // navigation: {\r\n                //   nextEl: arrowNext,\r\n                //   prevEl: arrowPrev,\r\n                // },\r\n                slidesPerView: 1,\r\n                spaceBetween: 20,\r\n                freeMode: true,\r\n                breakpoints: {\r\n                  768: {\r\n                    slidesPerView: 2,\r\n                  },\r\n                  992: {\r\n                    slidesPerView: 3,\r\n                  },\r\n                },\r\n                on: {\r\n                  init: function () {\r\n                    // do something\r\n                    const $el = this.$el;\r\n                    $el.css(\"padding-left\", \"40%\");\r\n                  },\r\n                },\r\n              });\r\n            });\r\n          }\r\n          if ($(\".team-swiper\").length) {\r\n            $(\".team-swiper\").each(function () {\r\n              const arrowPrev = $(this)\r\n                .closest(\".team-swiper-wrap\")\r\n                .find(\".swiper-button-prev\")[0];\r\n\r\n              const arrowNext = $(this)\r\n                .closest(\".team-swiper-wrap\")\r\n                .find(\".swiper-button-next\")[0];\r\n\r\n              new Swiper($(this)[0], {\r\n                // navigation: {\r\n                //   nextEl: arrowNext,\r\n                //   prevEl: arrowPrev,\r\n                // },\r\n                slidesPerView: 1,\r\n                spaceBetween: 20,\r\n                freeMode: true,\r\n                breakpoints: {\r\n                  768: {\r\n                    slidesPerView: 2,\r\n                  },\r\n                  992: {\r\n                    slidesPerView: 3,\r\n                  },\r\n                },\r\n              });\r\n            });\r\n          }\r\n          setTimeout(() => {\r\n            // Trigger resize here after all content visible\r\n            resize();\r\n\r\n            // Svg pipe draw function\r\n            $(\".pipe-container-wrap\").removeClass(\"opacity-0\");\r\n            var $doc = $(document),\r\n              $win = $(window),\r\n              $svg = $(\"svg\").drawsvg(),\r\n              max = $doc.height() - $win.height();\r\n            var p = $win.scrollTop() / max;\r\n            $svg.drawsvg(\"progress\", p);\r\n\r\n            $win.on(\"scroll\", function () {\r\n              var p = $win.scrollTop() / max;\r\n\r\n              $svg.drawsvg(\"progress\", p);\r\n            });\r\n          }, 200);\r\n        }, 200);\r\n      }, 400);\r\n    }\r\n\r\n    // Mobile header sidebar slide\r\n    $(\".navbar-toggler\").on(\"click\", function () {\r\n      $(\"#mainHeaderNavbar\").addClass(\"open\");\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#mainHeaderNavbar\")\r\n        .find(\".navbar-nav\")\r\n        .prepend(`<button class=\"navbar-collapse__close-btn\">✖</button>`);\r\n\r\n      $(\"#mainHeaderNavbar\")\r\n        .find(\".navbar-nav\")\r\n        .css({ transition: 0, transform: \"translateX(300px)\" });\r\n      setTimeout(() => {\r\n        $(\"#mainHeaderNavbar\")\r\n          .find(\".navbar-nav\")\r\n          .css({ transition: \"400ms\", transform: \"translateX(0)\" });\r\n      }, 0);\r\n    });\r\n    $(document).on(\"click\", \".navbar-collapse__close-btn\", function (e) {\r\n      closeNavbarOverlay();\r\n    });\r\n    $(\".navbar-collapse\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n\r\n      closeNavbarOverlay();\r\n    });\r\n\r\n    // Close mobile sidebar overlay on navigation\r\n    $(\".main-header .navbar-nav .nav-item .nav-link\").on(\"click\", function () {\r\n      if ($(window).outerWidth(true) < 992) {\r\n        closeNavbarOverlay();\r\n      }\r\n    });\r\n\r\n    function closeNavbarOverlay() {\r\n      $(\"#mainHeaderNavbar\")\r\n        .find(\".navbar-nav\")\r\n        .css({ transition: \"400ms\", transform: \"translateX(300px)\" });\r\n\r\n      setTimeout(() => {\r\n        $(\".navbar-collapse\").removeClass(\"open\");\r\n        $(\"body\").removeClass(\"overflow-hidden\");\r\n        $(\".navbar-collapse__close-btn\").remove();\r\n      }, 400);\r\n    }\r\n\r\n    $(window).on(\"scroll\", function () {\r\n      if ($(\".main-header\").length) {\r\n        if (!isPreloaded) {\r\n          return;\r\n        }\r\n        let sticky = $(\".section-hero\").height();\r\n\r\n        if (window.pageYOffset > sticky) {\r\n          if ($(\".main-header\").hasClass(\"d-none\")) {\r\n            $(\".main-header\").removeClass(\"d-none\").css(\"opacity\", 0);\r\n            $(\".main-header\").animate({ opacity: 1 }, 500);\r\n          }\r\n        } else {\r\n          if (!$(\".main-header\").hasClass(\"d-none\")) {\r\n            $(\".main-header\").addClass(\"d-none\");\r\n            $(\".main-header\").css(\"opacity\", 0);\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    var isRellaxed = false;\r\n    var rellax = null;\r\n    var rellax2 = null;\r\n    $(window).on(\"resize\", function () {\r\n      resize();\r\n    });\r\n    function resize() {\r\n      const win = $(window); //this = window\r\n      const width = win.outerWidth();\r\n\r\n      if (width <= 990) {\r\n        if (isRellaxed) {\r\n          isRellaxed = false;\r\n\r\n          if (rellax.destroy) {\r\n            rellax.destroy();\r\n            rellax = null;\r\n          }\r\n          if (rellax2.destroy) {\r\n            rellax2.destroy();\r\n            rellax2 = null;\r\n          }\r\n        }\r\n      } else {\r\n        $(\"#mainHeaderNavbar\")\r\n          .find(\".navbar-nav\")\r\n          .css({ transition: \"none\", transform: \"none\" });\r\n\r\n        if (!isRellaxed) {\r\n          isRellaxed = true;\r\n\r\n          rellax = new Rellax(\".rellax\", {\r\n            speed: 1,\r\n            center: true,\r\n          });\r\n          rellax2 = new Rellax(\".rellax-2\", {\r\n            speed: 1,\r\n            center: true,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    // Popups\r\n    let popupSound = null;\r\n    let popupProgressInterval = null;\r\n    $(\".open-play-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#playPopup\").addClass(\"active\");\r\n      $(\"#playPopup\")\r\n        .find(\".overlay-cdk__content-wrap\")\r\n        .css({ transform: \"translateY(100%)\" });\r\n      setTimeout(() => {\r\n        $(\"#playPopup\")\r\n          .find(\".overlay-cdk__content-wrap\")\r\n          .css({ transition: \"600ms\", transform: \"translateY(0)\" });\r\n      }, 0);\r\n\r\n      $(\"#playPopupPlayerMin\").html(`${0} мин`);\r\n      $(\"#playPopupPlayerSec\").html(`${0} сек`);\r\n      $(\".overlay-cdk__content-play-wrap\")[0].scrollTop = 0;\r\n\r\n      const id = $(this).data(\"id\");\r\n\r\n      const playObj = plays.find((play) => play.id === id);\r\n\r\n      const {\r\n        is_hot,\r\n        is_free,\r\n        age_category,\r\n        img_url,\r\n        name,\r\n        short_desc,\r\n        track_url,\r\n        director_name,\r\n        route_from,\r\n        route_to,\r\n        map,\r\n        desc,\r\n        members,\r\n        readers,\r\n        route,\r\n      } = playObj;\r\n\r\n      let labelsString = \"\";\r\n      if (age_category) {\r\n        labelsString += `<div class=\"play-card__image-label\">${age_category}</div>`;\r\n      }\r\n      if (is_free) {\r\n        labelsString += `<div class=\"play-card__image-label\">Бесплатно</div>`;\r\n      }\r\n      if (is_hot) {\r\n        labelsString += `<div class=\"play-card__image-label play-card__image-label--hot\">\r\n          Хит!\r\n        </div>`;\r\n      }\r\n\r\n      let membersString = \"\";\r\n      members.forEach((member) => {\r\n        membersString += `\r\n          <div class=\"col-6\">\r\n            <div class=\"team-member mbp-10\">\r\n              <p class=\"team-member__position\">${member.position}:</p>\r\n              <p class=\"team-member__name\">${member.name}</p>\r\n            </div>\r\n          </div>\r\n        `;\r\n      });\r\n\r\n      let readersString = \"\";\r\n      readers.forEach((reader) => {\r\n        readersString += `\r\n          <div class=\"col-6\">\r\n            <div class=\"team-member mbp-10\">\r\n              <p class=\"team-member__name\">${reader.name}</p>\r\n            </div>\r\n          </div>\r\n        `;\r\n      });\r\n\r\n      let routeString = \"\";\r\n      route.forEach((routeItem) => {\r\n        routeString += `\r\n          <li class=\"overlay-cdk__content-play-timeline-item\">\r\n            ${routeItem.name}\r\n          </li>\r\n        `;\r\n      });\r\n\r\n      let durationString = `${playObj.duration_min} минут`;\r\n      let sizeString = `${playObj.file_size} mb`;\r\n      let metaString = `\r\n        <div class=\"overlay-cdk__content-play-body-meta\">\r\n          <i class=\"icon-timer\"></i>\r\n          <span>${durationString}</span>\r\n        </div>\r\n        <div class=\"overlay-cdk__content-play-body-meta\">\r\n          <i class=\"icon-insert\"></i>\r\n          <span>${sizeString}</span>\r\n        </div>\r\n      `;\r\n\r\n      // Change popup content here\r\n      $(\"#playPopup .overlay-cdk__content-play-image\").attr(\"src\", img_url);\r\n      $(\"#playPopup .overlay-cdk__content-play-title\").html(name);\r\n      $(\"#playPopup .overlay-cdk__content-play-image-labels\").html(\r\n        labelsString,\r\n      );\r\n      $(\"#playPopup .overlay-cdk__content-play-body-meta-container\").html(\r\n        metaString,\r\n      );\r\n      $(\"#playPopup .overlay-cdk__content-play-body-director-name\").html(\r\n        director_name,\r\n      );\r\n      $(\"#playPopup .overlay-cdk__content-play-short-description\").html(\r\n        short_desc,\r\n      );\r\n\r\n      $(\"#playPopupPlayerSrc\").val(track_url);\r\n\r\n      $(\r\n        \"#playPopup .overlay-cdk__content-play-route-from .overlay-cdk__content-play-route-name\",\r\n      ).html(route_from);\r\n      $(\r\n        \"#playPopup .overlay-cdk__content-play-route-to .overlay-cdk__content-play-route-name\",\r\n      ).html(route_to);\r\n\r\n      $(\"#playPopup .overlay-cdk__content-play-timeline\").html(routeString);\r\n\r\n      if (membersString) {\r\n        $(\".overlay-cdk__content-play-team\").removeClass(\"d-none\");\r\n        $(\"#playPopup .overlay-cdk__content-play-team > .row\").html(\r\n          membersString,\r\n        );\r\n      } else {\r\n        $(\".overlay-cdk__content-play-team\").addClass(\"d-none\");\r\n      }\r\n\r\n      if (readersString) {\r\n        $(\".overlay-cdk__content-play-readers\").removeClass(\"d-none\");\r\n        $(\"#playPopup .overlay-cdk__content-play-readers > .row\").html(\r\n          readersString,\r\n        );\r\n      } else {\r\n        $(\".overlay-cdk__content-play-readers\").addClass(\"d-none\");\r\n      }\r\n\r\n      if (map) {\r\n        $(\"#playPopup .overlay-cdk__content-play-map\").removeClass(\"d-none\");\r\n        $(\"#playPopup .overlay-cdk__content-play-map\").attr(\"src\", map);\r\n      } else {\r\n        $(\"#playPopup .overlay-cdk__content-play-map\").addClass(\"d-none\");\r\n      }\r\n\r\n      $(\"#playPopup .overlay-cdk__content-play-description\")\r\n        .html(desc)\r\n        .css(\"white-space\", \"break-spaces\");\r\n\r\n      // Rest goes here\r\n      // Remove placeholders from popup\r\n\r\n      // Popup mp3 player\r\n      const popupPlayerVolVal = $(\"#playPopupPlayerVolume\").val() / 100;\r\n      let popupPlayerMediaSrc = $(\"#playPopupPlayerSrc\").val();\r\n\r\n      if (!popupPlayerMediaSrc) {\r\n        $(\".overlay-cdk__content-play-col\").addClass(\"d-none\");\r\n        return;\r\n      }\r\n      $(\".overlay-cdk__content-play-col\").removeClass(\"d-none\");\r\n      popupSound = new Howl({\r\n        src: popupPlayerMediaSrc,\r\n        loop: false,\r\n        preload: false,\r\n        volume: popupPlayerVolVal,\r\n        html5: true,\r\n        format: [\"mpeg\", \"mp3\"],\r\n        // volume: 0.05,\r\n      });\r\n\r\n      let popupMusicLoaded = false;\r\n      let popupMusicLoading = false;\r\n\r\n      // Clear listener after first call.\r\n      popupSound.on(\"load\", function () {\r\n        popupMusicLoaded = true;\r\n        popupMusicLoading = false;\r\n\r\n        let duration = Math.floor(popupSound.duration());\r\n        let durationMin = String(Math.floor(duration / 60)).padStart(2, \"0\");\r\n        let durationSec = String(duration - durationMin * 60).padStart(2, \"0\");\r\n\r\n        if (!popupMusicLoaded) {\r\n          $(this).addClass(\"active\");\r\n        }\r\n\r\n        $(\"#playPopupPlayerMin\").html(`${durationMin} мин`);\r\n        $(\"#playPopupPlayerSec\").html(`${durationSec} сек`);\r\n\r\n        $(\"#playPopupPlayerPreloader\").addClass(\"d-none\");\r\n        $(\"#playPopupPlayer\").removeClass(\"d-none\");\r\n        $(\"#playPopupPlayerVolume\").removeClass(\"d-none\");\r\n      });\r\n\r\n      popupSound.on(\"play\", function () {\r\n        $(\"#playPopupPlayer\").addClass(\"active\");\r\n        setTimeout(() => {\r\n          $(\"#playPopupPlayerProgress\").css(\"transition\", \"2000ms\");\r\n        }, 200);\r\n\r\n        if (popupProgressInterval !== null) {\r\n          clearInterval(popupProgressInterval);\r\n          popupProgressInterval = null;\r\n        }\r\n        popupProgressInterval = setInterval(() => {\r\n          if (popupSound.playing()) {\r\n            let duration = Math.floor(popupSound.duration());\r\n            let position = Math.floor(popupSound.seek());\r\n            let percent = Math.round((position / duration) * 100);\r\n\r\n            $(\"#playPopupPlayerProgress\").css(\"width\", `${percent}%`);\r\n          }\r\n        }, 500);\r\n      });\r\n      popupSound.on(\"stop\", function () {\r\n        $(\"#playPopupPlayer\").removeClass(\"active\");\r\n        $(\"#playPopupPlayerProgress\").css(\"transition\", \"\");\r\n        if (popupProgressInterval !== null) {\r\n          clearInterval(popupProgressInterval);\r\n          popupProgressInterval = null;\r\n        }\r\n      });\r\n      popupSound.on(\"end\", function () {\r\n        $(\"#playPopupPlayer\").removeClass(\"active\");\r\n        $(\"#playPopupPlayerProgress\").css(\"transition\", \"\");\r\n        if (popupProgressInterval !== null) {\r\n          clearInterval(popupProgressInterval);\r\n          popupProgressInterval = null;\r\n        }\r\n      });\r\n      popupSound.on(\"pause\", function () {\r\n        $(\"#playPopupPlayer\").removeClass(\"active\");\r\n        $(\"#playPopupPlayerProgress\").css(\"transition\", \"\");\r\n        if (popupProgressInterval !== null) {\r\n          clearInterval(popupProgressInterval);\r\n          popupProgressInterval = null;\r\n        }\r\n      });\r\n\r\n      $(\"#playPopupPlayerVolume\").on(\"input\", function () {\r\n        const vol = $(this).val() / 100;\r\n        if (popupSound) {\r\n          popupSound.volume(vol);\r\n        }\r\n      });\r\n\r\n      $(\"#playPopupPlayer\").on(\"click\", function () {\r\n        if (popupSound && popupSound.playing()) {\r\n          // return popupSound.pause();\r\n          return popupSound.stop();\r\n        }\r\n        popupSound.play();\r\n      });\r\n\r\n      if (!popupMusicLoaded) {\r\n        popupMusicLoading = true;\r\n        popupSound.load();\r\n      }\r\n    });\r\n\r\n    $(\".open-contact-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#contactFormPopup\").addClass(\"active\");\r\n\r\n      $(\"#contactFormPopup\")\r\n        .find(\".overlay-cdk__content-wrap\")\r\n        .css({ transform: \"translateY(100%)\" });\r\n      setTimeout(() => {\r\n        $(\"#contactFormPopup\")\r\n          .find(\".overlay-cdk__content-wrap\")\r\n          .css({ transition: \"600ms\", transform: \"translateY(0)\" });\r\n      }, 0);\r\n    });\r\n    $(\".open-thanks-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      openThanks();\r\n    });\r\n    function openThanks() {\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#thanksPopup\").addClass(\"active\");\r\n\r\n      $(\"#thanksPopup\")\r\n        .find(\".overlay-cdk__content-wrap\")\r\n        .css({ transform: \"translateY(100%)\" });\r\n      setTimeout(() => {\r\n        $(\"#thanksPopup\")\r\n          .find(\".overlay-cdk__content-wrap\")\r\n          .css({ transition: \"600ms\", transform: \"translateY(0)\" });\r\n      }, 0);\r\n    }\r\n\r\n    // Close overlay on outside click\r\n    $(\".overlay-cdk\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n\r\n      if ($(\"#playPopup\").hasClass(\"active\")) {\r\n        if (popupSound) {\r\n          if (popupProgressInterval !== null) {\r\n            clearInterval(popupProgressInterval);\r\n            popupProgressInterval = null;\r\n          }\r\n\r\n          popupSound.off();\r\n          popupSound.unload();\r\n          popupSound = null;\r\n\r\n          $(\"#playPopupPlayer\").removeClass(\"active\").addClass(\"d-none\");\r\n          $(\"#playPopupPlayerPreloader\").removeClass(\"d-none\");\r\n          $(\"#playPopupPlayerVolume\").addClass(\"d-none\");\r\n          $(\"#playPopupPlayerProgress\").css(\"transition\", \"\").css(\"width\", \"\");\r\n\r\n          $(\"#playPopupPlayerVolume\").off(\"input\");\r\n          $(\"#playPopupPlayer\").off(\"click\");\r\n        }\r\n      }\r\n\r\n      closeOverlay();\r\n    });\r\n\r\n    // Close overlay on button click\r\n    $(\".overlay-cdk__close-btn\").on(\"click\", function (e) {\r\n      closeOverlay();\r\n    });\r\n\r\n    function closeOverlay() {\r\n      $(\".overlay-cdk\").removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    }\r\n\r\n    // Preview mp3 player\r\n    const previewPlayerVolVal = $(\"#previewPlayerVolume\").val() / 100;\r\n    const previewPlayerMediaSrc = $(\"#previewPlayerSrc\").val();\r\n\r\n    const previewSound = new Howl({\r\n      src: previewPlayerMediaSrc,\r\n      loop: false,\r\n      preload: false,\r\n      volume: previewPlayerVolVal,\r\n      // volume: 0.05,\r\n    });\r\n\r\n    $(\"#previewPlayerVolume\").on(\"input\", function () {\r\n      const vol = $(this).val() / 100;\r\n      if (previewSound) {\r\n        previewSound.volume(vol);\r\n      }\r\n    });\r\n\r\n    let previewMusicLoaded = false;\r\n    let previewMusicLoading = false;\r\n    $(\"#playPreview\").on(\"click\", function () {\r\n      if (previewMusicLoading) {\r\n        return;\r\n      }\r\n      if (!previewMusicLoaded) {\r\n        $(this).addClass(\"active\");\r\n        previewMusicLoading = true;\r\n        return previewSound.load();\r\n      }\r\n      if (previewSound && previewSound.playing()) {\r\n        // return previewSound.pause();\r\n        return previewSound.stop();\r\n      }\r\n      previewSound.play();\r\n    });\r\n    // Clear listener after first call.\r\n    previewSound.once(\"load\", function () {\r\n      previewSound.play();\r\n      previewMusicLoaded = true;\r\n      previewMusicLoading = false;\r\n    });\r\n\r\n    let previewProgressInterval = null;\r\n    previewSound.on(\"play\", function () {\r\n      $(\"#playPreview\").addClass(\"active\");\r\n      setTimeout(() => {\r\n        $(\"#previewPlayerProgress\").css(\"transition\", \"2000ms\");\r\n      }, 200);\r\n\r\n      if (previewProgressInterval !== null) {\r\n        clearInterval(previewProgressInterval);\r\n        previewProgressInterval = null;\r\n      }\r\n      previewProgressInterval = setInterval(() => {\r\n        if (previewSound.playing()) {\r\n          let duration = Math.floor(previewSound.duration());\r\n          let position = Math.floor(previewSound.seek());\r\n          let percent = Math.round((position / duration) * 100);\r\n\r\n          let durationMin = String(Math.floor(duration / 60)).padStart(2, \"0\");\r\n          let durationSec = String(duration - durationMin * 60).padStart(\r\n            2,\r\n            \"0\",\r\n          );\r\n\r\n          let positionMin = String(Math.floor(position / 60)).padStart(2, \"0\");\r\n          let positionSec = String(position - positionMin * 60).padStart(\r\n            2,\r\n            \"0\",\r\n          );\r\n\r\n          $(\"#previewPlayerPosition\").html(`${positionMin}:${positionSec}`);\r\n          $(\"#previewPlayerDuration\").html(`${durationMin}:${durationSec}`);\r\n\r\n          $(\"#previewPlayerProgress\").css(\"width\", `${percent}%`);\r\n        }\r\n      }, 500);\r\n    });\r\n    previewSound.on(\"stop\", function () {\r\n      $(\"#playPreview\").removeClass(\"active\");\r\n      $(\"#previewPlayerProgress\").css(\"transition\", \"\");\r\n      if (previewProgressInterval !== null) {\r\n        clearInterval(previewProgressInterval);\r\n        previewProgressInterval = null;\r\n      }\r\n    });\r\n    previewSound.on(\"end\", function () {\r\n      $(\"#playPreview\").removeClass(\"active\");\r\n      $(\"#previewPlayerProgress\").css(\"transition\", \"\");\r\n      if (previewProgressInterval !== null) {\r\n        clearInterval(previewProgressInterval);\r\n        previewProgressInterval = null;\r\n      }\r\n    });\r\n    previewSound.on(\"pause\", function () {\r\n      $(\"#playPreview\").removeClass(\"active\");\r\n      $(\"#previewPlayerProgress\").css(\"transition\", \"\");\r\n      if (previewProgressInterval !== null) {\r\n        clearInterval(previewProgressInterval);\r\n        previewProgressInterval = null;\r\n      }\r\n    });\r\n  });\r\n})(jQuery);\r\n\r\n// plays dummy\r\n// let plays = [\r\n//   {\r\n//     id: 1,\r\n//     age_category: \"18+\",\r\n//     is_free: true,\r\n//     is_hot: true,\r\n//     img_url: \"assets/card-1.png\",\r\n//     name: \"glossary 1\",\r\n//     desc:\r\n//       \"Добро пожаловать в Бишкек! \\r\\n\\r\\nМы с удовольствием познакомим вас с достопримечательностями нашего города, расположенными в его центральной части. Экскурсия начинается от курантов и проходит через три городские площади, старейший парк, вдоль театров, кинотеатров, памятников и монументов — в общей сложности гид покажет вам более 30-ти достопримечательностей. За те несколько часов, что длится экскурсия, вы узнаете о жизни Бишкека в периоды Кокандского ханства, Российской Империи, СССР и, наконец, Независимого Кыргызстана.\\r\\n    \\r\\nПрограмма экскурсии включает обзорное посещение двух музеев — Музея Изобразительных Искусств и Дома-музея Михаила Фрунзе. После того, как в Историческом музее будет закончена реставрация, мы с радостью включим его в наш маршрут!\",\r\n//     short_desc:\r\n//       \"Парк отличный, почему бы не прогуляться, и не вспомнить былое. Вечером приятно прогуляться, давайте сделаем это вместе!\",\r\n//     track_url:\r\n//       \"http://api.mestodteatr.kg/file-manager/bp/file/2259b478-b7d2-4987-9d74-d37c993a3c33\",\r\n//   },\r\n// ];\r\n\r\n// members dummy\r\n// let members_big = [\r\n//   {\r\n//     avatar_url: \"assets/member-1.png\",\r\n//     firstname: \"FirstName\",\r\n//     lastname: \"LastName\",\r\n//     middlename: \"MiddleName\",\r\n//     member_role: \"Role\",\r\n//     accolades: [\"accolade 1\", \"accolade 2\", \"accolade 3\"],\r\n//     socials: [\r\n//       {\r\n//         name: \"facebook\",\r\n//         value: \"https://google.com\",\r\n//       },\r\n//     ],\r\n//   },\r\n// ];\r\n// let members_small_1 = [\r\n//   {\r\n//     avatar_url: \"assets/member-1.png\",\r\n//     firstname: \"Нурбек\",\r\n//     lastname: \"Эген\",\r\n//     middlename: \"\",\r\n//     member_role: \"Role\",\r\n//     accolades: [\"accolade 1\", \"accolade 2\", \"accolade 3\"],\r\n//     socials: [\r\n//       {\r\n//         name: \"facebook\",\r\n//         value: \"https://google.com\",\r\n//       },\r\n//     ],\r\n//   },\r\n// ];\r\n// let members_small_2 = [\r\n//   {\r\n//     avatar_url: \"assets/member-1.png\",\r\n//     firstname: \"Нурбек\",\r\n//     lastname: \"Эген\",\r\n//     middlename: \"\",\r\n//     member_role: \"Role\",\r\n//     accolades: [\"accolade 1\", \"accolade 2\", \"accolade 3\"],\r\n//     socials: [\r\n//       {\r\n//         name: \"facebook\",\r\n//         value: \"https://google.com\",\r\n//       },\r\n//     ],\r\n//   },\r\n// ];\r\n"]}
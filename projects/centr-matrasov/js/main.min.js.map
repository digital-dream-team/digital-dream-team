{"version":3,"sources":["main.js"],"names":["$","document","ready","length","delivery_type","val","on","addClass","e","preventDefault","parent","find","hasClass","this","data","removeClass","html","text","closest","each","thumb","top","Swiper","spaceBetween","slidesPerView","watchSlidesProgress","init","slides","slideChange","slider","isEnd","isBeginning","galleryTop","thumbs","swiper","galleryThumbs","autoScrollOffset","pagination","el","cats","draggable","Glider","slidesToShow","exactWidth","itemWidth","value","percent","Number","isNaN","content","concat","accordions","inner_parent","hide","inner_content","slideUp","accordionsWrap","slideDown","index","mapContainer","console","log","css","fadeIn","infinite","target","currentTarget","link","toggleDrawer","attr","mobileDrawer","width","slick","mobileDrawerHammer","setTimeout","Hammer","productComments","breadcrumb","win","window","outerWidth","productPageSidebar","cartPageSidebar","bcInitialLength","detach","appendTo","bottom","toShorten","height","insertAfter","children","autoheight","dragVelocity","remove","arrows","jQuery","resize","scrollTop"],"mappings":"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","file":"main.min.js","sourcesContent":["(function ($) {\r\n  $(document).ready(function () {\r\n    // Cart page\r\n    if ($('input[name=\"delivery_type\"]').length) {\r\n      let delivery_type = $('input[name=\"delivery_type\"]:checked').val();\r\n      $('input[name=\"delivery_type\"]').on(\"change\", function () {\r\n        delivery_type = $(this).val();\r\n\r\n        if (delivery_type === \"type_pickup\") {\r\n          $(\".address-form__delivery-type-hint--1\").addClass(\"d-none\");\r\n        } else if (delivery_type === \"type_home\") {\r\n          $(\".address-form__delivery-type-hint--1\").removeClass(\"d-none\");\r\n        }\r\n      });\r\n    }\r\n\r\n    // Hide texts under spoiler on mobile\r\n    $(document).on(\"click\", \".shortened__toggle\", function (e) {\r\n      e.preventDefault();\r\n      if (!$(this).parent().find(\".to-shorten.shortened\").hasClass(\"active\")) {\r\n        $(this).parent().find(\".to-shorten.shortened\").addClass(\"active\");\r\n        $(this).data(\"text\", $(this).text());\r\n        $(this).html(\"Скрыть\");\r\n      } else {\r\n        $(this).parent().find(\".to-shorten.shortened\").removeClass(\"active\");\r\n        $(this).html($(this).data(\"text\") || \"Читать полностью\");\r\n      }\r\n      // $(this).remove();\r\n    });\r\n    // Hide seo texts\r\n    $(\".static-seo__toggle\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const parent = $(this).closest(\".static-seo\");\r\n      if (!parent.hasClass(\"active\")) {\r\n        parent.addClass(\"active\");\r\n        $(this).data(\"text\", $(this).text());\r\n        $(this).html(\"Скрыть\");\r\n      } else {\r\n        parent.removeClass(\"active\");\r\n        $(this).html($(this).data(\"text\") || \"Читать полностью\");\r\n      }\r\n    });\r\n\r\n    // Product gallery swiper initialize\r\n    $(\".product-media-gallery\").each(function () {\r\n      const thumb = $(this).find(\".product-media-gallery__thumbs\");\r\n      const top = $(this).find(\".product-media-gallery__top\");\r\n\r\n      let galleryThumbs = new Swiper(thumb[0], {\r\n        spaceBetween: 10,\r\n        slidesPerView: 4,\r\n        // freeMode: true,\r\n        watchSlidesVisibility: true,\r\n        watchSlidesProgress: true,\r\n        // slidesPerGroup: 3,\r\n        on: {\r\n          init: function () {\r\n            if ($(this)[0].slides.length > 4) {\r\n              $(\".product-media-gallery__thumbs-arrow-forward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n          },\r\n          slideChange: function () {\r\n            let slider = $(this)[0];\r\n            if (slider.isEnd) {\r\n              $(\r\n                \".product-media-gallery__thumbs-arrow-forward-wrap\",\r\n              ).removeClass(\"active\");\r\n            } else {\r\n              $(\".product-media-gallery__thumbs-arrow-forward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n            if (slider.isBeginning) {\r\n              $(\r\n                \".product-media-gallery__thumbs-arrow-backward-wrap\",\r\n              ).removeClass(\"active\");\r\n            } else {\r\n              $(\".product-media-gallery__thumbs-arrow-backward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n          },\r\n        },\r\n      });\r\n\r\n      let galleryTop = new Swiper(top[0], {\r\n        spaceBetween: 10,\r\n        navigation: {\r\n          nextEl: \".swiper-button-next\",\r\n          prevEl: \".swiper-button-prev\",\r\n        },\r\n        pagination: {\r\n          el: \".swiper-pagination\",\r\n        },\r\n        thumbs: {\r\n          swiper: galleryThumbs,\r\n          autoScrollOffset: 1,\r\n        },\r\n      });\r\n    });\r\n\r\n    // Swipe categories on catalog page\r\n    $(\".categories-panel\").each(function () {\r\n      const cats = new Glider($(this)[0], {\r\n        draggable: true,\r\n        slidesToShow: \"auto\",\r\n        exactWidth: false,\r\n        itemWidth: 50,\r\n      });\r\n    });\r\n    // $(\".categories-panel a\").each(function () {\r\n    //   $(this)[0].ondragstart = function () {\r\n    //     return false;\r\n    //   };\r\n    // });\r\n    // $(\".categories-panel\").each(function () {\r\n    //   let $self = $(this);\r\n    //   let panStart = null;\r\n    //   let categoryPan = new Hammer($self[0]);\r\n\r\n    //   categoryPan.on(\"panstart\", function ($event) {\r\n    //     panStart = $event.center.x;\r\n    //   });\r\n    //   categoryPan.on(\"panend\", function ($event) {\r\n    //     panStart = null;\r\n    //   });\r\n\r\n    //   categoryPan.on(\"pan\", function ($event) {\r\n    //     const walk = ($event.center.x - panStart) * 0.08; //scroll-fast\r\n    //     $self.scrollLeft($self.scrollLeft() - walk);\r\n    //   });\r\n    // });\r\n\r\n    // Product page reviews bar value\r\n    $(\".product-page__reviews-summary-score-bar\").each(function () {\r\n      const value = $(this).data(\"percent-value\");\r\n      const percent = Number(value);\r\n      if (percent && !isNaN(percent) && percent >= 0 && percent <= 100) {\r\n        const bar = $(this).find(\r\n          \".product-page__reviews-summary-score-bar-inner\",\r\n        );\r\n        bar.css(\"width\", `${percent}%`);\r\n      }\r\n    });\r\n\r\n    // Accordion\r\n    $(\".accordion\").each(function () {\r\n      $(this).parent().find(\".accordion__content\").hide();\r\n    });\r\n    $(\".accordion__toggle\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let parent = $(this).parent();\r\n      let content = parent.find(\".accordion__content\");\r\n\r\n      if (!parent.hasClass(\"opened\")) {\r\n        let accordionsWrap = $(this).closest(\".accordions-wrap\");\r\n        if (accordionsWrap && accordionsWrap.hasClass(\"accordions-switching\")) {\r\n          let accordions = accordionsWrap.find(\".accordion\");\r\n          accordions.each(function () {\r\n            let inner_parent = $(this).parent();\r\n            let inner_content = $(this).find(\".accordion__content\");\r\n            inner_parent.removeClass(\"opened\");\r\n            inner_content.slideUp(\"fast\");\r\n          });\r\n        }\r\n        parent.addClass(\"opened\");\r\n\r\n        content.slideDown(\"fast\");\r\n      } else {\r\n        parent.removeClass(\"opened\");\r\n\r\n        content.slideUp(\"fast\");\r\n      }\r\n    });\r\n\r\n    // Interactive map\r\n    $(\".interactive-map__pin-btn\").on(\"click\", function () {\r\n      let index = Number($(this).data(\"index\"));\r\n      let mapContainer = $(this).closest(\".interactive-map\");\r\n\r\n      if (isNaN(index)) {\r\n        return;\r\n      }\r\n\r\n      // pins\r\n      if ($(this).hasClass(\"active\")) {\r\n        mapContainer.find(\".interactive-map__pin-btn\").removeClass(\"active\");\r\n        mapContainer.find(\".interactive-map__panel\").hide();\r\n\r\n        mapContainer\r\n          .find(\".interactive-map__panel--initial\")\r\n          .css(\"display\", \"flex\")\r\n          .hide()\r\n          .fadeIn();\r\n\r\n        return;\r\n      }\r\n      mapContainer.find(\".interactive-map__pin-btn\").removeClass(\"active\");\r\n      $(this).addClass(\"active\");\r\n\r\n      // panels\r\n      // mapContainer.find(\".interactive-map__panel\").removeClass(\"active\");\r\n      mapContainer.find(\".interactive-map__panel\").hide();\r\n      const panel = mapContainer.find(\r\n        '.interactive-map__panels div[data-index=\"' + index + '\"]',\r\n      );\r\n\r\n      panel.css(\"display\", \"flex\").hide().fadeIn();\r\n    });\r\n\r\n    // Open video overlay\r\n    $(\".open-video-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const link = $(this).attr(\"href\");\r\n      console.log(link);\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#videoPopupOverlay\").addClass(\"active\");\r\n      $(\"#videoPopupOverlay\").find(\"iframe\").attr(\"src\", link);\r\n\r\n      if ($(\"body\").width() <= \"990\") {\r\n        // rebuild carousel because overlay doesn't calculate properly\r\n        $(\"#videoPopupOverlay\").find(\".mobile-slider\").slick(\"unslick\").slick({\r\n          infinite: false,\r\n          dots: false,\r\n          arrows: false,\r\n          slidesToShow: 1.1,\r\n        });\r\n      }\r\n    });\r\n\r\n    // Close overlay on outside click\r\n    $(\".overlay-cdk\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n      $(this).removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    });\r\n    // Close overlay on button click\r\n    $(\".overlay-cdk__close-btn\").on(\"click\", function (e) {\r\n      $(\".overlay-cdk\").removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    });\r\n\r\n    // Mobile drawer\r\n    $(\".drawer-toggler\").on(\"click\", function () {\r\n      toggleDrawer();\r\n    });\r\n    let mobileDrawer = $(\".mobile-drawer\");\r\n    if (mobileDrawer) {\r\n      let mobileDrawerHammer = new Hammer(mobileDrawer[0]);\r\n      mobileDrawerHammer.on(\"swiperight\", function () {\r\n        toggleDrawer();\r\n      });\r\n    }\r\n\r\n    function toggleDrawer() {\r\n      if (!$(\".mobile-drawer\").hasClass(\"active\")) {\r\n        $(\".mobile-drawer\").addClass(\"active\");\r\n        $(\"body\").addClass(\"overflow-hidden\");\r\n        setTimeout(function () {\r\n          $(\".mobile-drawer\").addClass(\"dark\");\r\n        }, 250); // synced with css transition time ((~60%)\r\n      } else {\r\n        $(\".mobile-drawer\").removeClass(\"active dark\");\r\n        $(\"body\").removeClass(\"overflow-hidden\");\r\n      }\r\n    }\r\n\r\n    // Close overlay on outside click\r\n    $(\".mobile-drawer\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n      toggleDrawer();\r\n    });\r\n    // Close overlay on close click\r\n    $(\".mobile-drawer__close-btn\").on(\"click\", function () {\r\n      toggleDrawer();\r\n    });\r\n\r\n    // Responsiveness\r\n\r\n    resize();\r\n    $(window).on(\"resize\", function () {\r\n      resize();\r\n    });\r\n    function resize() {\r\n      const win = $(window); //this = window\r\n      const width = win.outerWidth();\r\n\r\n      const productPageSidebar = $(\".product-page-sidebar\");\r\n      const cartPageSidebar = $(\".cart-page-sidebar\");\r\n      const productComments = $(\".product-page__reviews-comments\");\r\n      const breadcrumb = $(\".breadcrumb\");\r\n      const toShorten = $(\".to-shorten\");\r\n      if (width <= 990) {\r\n        // Move product sidebar on   mobile\r\n        if (productPageSidebar) {\r\n          productPageSidebar\r\n            .detach()\r\n            .appendTo(\".product-page__mobile-sidebar-spot\");\r\n        }\r\n        if (cartPageSidebar) {\r\n          let top = cartPageSidebar.find(\".cart-page-sidebar__top\");\r\n          let bottom = cartPageSidebar.find(\".cart-page-sidebar__bottom\");\r\n          top.detach().appendTo(\".cart-page__mobile-top-sidebar-spot\");\r\n          bottom.detach().appendTo(\".cart-page__mobile-bottom-sidebar-spot\");\r\n        }\r\n\r\n        // To shorten big chunks of text\r\n        if (toShorten) {\r\n          toShorten.each(function () {\r\n            if ($(this).height() > 100 && !$(this).hasClass(\"shortened\")) {\r\n              $(this).addClass(\"shortened\");\r\n              $(\r\n                \"<a href='#' class='shortened__toggle d-block mbp-20'>Читать полностью</a>\",\r\n              ).insertAfter($(this));\r\n            }\r\n          });\r\n        }\r\n\r\n        // Shorten mobile breadcrumb\r\n        if (breadcrumb && !breadcrumb.hasClass(\"mobile-breadcrumb\")) {\r\n          breadcrumb.addClass(\"mobile-breadcrumb\");\r\n\r\n          let bcInitialLength = breadcrumb.children().length;\r\n          breadcrumb.children().each(function (index) {\r\n            if (index !== 0 && index !== bcInitialLength - 1) {\r\n              $(this).remove();\r\n            }\r\n          });\r\n          if (bcInitialLength > 2) {\r\n            $(\r\n              '<li class=\"breadcrumb-item text-black-secondary\">...</li>',\r\n            ).insertAfter(breadcrumb.children(\":first\"));\r\n          }\r\n        }\r\n\r\n        // Slick mobile-slider\r\n        // $(\".mobile-slider\").each(function () {\r\n        //   if (!$(this).hasClass(\"slick-initialized\")) {\r\n        //     $(this).slick({\r\n        //       infinite: false,\r\n        //       dots: false,\r\n        //       arrows: false,\r\n        //       slidesToShow: 1,\r\n        //       // variableWidth: true,\r\n        //       // centerMode: true,\r\n        //       // centerPadding: \"20px\",\r\n        //     });\r\n        //   }\r\n        // });\r\n\r\n        $(\".mobile-slider\").each(function () {\r\n          const glider = new Glider($(this)[0], {\r\n            draggable: true,\r\n            slidesToShow: \"auto\",\r\n            exactWidth: false,\r\n            autoheight: true,\r\n            dragVelocity: 2.3,\r\n          });\r\n        });\r\n\r\n        // Slick mobile-carousel\r\n        $(\".mobile-carousel\").each(function () {\r\n          if (!$(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick({\r\n              infinite: false,\r\n              dots: true,\r\n              arrows: false,\r\n              slidesToShow: 1,\r\n              // variableWidth: true,\r\n              // centerMode: true,\r\n              // centerPadding: \"20px\",\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        // Put product sidebar back on desktop\r\n        if (productPageSidebar) {\r\n          if (!productPageSidebar.parent().hasClass(\"sidebar-initial-spot\")) {\r\n            productPageSidebar.detach().appendTo(\".sidebar-initial-spot\");\r\n          }\r\n        }\r\n        if (cartPageSidebar) {\r\n          let top = $(\".cart-page-sidebar__top\");\r\n          let bottom = $(\".cart-page-sidebar__bottom\");\r\n          if (top.parent().hasClass(\"cart-page__mobile-top-sidebar-spot\")) {\r\n            top.detach().appendTo(\".cart-page-sidebar__top-wrap\");\r\n          }\r\n          if (\r\n            bottom.parent().hasClass(\"cart-page__mobile-bottom-sidebar-spot\")\r\n          ) {\r\n            bottom.detach().appendTo(\".cart-page-sidebar__bottom-wrap\");\r\n          }\r\n        }\r\n\r\n        // Destroy mobile-slider\r\n        $(\".mobile-slider\").each(function () {\r\n          if ($(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick(\"unslick\");\r\n          }\r\n        });\r\n        // Destroy mobile-carousel\r\n        $(\".mobile-carousel\").each(function () {\r\n          if ($(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick(\"unslick\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n    // Fixed header\r\n    if ($(\"body\").width() <= \"990\") {\r\n      if ($(document).scrollTop() >= 300) {\r\n        $(\".main-header__top\").addClass(\"fixed\");\r\n      } else {\r\n        $(\".main-header__top\").removeClass(\"fixed\");\r\n      }\r\n    } else {\r\n      $(\".main-header__top\").removeClass(\"fixed\");\r\n    }\r\n    $(document).on(\"scroll\", function () {\r\n      if ($(\"body\").width() <= \"990\") {\r\n        if ($(document).scrollTop() >= 300) {\r\n          $(\".main-header__top\").addClass(\"fixed\");\r\n        } else {\r\n          $(\".main-header__top\").removeClass(\"fixed\");\r\n        }\r\n      } else {\r\n        $(\".main-header__top\").removeClass(\"fixed\");\r\n      }\r\n    });\r\n  });\r\n})(jQuery);\r\n"]}
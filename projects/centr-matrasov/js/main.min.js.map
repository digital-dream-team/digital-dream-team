{"version":3,"sources":["main.js"],"names":["getCookie","cname","name","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","setCookie","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","$","ready","updateCompareAttributesDisplay","compareType","activeTab","setTimeout","console","attributes","$attrs_active","forEach","attribute","uniq","find","Set","attrs_array","$atts_global","push","this","text","trim","_toConsumableArray","addClass","removeClass","paramsContainers","on","val","iValue","input","tags","id","attr","value","title","each","container","empty","tag","append","$resetBtn","concat","$input","prop","trigger","error","e","preventDefault","closest","data","stars","$submitBtn","starValue","$parent","$previewTarget","limit","reader","html","pickup_address","files","remove","file","FileReader","readAsDataURL","onload","target","result","payment_type","stopPropagation","index","parent","regId","hide","show","phoneConfirmParent","code","payload","delivery_type","stepperId","changeStepperStep","stepper","nextEl","prevEl","pagination","thumbs","swiper","step","steps","hasClass","ind","tab","values","serializeArray","field","spaceBetween","slidesPerView","watchSlidesProgress","init","slides","staticTabs","slideChange","slider","isBeginning","thumb","top","galleryThumbs","Swiper","loop","prepend","isEnd","percent","bar","navigation","linkedContent","el","content","wrap","mapContainer","wrapper","freeMode","Number","isNaN","css","rows","linkId","hRating","hHeight","slideUp","hType","slideDown","hComposition","height","hPrice","hFiller","accordionsWrap","hPackaging","inner_content","hWarranty","hManufacturer","hBase","hFirmness","fadeIn","hWeight","hCubature","hColor","insertAfter","x","mouseDownHandler","pos","left","ele","scrollLeft","$el","addEventListener","hSize","mouseMoveHandler","hLoad","scrollTop","mouseUpHandler","removeProperty","removeEventListener","_this","link","slidesToShow","$overlay","$target","y","dx","clientX","mobileDrawer","mobileDrawerHammer","Hammer","style","cursor","toggleDrawer","clientY","currentTarget","outerWidth","width","imageZoom","slick","infinite","imageDestroy","resultID","getElementById","$form","children","img","moveLens","clone","appendTo","backgroundImage","backgroundPosition","getBoundingClientRect","pageX","pageY","resize","window","bcInitialLength","dots","detach","arrows","swipeToSlide","$processCard","cardWidth","innerWidth","$processCardParent","imgUrl","cx","offsetWidth","cy","offsetHeight","url","slice","replace","a","event","pageYOffset","getCursorPos","backgroundSize","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["(function ($) {\r\n  $(document).ready(function () {\r\n    // Compare filter\r\n    // Really loop heavy actions, may be better to move logic on back-end\r\n    $('input[name=\"compare_type\"]').on(\"change\", function () {\r\n      let compareType = $(this).val();\r\n      updateCompareAttributesDisplay(compareType);\r\n    });\r\n    $(\".custom-tabs-header__item-link\").on(\"click\", function () {\r\n      let compareType = $('input[name=\"compare_type\"]:checked').val();\r\n      if (compareType) {\r\n        updateCompareAttributesDisplay(\"all\");\r\n        setTimeout(() => {\r\n          updateCompareAttributesDisplay(compareType);\r\n        }, 200);\r\n      }\r\n    });\r\n\r\n    function updateCompareAttributesDisplay(compareType) {\r\n      if (compareType === \"difference\") {\r\n        let activeTab = $(\".tab-pane.active\");\r\n        if (!activeTab.length) {\r\n          console.error(\"tab is unavailable\");\r\n          return;\r\n        }\r\n\r\n        let attributes = [\r\n          \"compare-attribute--rating\",\r\n          \"compare-attribute--type\",\r\n          \"compare-attribute--size\",\r\n          \"compare-attribute--height\",\r\n          \"compare-attribute--firmness\",\r\n          \"compare-attribute--base\",\r\n          \"compare-attribute--load\",\r\n          \"compare-attribute--composition\",\r\n          \"compare-attribute--price\",\r\n          \"compare-attribute--filler\",\r\n          \"compare-attribute--weight\",\r\n          \"compare-attribute--cubature\",\r\n          \"compare-attribute--packaging\",\r\n          \"compare-attribute--color\",\r\n          \"compare-attribute--warranty\",\r\n          \"compare-attribute--manufacturer\",\r\n        ];\r\n\r\n        attributes.forEach((attribute) => {\r\n          let $attrs_active = activeTab.find(\".\" + attribute);\r\n          let attrs_array = [];\r\n          $attrs_active.each(function () {\r\n            attrs_array.push($(this).text().trim());\r\n          });\r\n\r\n          let uniq = [...new Set(attrs_array)];\r\n          let $atts_global = $(\".\" + attribute); // including sidebar\r\n          if (uniq.length <= 1) $atts_global.addClass(\"d-none\");\r\n\r\n          // hide accordion\r\n          if (\r\n            $(\".compare-attribute-accordion\").find(\".compare-attribute\")\r\n              .length ===\r\n            $(\".compare-attribute-accordion\").find(\".compare-attribute.d-none\")\r\n              .length\r\n          ) {\r\n            $(\".compare-attribute-accordion\").addClass(\"d-none\");\r\n          }\r\n        });\r\n      } else {\r\n        $(\".compare-attribute\").removeClass(\"d-none\");\r\n        $(\".compare-attribute-accordion\").removeClass(\"d-none\");\r\n      }\r\n    }\r\n\r\n    // Catalog filter tags\r\n    if ($(\".bx-filter\").length) {\r\n      $(\".bx-filter\").each(function () {\r\n        let tags = [];\r\n        const paramsContainers = $(this).find(\".bx-filter-parameters-box\");\r\n        paramsContainers.each(function () {\r\n          const title = $(this)\r\n            .find(\".bx-filter-parameters-box-title\")\r\n            .text()\r\n            .trim();\r\n\r\n          if ($(this).find(\".radio\").length) {\r\n            let value = null;\r\n            $(this)\r\n              .find(\".radio\")\r\n              .each(function () {\r\n                let input = $(this).find('input[type=\"radio\"]');\r\n                let iValue = input\r\n                  .closest(\".bx-filter-input-checkbox\")\r\n                  .find(\".bx-filter-param-text\")\r\n                  .attr(\"title\");\r\n                let id = input.attr(\"id\");\r\n                if (input.attr(\"checked\") === \"checked\" && iValue) {\r\n                  value = iValue;\r\n                  tags.push({\r\n                    title,\r\n                    value,\r\n                    id,\r\n                  });\r\n                }\r\n              });\r\n          }\r\n\r\n          if ($(this).find(\".checkbox\").length) {\r\n            $(this)\r\n              .find(\".checkbox\")\r\n              .each(function () {\r\n                let input = $(this).find('input[type=\"checkbox\"]');\r\n                let value = null;\r\n                let iValue = input\r\n                  .closest(\".bx-filter-input-checkbox\")\r\n                  .find(\".bx-filter-param-text\")\r\n                  .attr(\"title\");\r\n                let id = input.attr(\"id\");\r\n\r\n                if (input.attr(\"checked\") === \"checked\" && iValue) {\r\n                  value = iValue;\r\n                  tags.push({\r\n                    title,\r\n                    value,\r\n                    id,\r\n                  });\r\n                }\r\n              });\r\n          }\r\n\r\n          if ($(this).find(\"input.min-price\").length) {\r\n            let input = $(this).find(\"input.min-price\");\r\n            let iValue = input.val();\r\n            let id = input.attr(\"id\");\r\n            if (iValue !== \"\") {\r\n              tags.push({\r\n                title: \"Минимальная цена\",\r\n                value: iValue,\r\n                id,\r\n              });\r\n            }\r\n          }\r\n          if ($(this).find(\"input.max-price\").length) {\r\n            let input = $(this).find(\"input.max-price\");\r\n            let iValue = input.val();\r\n            let id = input.attr(\"id\");\r\n            if (iValue !== \"\") {\r\n              tags.push({\r\n                title: \"Максимальная цена\",\r\n                value: iValue,\r\n                id,\r\n              });\r\n            }\r\n          }\r\n        });\r\n\r\n        if ($(\".applied-filters-panel__filters\").length) {\r\n          $(\".applied-filters-panel__filters\").each(function () {\r\n            let container = $(this);\r\n            container.empty();\r\n            tags.forEach(function (tag) {\r\n              container.append(\r\n                `<button class=\"applied-filters-panel__filters-btn btn btn-outline-black-lines text-black-subtext btn-sm\" data-control-id=\"${tag.id}\">\r\n                  <span class=\"applied-filters-panel__filters-btn-category\">\r\n                  ${tag.title}:\r\n                  </span>\r\n                  <span class=\"applied-filters-panel__filters-btn-value\">\r\n                    ${tag.value}\r\n                    <i class=\"icon-icon_close_2 text-normal\"></i>\r\n                  </span>\r\n                </button>`,\r\n              );\r\n            });\r\n            // container.append(\r\n            //   `\r\n            //     <a href=\"#\" class=\"text-action\">Сбросить фильтр</a>\r\n            //   `,\r\n            // );\r\n          });\r\n        }\r\n      });\r\n    }\r\n    $(\".applied-filters-panel__filters\").each(function () {\r\n      let container = $(this);\r\n\r\n      container.append(\r\n        `\r\n          <a href=\"#\" class=\"text-action applied-filters-panel__filters-reset\">Сбросить фильтр</a>\r\n        `,\r\n      );\r\n    });\r\n    $(document).on(\r\n      \"click\",\r\n      \".applied-filters-panel__filters-reset\",\r\n      function (e) {\r\n        const $resetBtn = $(\"#del_filter\");\r\n        if (!$resetBtn.length) {\r\n          console.error(\"Reset button is unavailable\");\r\n          return;\r\n        }\r\n\r\n        // Main reset button (hidden for current theme)\r\n        $resetBtn.trigger(\"click\");\r\n      },\r\n    );\r\n    $(document).on(\r\n      \"click\",\r\n      \".applied-filters-panel__filters-btn\",\r\n      function (e) {\r\n        e.preventDefault();\r\n        const id = $(this).data(\"controlId\");\r\n        if (!id || id === \"\") {\r\n          console.error(\"Input id is unavailable\");\r\n          return;\r\n        }\r\n        const $input = $(`#${id}`);\r\n        if (!$input.length) {\r\n          console.error(\"Input is unavailable\");\r\n          return;\r\n        }\r\n        const $submitBtn = $(\"#set_filter\");\r\n        if (!$submitBtn.length) {\r\n          console.error(\"Submit button is unavailable\");\r\n          return;\r\n        }\r\n\r\n        if (\r\n          $input.attr(\"type\") === \"checkbox\" ||\r\n          $input.attr(\"type\") === \"radio\"\r\n        ) {\r\n          $input.prop(\"checked\", false);\r\n        } else {\r\n          $input.val(\"\");\r\n        }\r\n\r\n        // Main submit button (hidden for current theme)\r\n        $submitBtn.trigger(\"click\");\r\n      },\r\n    );\r\n\r\n    // Review page\r\n    // Review Limited characters input (review popup)\r\n    $(\".limited-textarea-input\").each(function () {\r\n      const limit = $(this).prop(\"maxlength\");\r\n      if (!limit) return;\r\n      $(this)\r\n        .closest(\".limited-textarea-input-wrap\")\r\n        .find(\".limited-textarea-input__limit\")\r\n        .html(limit);\r\n    });\r\n    $(\".limited-textarea-input\").on(\"input\", function (e) {\r\n      let length = $(this).val().length;\r\n\r\n      $(this)\r\n        .closest(\".limited-textarea-input-wrap\")\r\n        .find(\".limited-textarea-input__counter\")\r\n        .html(length);\r\n    });\r\n    // Review Rating input\r\n    $(\".overlay-cdk__content-review-rating-btn\").on(\"click\", function () {\r\n      const value = $(this).data(\"value\");\r\n      if (!value) return;\r\n      const $parent = $(this).closest(\".review-rating-wrap\");\r\n      const $input = $parent.find(\".review-rating__input\");\r\n      $input.val(value);\r\n\r\n      const stars = $parent.find(\".overlay-cdk__content-review-rating-btn\");\r\n      stars.each(function () {\r\n        let starValue = $(this).data(\"value\");\r\n        if (starValue <= value) {\r\n          $(this).find(\"i\").addClass(\"active\");\r\n        } else {\r\n          $(this).find(\"i\").removeClass(\"active\");\r\n        }\r\n      });\r\n    });\r\n    // Review Upload input\r\n    $(\".review-image-upload__upload-btn\").on(\"click\", function () {\r\n      const $parent = $(this).closest(\".review-image-upload\");\r\n      const $input = $parent.find(\".review-image-upload__input\");\r\n      $input.trigger(\"click\");\r\n    });\r\n    $(\".review-image-upload__input\").on(\"change\", function () {\r\n      const files = $(this)[0].files;\r\n      if (!files) return;\r\n\r\n      const $parent = $(this).closest(\".review-image-upload\");\r\n      const $previewTarget = $parent.find(\".review-image-upload__content\");\r\n      $previewTarget.find(\".review-image-upload__content-image\").remove();\r\n\r\n      for (var i = 0; i < files.length; i++) {\r\n        const file = files[i];\r\n\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function (e) {\r\n          $previewTarget.append(`\r\n            <img\r\n              src=\"${e.target.result}\"\r\n              alt=\"user image\"\r\n              class=\"review-image-upload__content-image\"\r\n            />\r\n          `);\r\n        };\r\n      }\r\n    });\r\n\r\n    // Checkout page\r\n    if ($(\".checkout-form\").length) {\r\n      // Pickup select change\r\n\r\n      // Sematic correct interaction on button\r\n      // $(\".form-select-group__select-btn\").on(\"click\", function () {\r\n      //   $(this).parent().find('input[type=\"radio\"]').prop(\"checked\", true);\r\n      //   let pickup_address = $('input[name=\"pickup_address\"]:checked').val();\r\n      //   // console.log(pickup_address);\r\n      //   $(\".form-select-group__select-btn\").parent().removeClass(\"active\");\r\n      //   $(this).parent().addClass(\"active\");\r\n      // });\r\n      // Project specific interaction on container\r\n      $(\".form-select-group__select\").on(\"click\", function (e) {\r\n        $(this).find('input[type=\"radio\"]').prop(\"checked\", true);\r\n        let pickup_address = $('input[name=\"pickup_address\"]:checked').val();\r\n        $(\".form-select-group__select\").removeClass(\"active\");\r\n        $(this).addClass(\"active\");\r\n      });\r\n      // Prevent event above to trigger (a placed inside form-select-group__select)\r\n      $(\".form-select-group__select a\").on(\"click\", function (e) {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      // Region dropdown\r\n      $(\".checkout-form__region-dropdown-btn\").each(function (index) {\r\n        if (index === 0) {\r\n          let regId = $(this).data(\"region-id\");\r\n          $(\".form-select-group__select\").hide();\r\n          $(\r\n            \".form-select-group__select[data-region-id='\" + regId + \"']\",\r\n          ).show();\r\n        }\r\n      });\r\n      $(\".checkout-form__region-dropdown-btn\").on(\"click\", function (e) {\r\n        e.preventDefault();\r\n        let parent = $(this).closest(\".checkout-form__region-dropdown\");\r\n        let value = $(this).text().trim();\r\n        let regId = $(this).data(\"region-id\");\r\n\r\n        parent.find(\".checkout-form__region-dropdown-value\").html(value);\r\n        $(\".checkout-form__region-input\").val(value);\r\n\r\n        $('input[name=\"pickup_address\"]').prop(\"checked\", false);\r\n        $(\".form-select-group__select-btn\").parent().removeClass(\"active\");\r\n\r\n        // let pickup_address = $('input[name=\"pickup_address\"]:checked').val();\r\n\r\n        $(\".form-select-group__select\").hide();\r\n        $(\".form-select-group__select[data-region-id='\" + regId + \"']\").show();\r\n      });\r\n\r\n      // Delivery type radio switch\r\n      if ($('input[name=\"delivery_type\"]').length) {\r\n        let delivery_type = $('input[name=\"delivery_type\"]:checked').val();\r\n        $('input[name=\"delivery_type\"]').on(\"change\", function () {\r\n          delivery_type = $(this).val();\r\n\r\n          if (delivery_type === \"pickup\") {\r\n            $(\".checkout-form__delivery-type-hint--1\").addClass(\"d-none\");\r\n\r\n            $(\".checkout-form__delivery-types-tab-pickup\").addClass(\"active\");\r\n            $(\".checkout-form__delivery-types-tab-address\").removeClass(\r\n              \"active\",\r\n            );\r\n          } else if (delivery_type === \"home\") {\r\n            $(\".checkout-form__delivery-type-hint--1\").removeClass(\"d-none\");\r\n\r\n            $(\".checkout-form__delivery-types-tab-address\").addClass(\"active\");\r\n            $(\".checkout-form__delivery-types-tab-pickup\").removeClass(\r\n              \"active\",\r\n            );\r\n          }\r\n        });\r\n      }\r\n      // Payment type radio switch\r\n      if ($('input[name=\"payment_type\"]').length) {\r\n        let payment_type = $('input[name=\"payment_type\"]:checked').val();\r\n        $('input[name=\"payment_type\"]').on(\"change\", function () {\r\n          payment_type = $(this).val();\r\n\r\n          if (payment_type === \"on_delivery\") {\r\n            $(\".checkout-form__payment-type-hint--1\").addClass(\"d-none\");\r\n          } else if (payment_type === \"online\") {\r\n            $(\".checkout-form__payment-type-hint--1\").removeClass(\"d-none\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n    // Phone confirmation\r\n    $(\".phone-confirmation__phone-group-confirm-btn\").on(\"click\", function () {\r\n      let parent = $(this).closest(\".phone-confirmation\");\r\n      parent.addClass(\"phone-confirmation--active\");\r\n    });\r\n    $(\".phone-confirmation__code-group input\").on(\r\n      \"change textInput input\",\r\n      function () {\r\n        let parent = $(this).closest(\".phone-confirmation__code-group\");\r\n        if ($(this).val() === \"\") {\r\n          parent.removeClass(\"phone-confirmation__code-group--active\");\r\n        } else {\r\n          parent.addClass(\"phone-confirmation__code-group--active\");\r\n        }\r\n      },\r\n    );\r\n\r\n    $(\".phone-confirmation__code-group-confirm-btn\").on(\"click\", function () {\r\n      let phoneConfirmParent = $(this).closest(\".phone-confirmation\");\r\n      // reset\r\n      phoneConfirmParent.removeClass(\r\n        \"phone-confirmation--success phone-confirmation--invalid\",\r\n      );\r\n\r\n      // get data\r\n      let phone = phoneConfirmParent\r\n        .find(\".phone-confirmation__phone-group input\")\r\n        .val();\r\n      let code = phoneConfirmParent\r\n        .find(\".phone-confirmation__code-group input\")\r\n        .val();\r\n\r\n      let payload = { phone, code };\r\n\r\n      // Сделать запрос и выставить классы\r\n      // // При успехе\r\n      // phoneConfirmParent.addClass(\"phone-confirmation--success\");\r\n      // // При ошибке\r\n      // phoneConfirmParent.addClass(\"phone-confirmation--invalid\");\r\n\r\n      // $.ajax({\r\n      //   url: 'API_URL',\r\n      //   method: 'POST',\r\n      //   dataType: 'json',\r\n      //   data: payload,\r\n      //   success: function(obj) {\r\n      //     console.log(obj);\r\n\r\n      //   },\r\n      //   error: function(err) {\r\n      //     console.error(err);\r\n      //   }\r\n      // });\r\n    });\r\n\r\n    // Stepper\r\n    $(\".stepper-tab\").each(function (index) {\r\n      if (index === 0) {\r\n        $(this).addClass(\"active\");\r\n      }\r\n    });\r\n    $(\".stepper-header__step\").on(\"click\", function (e) {\r\n      if ($(this).hasClass(\"stepper-header__step--static\")) {\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n      let parent = $(this).closest(\".stepper\");\r\n      let stepperId = parent.attr(\"id\");\r\n\r\n      let index = $(this).data(\"step-index\");\r\n\r\n      changeStepperStep(stepperId, index);\r\n    });\r\n\r\n    $(\".stepper__next-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let stepperId = $(this).data(\"stepper-id\");\r\n\r\n      let stepper = $(`#${stepperId}`);\r\n      if (stepper) {\r\n        let index = -1;\r\n        let steps = stepper.find(\".stepper-header__step\");\r\n\r\n        steps.each(function (ind) {\r\n          if ($(this).hasClass(\"active\")) {\r\n            index = ind + 1;\r\n          }\r\n        });\r\n\r\n        if (index !== -1 && index + 1 <= steps.length) {\r\n          changeStepperStep(stepperId, index + 1);\r\n        }\r\n\r\n        // Hardcode валидация формы на странице оформления заказа и доставки, нужно рефакторнуть если придется использовать степпер где-то еще повторно, все что выше отвечает за переключения шагов и может остаться без изменений\r\n        if (index === 3) {\r\n          var values = {};\r\n          $.each($(\"form.checkout-form\").serializeArray(), function (i, field) {\r\n            values[field.name] = field.value;\r\n          });\r\n        }\r\n        let pickup_address = $('input[name=\"pickup_address\"]:checked').val();\r\n      }\r\n    });\r\n\r\n    $(\".stepper__back-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let stepperId = $(this).data(\"stepper-id\");\r\n\r\n      let stepper = $(`#${stepperId}`);\r\n\r\n      if (stepper) {\r\n        let index = -1;\r\n        let steps = stepper.find(\".stepper-header__step\");\r\n\r\n        let staticTabs = [];\r\n        steps.each(function (ind) {\r\n          if ($(this).hasClass(\"stepper-header__step--static\")) {\r\n            staticTabs.push(ind + 1);\r\n          }\r\n          if ($(this).hasClass(\"active\")) {\r\n            index = ind + 1;\r\n          }\r\n        });\r\n\r\n        if (index >= 2 && staticTabs.indexOf(index - 1) == -1) {\r\n          changeStepperStep(stepperId, index - 1);\r\n        }\r\n      }\r\n    });\r\n\r\n    function changeStepperStep(stepperId, index) {\r\n      const stepper = $(`#${stepperId}`);\r\n      if (!stepper.length) {\r\n        return;\r\n      }\r\n      // tabs\r\n      let tab = stepper.find('.stepper-tab[data-tab-index=\"' + index + '\"]');\r\n      if (tab.length) {\r\n        stepper.find(\".stepper-tab\").removeClass(\"active\");\r\n        tab.addClass(\"active\");\r\n      }\r\n      // steps\r\n      let step = stepper.find(\r\n        '.stepper-header__step[data-step-index=\"' + index + '\"]',\r\n      );\r\n      if (step.length) {\r\n        stepper.find(\".stepper-header__step\").removeClass(\"active\");\r\n        step.addClass(\"active\");\r\n      }\r\n    }\r\n\r\n    // Hide texts under spoiler on mobile\r\n    $(document).on(\"click\", \".shortened__toggle\", function (e) {\r\n      e.preventDefault();\r\n      if (!$(this).parent().find(\".to-shorten.shortened\").hasClass(\"active\")) {\r\n        $(this).parent().find(\".to-shorten.shortened\").addClass(\"active\");\r\n        $(this).data(\"text\", $(this).text());\r\n        $(this).html(\"Скрыть\");\r\n      } else {\r\n        $(this).parent().find(\".to-shorten.shortened\").removeClass(\"active\");\r\n        $(this).html($(this).data(\"text\") || \"Читать полностью\");\r\n      }\r\n      // $(this).remove();\r\n    });\r\n    // Hide seo texts\r\n    $(\".static-seo__toggle\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const parent = $(this).closest(\".static-seo\");\r\n      if (!parent.hasClass(\"active\")) {\r\n        parent.addClass(\"active\");\r\n        $(this).data(\"text\", $(this).text());\r\n        $(this).html(\"Скрыть\");\r\n      } else {\r\n        parent.removeClass(\"active\");\r\n        $(this).html($(this).data(\"text\") || \"Читать полностью\");\r\n      }\r\n    });\r\n\r\n    // Product gallery swiper initialize\r\n    $(\".product-media-gallery\").each(function () {\r\n      const thumb = $(this).find(\".product-media-gallery__thumbs\");\r\n      const top = $(this).find(\".product-media-gallery__top\");\r\n\r\n      let galleryThumbs = new Swiper(thumb[0], {\r\n        spaceBetween: 10,\r\n        slidesPerView: 4,\r\n        // freeMode: true,\r\n        watchSlidesVisibility: true,\r\n        watchSlidesProgress: true,\r\n        // slidesPerGroup: 3,\r\n        on: {\r\n          init: function () {\r\n            if ($(this)[0].slides.length > 4) {\r\n              $(\".product-media-gallery__thumbs-arrow-forward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n          },\r\n          slideChange: function () {\r\n            let slider = $(this)[0];\r\n            if (slider.isEnd) {\r\n              $(\r\n                \".product-media-gallery__thumbs-arrow-forward-wrap\",\r\n              ).removeClass(\"active\");\r\n            } else {\r\n              $(\".product-media-gallery__thumbs-arrow-forward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n            if (slider.isBeginning) {\r\n              $(\r\n                \".product-media-gallery__thumbs-arrow-backward-wrap\",\r\n              ).removeClass(\"active\");\r\n            } else {\r\n              $(\".product-media-gallery__thumbs-arrow-backward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n          },\r\n        },\r\n      });\r\n\r\n      let galleryTop = new Swiper(top[0], {\r\n        spaceBetween: 10,\r\n        navigation: {\r\n          nextEl: \".swiper-button-next\",\r\n          prevEl: \".swiper-button-prev\",\r\n        },\r\n        pagination: {\r\n          el: \".swiper-pagination\",\r\n        },\r\n        thumbs: {\r\n          swiper: galleryThumbs,\r\n          autoScrollOffset: 1,\r\n        },\r\n      });\r\n    });\r\n\r\n    // Swipe categories on catalog page\r\n    // $(\".categories-panel\").each(function () {\r\n    //   const cats = new Glider($(this)[0], {\r\n    //     draggable: true,\r\n    //     slidesToShow: \"auto\",\r\n    //     exactWidth: false,\r\n    //     itemWidth: 50,\r\n    //   });\r\n    // });\r\n\r\n    // $(\".categories-panel a\").each(function () {\r\n    //   $(this)[0].ondragstart = function () {\r\n    //     return false;\r\n    //   };\r\n    // });\r\n    // $(\".categories-panel\").each(function () {\r\n    //   let $self = $(this);\r\n    //   let panStart = null;\r\n    //   let categoryPan = new Hammer($self[0]);\r\n\r\n    //   categoryPan.on(\"panstart\", function ($event) {\r\n    //     panStart = $event.center.x;\r\n    //   });\r\n    //   categoryPan.on(\"panend\", function ($event) {\r\n    //     panStart = null;\r\n    //   });\r\n\r\n    //   categoryPan.on(\"pan\", function ($event) {\r\n    //     const walk = ($event.center.x - panStart) * 0.08; //scroll-fast\r\n    //     $self.scrollLeft($self.scrollLeft() - walk);\r\n    //   });\r\n    // });\r\n\r\n    $(\".categories-panel\").each(function () {\r\n      if ($(this).hasClass(\"swiper-wrapper\")) return;\r\n\r\n      $(this).wrap('<div class=\"categories-panel-swiper\"></div>');\r\n      $(this).addClass(\"swiper-wrapper\");\r\n      $(this)\r\n        .find(\"li\")\r\n        .each(function () {\r\n          $(this).addClass(\"swiper-slide\");\r\n        });\r\n\r\n      let wrapper = $(this).closest(\".categories-panel-swiper\");\r\n\r\n      let swiper = new Swiper(wrapper, {\r\n        freeMode: true,\r\n        slidesPerView: \"auto\",\r\n        loop: false,\r\n      });\r\n    });\r\n\r\n    // Mobile filter popup on catalog page\r\n    $(\".applied-filters-panel__mobile-filter-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let container = $(\".sidebar\").parent().parent();\r\n      $(\".sidebar\").addClass(\"open\");\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      container.removeClass(\"d-none h-100\");\r\n      $(\".sidebar\").prepend(\r\n        '<a class=\"applied-filters-panel__mobile-close-filter-btn back-btn text-small text-action mbp-40\" href=\"#\"><i class=\"icon-icon_arrows_1\"></i> Вернуться назад</a>',\r\n      );\r\n    });\r\n    $(document).on(\r\n      \"click\",\r\n      \".applied-filters-panel__mobile-close-filter-btn\",\r\n      function (e) {\r\n        e.preventDefault();\r\n        let container = $(\".sidebar\").parent().parent();\r\n        container.addClass(\"d-none h-100\");\r\n        $(\".sidebar\").removeClass(\"open\");\r\n        $(\"body\").removeClass(\"overflow-hidden\");\r\n        $(\".sidebar\")\r\n          .find(\".applied-filters-panel__mobile-close-filter-btn\")\r\n          .remove();\r\n      },\r\n    );\r\n\r\n    // Product page reviews bar value\r\n    $(\".product-page__reviews-summary-score-bar\").each(function () {\r\n      const value = $(this).data(\"percent-value\");\r\n      const percent = Number(value);\r\n      if (percent && !isNaN(percent) && percent >= 0 && percent <= 100) {\r\n        const bar = $(this).find(\r\n          \".product-page__reviews-summary-score-bar-inner\",\r\n        );\r\n        bar.css(\"width\", `${percent}%`);\r\n      }\r\n    });\r\n\r\n    // Accordion\r\n    $(\".accordion\").each(function () {\r\n      // Keep open if has opened class\r\n      if ($(this).hasClass(\"opened\")) return;\r\n\r\n      $(this).parent().find(\".accordion__content\").hide();\r\n\r\n      // Linked accordion\r\n      if ($(this).hasClass(\"accordion--linked\")) {\r\n        const linkId = $(this).data(\"linkedId\");\r\n\r\n        const linkedContent = $(\r\n          \".accordion__linked-content[data-linked-id='\" + linkId + \"']\",\r\n        );\r\n        linkedContent.hide();\r\n      }\r\n    });\r\n    $(\".accordion__toggle\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let parent = $(this).parent();\r\n      let content = parent.find(\".accordion__content\");\r\n\r\n      // Linked accordion\r\n      if (parent.hasClass(\"accordion--linked\")) {\r\n        const linkId = parent.data(\"linkedId\");\r\n\r\n        const linkedContent = $(\r\n          \".accordion__linked-content[data-linked-id='\" + linkId + \"']\",\r\n        );\r\n        // linkedContent.hide();\r\n\r\n        if (!parent.hasClass(\"opened\")) {\r\n          linkedContent.slideDown(\"fast\");\r\n        } else {\r\n          linkedContent.slideUp(\"fast\");\r\n        }\r\n      }\r\n\r\n      if (!parent.hasClass(\"opened\")) {\r\n        let accordionsWrap = $(this).closest(\".accordions-wrap\");\r\n        if (accordionsWrap && accordionsWrap.hasClass(\"accordions-switching\")) {\r\n          let accordions = accordionsWrap.find(\".accordion\");\r\n          accordions.each(function () {\r\n            let inner_parent = $(this).parent();\r\n            let inner_content = $(this).find(\".accordion__content\");\r\n            inner_parent.removeClass(\"opened\");\r\n            inner_content.slideUp(\"fast\");\r\n          });\r\n        }\r\n        parent.addClass(\"opened\");\r\n        content.slideDown(\"fast\");\r\n      } else {\r\n        parent.removeClass(\"opened\");\r\n        content.slideUp(\"fast\");\r\n      }\r\n    });\r\n\r\n    // Interactive map\r\n    $(\".interactive-map__pin-btn\").on(\"click\", function () {\r\n      let index = Number($(this).data(\"index\"));\r\n      let mapContainer = $(this).closest(\".interactive-map\");\r\n\r\n      if (isNaN(index)) {\r\n        return;\r\n      }\r\n\r\n      // pins\r\n      if ($(this).hasClass(\"active\")) {\r\n        mapContainer.find(\".interactive-map__pin-btn\").removeClass(\"active\");\r\n        mapContainer.find(\".interactive-map__panel\").hide();\r\n\r\n        mapContainer\r\n          .find(\".interactive-map__panel--initial\")\r\n          .css(\"display\", \"flex\")\r\n          .hide()\r\n          .fadeIn();\r\n\r\n        return;\r\n      }\r\n      mapContainer.find(\".interactive-map__pin-btn\").removeClass(\"active\");\r\n      $(this).addClass(\"active\");\r\n\r\n      // panels\r\n      // mapContainer.find(\".interactive-map__panel\").removeClass(\"active\");\r\n      mapContainer.find(\".interactive-map__panel\").hide();\r\n      const panel = mapContainer.find(\r\n        '.interactive-map__panels div[data-index=\"' + index + '\"]',\r\n      );\r\n\r\n      panel.css(\"display\", \"flex\").hide().fadeIn();\r\n    });\r\n\r\n    // Clear search form btn\r\n    $(\".search-form__clear-btn\").on(\"click\", function () {\r\n      const parent = $(this).closest(\".search-form\");\r\n      parent.find(\".search-form__input\").val(\"\");\r\n\r\n      $(this).addClass(\"d-none\");\r\n    });\r\n    $(\".search-form__input\").on(\"input change keypress paste\", function () {\r\n      const parent = $(this).closest(\".search-form\");\r\n      if ($(this).val() === \"\") {\r\n        parent.find(\".search-form__clear-btn\").addClass(\"d-none\");\r\n      } else {\r\n        parent.find(\".search-form__clear-btn\").removeClass(\"d-none\");\r\n      }\r\n    });\r\n    $(\".search-form__input\").each(function () {\r\n      const parent = $(this).closest(\".search-form\");\r\n      if ($(this).val() === \"\") {\r\n        parent.find(\".search-form__clear-btn\").addClass(\"d-none\");\r\n      } else {\r\n        parent.find(\".search-form__clear-btn\").removeClass(\"d-none\");\r\n      }\r\n    });\r\n\r\n    // Cabinet review short text\r\n    $(\".cabinet-review__text-content\").each(function () {\r\n      if ($(this).height() > 100 && !$(this).hasClass(\"shortened\")) {\r\n        $(this).addClass(\"shortened\");\r\n        $(\r\n          \"<a href='#' class='shortened__toggle d-block'>Показать полный текст комментария</a>\",\r\n        ).insertAfter($(this));\r\n      }\r\n    });\r\n\r\n    // Cabinet history table\r\n    $(\".cabinet-order-card__details-table\").each(function () {\r\n      const rows = $(this).find(\".cabinet-order-card__details-table-row\");\r\n\r\n      if (rows.length <= 3) {\r\n        $(this)\r\n          .find(\".cabinet-order-card__details-table-btn\")\r\n          .addClass(\"d-none\");\r\n      } else {\r\n        rows.each(function (index) {\r\n          if (index > 2) $(this).addClass(\"d-none\");\r\n        });\r\n      }\r\n    });\r\n    $(\".cabinet-order-card__details-table-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const parent = $(this).closest(\".cabinet-order-card__details-table\");\r\n      if (!parent.hasClass(\"expanded\")) {\r\n        parent.addClass(\"expanded\");\r\n\r\n        const rows = parent.find(\".cabinet-order-card__details-table-row\");\r\n        rows.each(function (index) {\r\n          if (index > 2) $(this).removeClass(\"d-none\");\r\n        });\r\n\r\n        $(this).data(\"text\", $(this).text());\r\n        $(this).html(\"Свернуть полный список товаров\");\r\n      } else {\r\n        parent.removeClass(\"expanded\");\r\n\r\n        const rows = parent.find(\".cabinet-order-card__details-table-row\");\r\n        rows.each(function (index) {\r\n          if (index > 2) $(this).addClass(\"d-none\");\r\n        });\r\n\r\n        $(this).html(\r\n          $(this).data(\"text\") || \"Развернуть полный список товаров\",\r\n        );\r\n      }\r\n    });\r\n\r\n    // Compare attribute resize\r\n    if ($(\".compare-container\").length) {\r\n      let hRating = 0;\r\n      let hType = 0;\r\n      let hSize = 0;\r\n      let hHeight = 0;\r\n      let hFirmness = 0;\r\n      let hBase = 0;\r\n      let hLoad = 0;\r\n      let hComposition = 0;\r\n      let hPrice = 0;\r\n      let hFiller = 0;\r\n      let hWeight = 0;\r\n      let hCubature = 0;\r\n      let hPackaging = 0;\r\n      let hColor = 0;\r\n      let hWarranty = 0;\r\n      let hManufacturer = 0;\r\n\r\n      let attributes = [\r\n        \"compare-attribute--rating\",\r\n        \"compare-attribute--type\",\r\n        \"compare-attribute--size\",\r\n        \"compare-attribute--height\",\r\n        \"compare-attribute--firmness\",\r\n        \"compare-attribute--base\",\r\n        \"compare-attribute--load\",\r\n        \"compare-attribute--composition\",\r\n        \"compare-attribute--price\",\r\n        \"compare-attribute--filler\",\r\n        \"compare-attribute--weight\",\r\n        \"compare-attribute--cubature\",\r\n        \"compare-attribute--packaging\",\r\n        \"compare-attribute--color\",\r\n        \"compare-attribute--warranty\",\r\n        \"compare-attribute--manufacturer\",\r\n      ];\r\n\r\n      $(\".compare-container\").each(function () {\r\n        attributes.forEach((attribute) => {\r\n          $(this)\r\n            .find(\".\" + attribute)\r\n            .each(function () {\r\n              let height = $(this).outerHeight();\r\n              switch (attribute) {\r\n                case \"compare-attribute--rating\":\r\n                  hRating = hRating < height ? height : hRating;\r\n                  break;\r\n                case \"compare-attribute--type\":\r\n                  hType = hType < height ? height : hType;\r\n                  break;\r\n                case \"compare-attribute--size\":\r\n                  hSize = hSize < height ? height : hSize;\r\n                  break;\r\n                case \"compare-attribute--height\":\r\n                  hHeight = hHeight < height ? height : hHeight;\r\n                  break;\r\n                case \"compare-attribute--firmness\":\r\n                  hFirmness = hFirmness < height ? height : hFirmness;\r\n                  break;\r\n                case \"compare-attribute--base\":\r\n                  hBase = hBase < height ? height : hBase;\r\n                  break;\r\n                case \"compare-attribute--load\":\r\n                  hLoad = hLoad < height ? height : hLoad;\r\n                  break;\r\n                case \"compare-attribute--composition\":\r\n                  hComposition = hComposition < height ? height : hComposition;\r\n                  break;\r\n                case \"compare-attribute--price\":\r\n                  hPrice = hPrice < height ? height : hPrice;\r\n                  break;\r\n                case \"compare-attribute--filler\":\r\n                  hFiller = hFiller < height ? height : hFiller;\r\n                  break;\r\n                case \"compare-attribute--weight\":\r\n                  hWeight = hWeight < height ? height : hWeight;\r\n                  break;\r\n                case \"compare-attribute--cubature\":\r\n                  hCubature = hCubature < height ? height : hCubature;\r\n                  break;\r\n                case \"compare-attribute--packaging\":\r\n                  hPackaging = hPackaging < height ? height : hPackaging;\r\n                  break;\r\n                case \"compare-attribute--color\":\r\n                  hColor = hColor < height ? height : hColor;\r\n                  break;\r\n                case \"compare-attribute--warranty\":\r\n                  hWarranty = hWarranty < height ? height : hWarranty;\r\n                  break;\r\n                case \"compare-attribute--manufacturer\":\r\n                  hManufacturer =\r\n                    hManufacturer < height ? height : hManufacturer;\r\n                  break;\r\n\r\n                default:\r\n                  break;\r\n              }\r\n            });\r\n\r\n          $(\".\" + attribute).height(hRating);\r\n        });\r\n      });\r\n\r\n      $(\".compare-attribute--rating\").height(hRating);\r\n      $(\".compare-attribute--type\").height(hType);\r\n      $(\".compare-attribute--size\").height(hSize);\r\n      $(\".compare-attribute--height\").height(hHeight);\r\n      $(\".compare-attribute--firmness\").height(hFirmness);\r\n      $(\".compare-attribute--base\").height(hBase);\r\n      $(\".compare-attribute--load\").height(hLoad);\r\n      $(\".compare-attribute--composition\").height(hComposition);\r\n      $(\".compare-attribute--price\").height(hPrice);\r\n      $(\".compare-attribute--filler\").height(hFiller);\r\n      $(\".compare-attribute--weight\").height(hWeight);\r\n      $(\".compare-attribute--cubature\").height(hCubature);\r\n      $(\".compare-attribute--packaging\").height(hPackaging);\r\n      $(\".compare-attribute--color\").height(hColor);\r\n      $(\".compare-attribute--warranty\").height(hWarranty);\r\n      $(\".compare-attribute--manufacturer\").height(hManufacturer);\r\n    }\r\n\r\n    // Compare drag to scroll\r\n    if ($(\".compare-container-wrap\").length) {\r\n      $(\".compare-container-wrap\").each(function () {\r\n        const $el = $(this);\r\n        const ele = $el[0];\r\n        $el.css(\"cursor\", \"grab\");\r\n\r\n        let pos = { top: 0, left: 0, x: 0, y: 0 };\r\n\r\n        const mouseDownHandler = function (e) {\r\n          ele.style.cursor = \"grabbing\";\r\n          ele.style.userSelect = \"none\";\r\n\r\n          pos = {\r\n            left: ele.scrollLeft,\r\n            top: ele.scrollTop,\r\n            // Get the current mouse position\r\n            x: e.clientX,\r\n            y: e.clientY,\r\n          };\r\n\r\n          document.addEventListener(\"mousemove\", mouseMoveHandler);\r\n          document.addEventListener(\"mouseup\", mouseUpHandler);\r\n        };\r\n\r\n        const mouseMoveHandler = function (e) {\r\n          // How far the mouse has been moved\r\n          const dx = e.clientX - pos.x;\r\n          const dy = e.clientY - pos.y;\r\n\r\n          // Scroll the element\r\n          ele.scrollTop = pos.top - dy;\r\n          ele.scrollLeft = pos.left - dx;\r\n        };\r\n\r\n        const mouseUpHandler = function () {\r\n          ele.style.cursor = \"grab\";\r\n          ele.style.removeProperty(\"user-select\");\r\n\r\n          document.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n          document.removeEventListener(\"mouseup\", mouseUpHandler);\r\n        };\r\n\r\n        // Attach the handler\r\n        ele.addEventListener(\"mousedown\", mouseDownHandler);\r\n      });\r\n    }\r\n\r\n    // Open phone form overlay\r\n    $(\".open-phone-form-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#phoneFormPopupOverlay\").addClass(\"active\");\r\n    });\r\n\r\n    // Open phone form overlay\r\n    $(\".open-custom-mattress-form-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#customMattressFormPopupOverlay\").addClass(\"active\");\r\n    });\r\n\r\n    // Open video overlay\r\n    $(\".open-video-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const link = $(this).attr(\"href\");\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#videoPopupOverlay\").addClass(\"active\");\r\n      $(\"#videoPopupOverlay\").find(\"iframe\").attr(\"src\", link);\r\n\r\n      if ($(\"body\").width() <= \"990\") {\r\n        // rebuild carousel because overlay doesn't calculate properly\r\n        $(\"#videoPopupOverlay\").find(\".mobile-slider\").slick(\"unslick\").slick({\r\n          infinite: false,\r\n          dots: false,\r\n          arrows: false,\r\n          slidesToShow: 1.1,\r\n        });\r\n      }\r\n    });\r\n\r\n    // Open map overlay\r\n    $(\".open-map-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const link = $(this).attr(\"href\");\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#mapPopupOverlay\").addClass(\"active\");\r\n      $(\"#mapPopupOverlay\").find(\"iframe\").attr(\"src\", link);\r\n    });\r\n\r\n    // Open review overlay\r\n    $(\".open-review-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const $overlay = $(\"#newReviewPopupOverlay\");\r\n      if (!$overlay.length) {\r\n        console.error(\"overlay is unavailable\");\r\n        return;\r\n      }\r\n\r\n      const $parent = $(this).closest(\".review-popup-form-parent\");\r\n      if (!$parent.length) {\r\n        console.error(\"parent is unavailable\");\r\n        return;\r\n      }\r\n\r\n      const $form = $parent.find(\".review-popup-form-wrap\").children();\r\n\r\n      if (!$form.length) {\r\n        console.error(\"form is unavailable\");\r\n        return;\r\n      }\r\n\r\n      const $target = $overlay.find(\".overlay-cdk__content-review-container\");\r\n\r\n      if (!$target.length) {\r\n        console.error(\"target is unavailable\");\r\n        return;\r\n      }\r\n\r\n      // Cleat target location\r\n      $target.empty();\r\n\r\n      // Clone and paste to target location\r\n      $form.clone(true).appendTo($target);\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $overlay.addClass(\"active\");\r\n    });\r\n\r\n    // Open auth overlay\r\n    $(\".open-auth-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#authPopupOverlay\").addClass(\"active\");\r\n    });\r\n    // Switch auth mode\r\n    $(\".switch-auth-popup__login\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-auth\")\r\n        .removeClass(\"active\");\r\n\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-login\")\r\n        .addClass(\"active\");\r\n    });\r\n    $(\".switch-auth-popup__registration\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-auth\")\r\n        .removeClass(\"active\");\r\n\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-registration\")\r\n        .addClass(\"active\");\r\n    });\r\n    $(\".switch-auth-popup__reset-password\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-auth\")\r\n        .removeClass(\"active\");\r\n\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-reset-password\")\r\n        .addClass(\"active\");\r\n    });\r\n\r\n    // Close overlay on outside click\r\n    $(\".overlay-cdk\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n      if ($(\"#authPopupOverlay\").hasClass(\"active\")) {\r\n        $(\"#authPopupOverlay\")\r\n          .find(\".overlay-cdk__content-auth\")\r\n          .removeClass(\"active\");\r\n        $(\"#authPopupOverlay\")\r\n          .find(\".overlay-cdk__content-login\")\r\n          .addClass(\"active\");\r\n      }\r\n\r\n      $(this).removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    });\r\n\r\n    // Close overlay on button click\r\n    $(\".overlay-cdk__close-btn\").on(\"click\", function (e) {\r\n      if ($(\"#authPopupOverlay\").hasClass(\"active\")) {\r\n        $(\"#authPopupOverlay\")\r\n          .find(\".overlay-cdk__content-auth\")\r\n          .removeClass(\"active\");\r\n        $(\"#authPopupOverlay\")\r\n          .find(\".overlay-cdk__content-login\")\r\n          .addClass(\"active\");\r\n      }\r\n\r\n      $(\".overlay-cdk\").removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    });\r\n\r\n    // Mobile drawer\r\n    $(\".drawer-toggler\").on(\"click\", function () {\r\n      toggleDrawer();\r\n    });\r\n    let mobileDrawer = $(\".mobile-drawer\");\r\n    if (mobileDrawer) {\r\n      let mobileDrawerHammer = new Hammer(mobileDrawer[0]);\r\n      mobileDrawerHammer.on(\"swiperight\", function () {\r\n        toggleDrawer();\r\n      });\r\n    }\r\n    function toggleDrawer() {\r\n      if (!$(\".mobile-drawer\").hasClass(\"active\")) {\r\n        $(\".mobile-drawer\").addClass(\"active\");\r\n        $(\"body\").addClass(\"overflow-hidden\");\r\n        setTimeout(function () {\r\n          $(\".mobile-drawer\").addClass(\"dark\");\r\n        }, 250); // synced with css transition time ((~60%)\r\n      } else {\r\n        $(\".mobile-drawer\").removeClass(\"active dark\");\r\n        $(\"body\").removeClass(\"overflow-hidden\");\r\n      }\r\n    }\r\n\r\n    // Close overlay on outside click\r\n    $(\".mobile-drawer\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n      toggleDrawer();\r\n    });\r\n    // Close overlay on close click\r\n    $(\".mobile-drawer__close-btn\").on(\"click\", function () {\r\n      toggleDrawer();\r\n    });\r\n\r\n    // Zoom product gallery\r\n    $(document).on(\r\n      \"mouseenter\",\r\n      \".product-media-gallery__top > .swiper-wrapper > .swiper-slide.swiper-slide-active\",\r\n      function (e) {\r\n        const win = $(window); //this = window\r\n        const width = win.outerWidth();\r\n\r\n        if (width <= 990) {\r\n          return;\r\n        }\r\n\r\n        const imgUrl = $(this).css(\"background-image\");\r\n        $(this).css(\"background-image\", \"\");\r\n        $(this).css(\"position\", \"relative\");\r\n        $(this).html(`<div id=\"zoomResultBox\" class=\"img-zoom-result\"></div>`);\r\n        imageZoom($(this)[0], \"zoomResultBox\", imgUrl);\r\n      },\r\n    );\r\n    $(document).on(\r\n      \"mouseleave\",\r\n      \".product-media-gallery__top > .swiper-wrapper > .swiper-slide.swiper-slide-active\",\r\n      function (e) {\r\n        imageDestroy();\r\n      },\r\n    );\r\n\r\n    function imageDestroy() {\r\n      const imgUrl = $(\"#zoomResultBox\").css(\"background-image\");\r\n      $(\"#zoomResultBox\").parent().css(\"background-image\", imgUrl);\r\n      $(\"#zoomResultBox\").remove();\r\n    }\r\n\r\n    function imageZoom(img, resultID, imgUrl) {\r\n      var lens, result, cx, cy;\r\n      // img = document.getElementById(imgID);\r\n      result = document.getElementById(resultID);\r\n\r\n      /*create lens:*/\r\n      // lens = document.createElement(\"DIV\");\r\n      // lens.setAttribute(\"class\", \"img-zoom-lens\");\r\n      /*insert lens:*/\r\n      // img.parentElement.insertBefore(lens, img);\r\n      /*calculate the ratio between result DIV and lens:*/\r\n      cx = result.offsetWidth / 250;\r\n      cy = result.offsetHeight / 250;\r\n\r\n      /*set background properties for the result DIV:*/\r\n      // var backgroundImage = $(img).css(\"background-image\");\r\n      var backgroundImage = imgUrl;\r\n      var url = backgroundImage.slice(4, -1).replace(/[\"']/g, \"\");\r\n      result.style.backgroundImage = \"url('\" + url + \"')\";\r\n      result.style.backgroundSize =\r\n        img.offsetWidth * cx + \"px \" + img.offsetHeight * cy + \"px\";\r\n      /*execute a function when someone moves the cursor over the image, or the lens:*/\r\n      // lens.addEventListener(\"mousemove\", moveLens);\r\n      img.addEventListener(\"mousemove\", moveLens);\r\n      /*and also for touch screens:*/\r\n      // lens.addEventListener(\"touchmove\", moveLens);\r\n      img.addEventListener(\"touchmove\", moveLens);\r\n      function moveLens(e) {\r\n        var pos, x, y;\r\n        /*prevent any other actions that may occur when moving over the image:*/\r\n        e.preventDefault();\r\n        /*get the cursor's x and y positions:*/\r\n        pos = getCursorPos(e);\r\n        /*calculate the position of the lens:*/\r\n        x = pos.x / 2;\r\n        y = pos.y / 2;\r\n        /*prevent the lens from being positioned outside the image:*/\r\n\r\n        /*display what the lens \"sees\":*/\r\n        result.style.backgroundPosition = \"-\" + x * cx + \"px -\" + y * cy + \"px\";\r\n      }\r\n      function getCursorPos(e) {\r\n        var a,\r\n          x = 0,\r\n          y = 0;\r\n        e = e || window.event;\r\n        /*get the x and y positions of the image:*/\r\n        a = img.getBoundingClientRect();\r\n        /*calculate the cursor's x and y coordinates, relative to the image:*/\r\n        x = e.pageX - a.left;\r\n        y = e.pageY - a.top;\r\n        /*consider any page scrolling:*/\r\n        x = x - window.pageXOffset;\r\n        y = y - window.pageYOffset;\r\n        return { x: x, y: y };\r\n      }\r\n    }\r\n\r\n    // Responsiveness\r\n    resize();\r\n    $(window).on(\"resize\", function () {\r\n      resize();\r\n    });\r\n    function resize() {\r\n      const win = $(window); //this = window\r\n      const width = win.outerWidth();\r\n\r\n      if (width <= 990) {\r\n        // Move product sidebar on mobile\r\n        if ($(\".product-page-sidebar\").length) {\r\n          $(\".product-page-sidebar\").each(function () {\r\n            $(this).detach().appendTo(\".product-page__mobile-sidebar-spot\");\r\n          });\r\n        }\r\n\r\n        // Move cart sidebar on mobile\r\n        if ($(\".cart-page-sidebar\").length) {\r\n          $(\".cart-page-sidebar\").each(function () {\r\n            let top = $(this).find(\".cart-page-sidebar__top\");\r\n            top.detach().appendTo(\".cart-page__mobile-top-sidebar-spot\");\r\n          });\r\n        }\r\n\r\n        // Shorten mobile breadcrumb\r\n        if ($(\".breadcrumb\").length) {\r\n          $(\".breadcrumb\").each(function () {\r\n            if (!$(this).hasClass(\"mobile-breadcrumb\")) {\r\n              $(this).addClass(\"mobile-breadcrumb\");\r\n              const bcInitialLength = $(this).children().length;\r\n              $(this)\r\n                .children()\r\n                .each(function (index) {\r\n                  if (index !== 0 && index !== bcInitialLength - 1) {\r\n                    $(this).remove();\r\n                  }\r\n                });\r\n              if (bcInitialLength > 2) {\r\n                $(\r\n                  '<li class=\"breadcrumb-item text-black-secondary\">...</li>',\r\n                ).insertAfter($(this).children(\":first\"));\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n        // To shorten big chunks of text\r\n        if ($(\".to-shorten\").length) {\r\n          $(\".to-shorten\").each(function () {\r\n            if ($(this).height() > 100 && !$(this).hasClass(\"shortened\")) {\r\n              $(this).addClass(\"shortened\");\r\n              $(\r\n                \"<a href='#' class='shortened__toggle d-block mbp-20'>Читать полностью</a>\",\r\n              ).insertAfter($(this));\r\n            }\r\n          });\r\n        }\r\n\r\n        // Slick mobile-slider\r\n        $(\".mobile-slider\").each(function () {\r\n          if (!$(this).hasClass(\"slick-initialized\")) {\r\n            if ($(this).hasClass(\"mobile-slider--full\")) {\r\n              $(this).slick({\r\n                infinite: false,\r\n                dots: true,\r\n                arrows: false,\r\n                slidesToShow: 1,\r\n                variableWidth: false,\r\n                swipeToSlide: true,\r\n                // centerMode: true,\r\n                // centerPadding: \"20px\",\r\n              });\r\n            } else {\r\n              $(this).slick({\r\n                infinite: false,\r\n                dots: false,\r\n                arrows: false,\r\n                slidesToShow: 1,\r\n                variableWidth: true,\r\n                swipeToSlide: true,\r\n                // centerMode: true,\r\n                // centerPadding: \"20px\",\r\n              });\r\n            }\r\n          }\r\n        });\r\n\r\n        // Slick mobile-carousel\r\n        $(\".mobile-carousel\").each(function () {\r\n          if (!$(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick({\r\n              infinite: false,\r\n              dots: true,\r\n              arrows: false,\r\n              slidesToShow: 1,\r\n              // variableWidth: true,\r\n              // centerMode: true,\r\n              // centerPadding: \"20px\",\r\n            });\r\n          }\r\n        });\r\n\r\n        // Cabinet order process mobile\r\n        $(\".cabinet-order-card__process\").each(function () {\r\n          const $processCard = $(this);\r\n          const cardWidth = $processCard.innerWidth();\r\n\r\n          const $processCardParent = $(this).closest(\r\n            \".cabinet-order-card__process-wrap\",\r\n          );\r\n\r\n          if (!$processCardParent.length) {\r\n            console.error(\"Process card wrapper is unavailable\");\r\n            return;\r\n          }\r\n\r\n          if (\r\n            $processCard.hasClass(\"cabinet-order-card__process--processing\")\r\n          ) {\r\n            $processCardParent.scrollLeft(0);\r\n          } else if (\r\n            $processCard.hasClass(\"cabinet-order-card__process--forming\")\r\n          ) {\r\n            $processCardParent.scrollLeft(cardWidth / 2);\r\n          } else if (\r\n            $processCard.hasClass(\"cabinet-order-card__process--delivery\")\r\n          ) {\r\n            $processCardParent.scrollLeft(cardWidth / 2);\r\n          } else {\r\n            $processCardParent.scrollLeft(0);\r\n          }\r\n        });\r\n      } else {\r\n        // Put product sidebar back on desktop\r\n        if ($(\".product-page-sidebar\").length) {\r\n          $(\".product-page-sidebar\").each(function () {\r\n            if (!$(this).parent().hasClass(\"sidebar-initial-spot\")) {\r\n              $(this).detach().appendTo(\".sidebar-initial-spot\");\r\n            }\r\n          });\r\n        }\r\n\r\n        // Put cart sidebar back on desktop\r\n        if ($(\".cart-page-sidebar\").length) {\r\n          let top = $(\".cart-page-sidebar__top\");\r\n          if (top.parent().hasClass(\"cart-page__mobile-top-sidebar-spot\")) {\r\n            top.detach().appendTo(\".cart-page-sidebar__top-wrap\");\r\n          }\r\n        }\r\n\r\n        // Destroy mobile-slider\r\n        $(\".mobile-slider\").each(function () {\r\n          if ($(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick(\"unslick\");\r\n          }\r\n        });\r\n\r\n        // Destroy mobile-carousel\r\n        $(\".mobile-carousel\").each(function () {\r\n          if ($(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick(\"unslick\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    // Sliding contact tabs header\r\n    // Without timeout custom negative magins and paddings doesn't apply properly\r\n    setTimeout(() => {\r\n      $(\".custom-tabs-header\").each(function () {\r\n        if ($(this).hasClass(\"swiper-wrapper\")) return;\r\n\r\n        $(this).wrap('<div class=\"custom-tabs-header-swiper\"></div>');\r\n        $(this).addClass(\"swiper-wrapper\");\r\n        $(this)\r\n          .find(\".nav-item\")\r\n          .each(function () {\r\n            $(this).addClass(\"swiper-slide\");\r\n          });\r\n        let wrapper = $(this).closest(\".custom-tabs-header-swiper\");\r\n\r\n        let swiper = new Swiper(wrapper, {\r\n          freeMode: true,\r\n          slidesPerView: \"auto\",\r\n          loop: false,\r\n        });\r\n      });\r\n    }, 200);\r\n\r\n    // Fixed header\r\n    if ($(\"body\").width() <= \"990\") {\r\n      if ($(document).scrollTop() >= 300) {\r\n        $(\".main-header__top\").addClass(\"fixed\");\r\n      } else {\r\n        $(\".main-header__top\").removeClass(\"fixed\");\r\n      }\r\n    } else {\r\n      $(\".main-header__top\").removeClass(\"fixed\");\r\n    }\r\n    $(document).on(\"scroll\", function () {\r\n      if ($(\"body\").width() <= \"990\") {\r\n        if ($(document).scrollTop() >= 300) {\r\n          $(\".main-header__top\").addClass(\"fixed\");\r\n        } else {\r\n          $(\".main-header__top\").removeClass(\"fixed\");\r\n        }\r\n      } else {\r\n        $(\".main-header__top\").removeClass(\"fixed\");\r\n      }\r\n    });\r\n\r\n    // City selector\r\n    $(\r\n      \".dropdown-city-menu__region-selector .dropdown-city-menu__selector-item\",\r\n    ).on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      let index = $(this).data(\"region-index\");\r\n      let parent = $(this).closest(\".dropdown-menu\");\r\n      parent.find(\".dropdown-city-menu__region-selector\").removeClass(\"active\");\r\n      parent.find(\".dropdown-city-menu__city-selector\").removeClass(\"active\");\r\n      parent\r\n        .find(\r\n          '.dropdown-city-menu__city-selector[data-region-index=\"' +\r\n            index +\r\n            '\"]',\r\n        )\r\n        .addClass(\"active\");\r\n    });\r\n    $(\".dropdown-city-menu__regions-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let parent = $(this).closest(\".dropdown-menu\");\r\n      parent.find(\".dropdown-city-menu__region-selector\").addClass(\"active\");\r\n      parent.find(\".dropdown-city-menu__city-selector\").removeClass(\"active\");\r\n    });\r\n    $(\".dropdown-city-menu__current-region\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n    });\r\n\r\n    // Prevent city dropdown close on click\r\n    $(\".selected-city-menu\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    });\r\n    $(\r\n      \".dropdown-city-menu__city-selector .dropdown-city-menu__selector-item\",\r\n    ).on(\"click\", function (e) {\r\n      e.preventDefault();\r\n    });\r\n  });\r\n})(jQuery);\r\n\r\nfunction getCookie(cname) {\r\n  var name = cname + \"=\";\r\n  var ca = document.cookie.split(\";\");\r\n  for (var i = 0; i < ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) == \" \") {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) == 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\nfunction setCookie(cname, cvalue, exdays) {\r\n  var d = new Date();\r\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n  var expires = \"expires=\" + d.toUTCString();\r\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n}\r\n"]}
{"version":3,"sources":["main.js"],"names":["getCookie","cname","name","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","setCookie","cvalue","exdays","d","Date","setTime","getTime","expires","toUTCString","$","ready","updateCompareAttributesDisplay","compareType","activeTab","setTimeout","console","attributes","$attrs_active","forEach","attribute","uniq","find","Set","attrs_array","$atts_global","push","this","text","trim","_toConsumableArray","addClass","removeClass","paramsContainers","on","val","iValue","input","tags","id","attr","value","title","each","container","empty","tag","append","$resetBtn","error","concat","$submitBtn","$input","prop","e","trigger","closest","preventDefault","data","$parent","starValue","stars","reader","FileReader","onload","$previewTarget","html","limit","hide","parent","files","remove","file","readAsDataURL","delivery_type","target","result","stopPropagation","index","regId","phoneConfirmParent","payload","code","show","changeStepperStep","stepperId","payment_type","stepper","galleryTop","Swiper","spaceBetween","navigation","pagination","el","thumbs","step","values","steps","staticTabs","tab","hasClass","ind","serializeArray","field","watchSlidesVisibility","watchSlidesProgress","init","slider","thumb","wrapper","freeMode","slidesPerView","loop","isBeginning","percent","top","linkedContent","nextEl","prevEl","autoScrollOffset","mapContainer","panel","prepend","Number","rows","isNaN","css","linkId","content","hHeight","hLoad","slideUp","hFirmness","slideDown","hWeight","hCubature","hPackaging","accordionsWrap","hManufacturer","inner_parent","inner_content","height","hType","hSize","hBase","fadeIn","hPrice","hWarranty","insertAfter","cursor","style","userSelect","x","clientX","pos","y","hRating","mouseMoveHandler","ele","scrollTop","scrollLeft","hComposition","hFiller","mouseUpHandler","removeProperty","removeEventListener","addEventListener","_this","outerHeight","slidesToShow","$overlay","hColor","$target","currentTarget","$el","left","mobileDrawer","mobileDrawerHammer","Hammer","dy","dx","clientY","toggleDrawer","link","imageZoom","width","slick","infinite","dots","imageDestroy","arrows","cx","cy","offsetHeight","backgroundSize","img","$form","children","clone","appendTo","backgroundPosition","event","pageY","resize","window","swipeToSlide","outerWidth","detach","bcInitialLength","variableWidth","$processCard","cardWidth","innerWidth","$processCardParent","offsetWidth","url","slice","replace","moveLens","a","pageX","swiper","pageXOffset","pageYOffset","getCursorPos","backgroundImage","wrap","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":["(function ($) {\r\n  $(document).ready(function () {\r\n    // Compare filter\r\n    // Really loop heavy actions, may be better to move logic on back-end\r\n    $('input[name=\"compare_type\"]').on(\"change\", function () {\r\n      let compareType = $(this).val();\r\n      updateCompareAttributesDisplay(compareType);\r\n    });\r\n    $(\".custom-tabs-header__item-link\").on(\"click\", function () {\r\n      let compareType = $('input[name=\"compare_type\"]:checked').val();\r\n      if (compareType) {\r\n        updateCompareAttributesDisplay(\"all\");\r\n        setTimeout(() => {\r\n          updateCompareAttributesDisplay(compareType);\r\n        }, 200);\r\n      }\r\n    });\r\n\r\n    function updateCompareAttributesDisplay(compareType) {\r\n      if (compareType === \"difference\") {\r\n        let activeTab = $(\".tab-pane.active\");\r\n        if (!activeTab.length) {\r\n          console.error(\"tab is unavailable\");\r\n          return;\r\n        }\r\n\r\n        let attributes = [\r\n          \"compare-attribute--rating\",\r\n          \"compare-attribute--type\",\r\n          \"compare-attribute--size\",\r\n          \"compare-attribute--height\",\r\n          \"compare-attribute--firmness\",\r\n          \"compare-attribute--base\",\r\n          \"compare-attribute--load\",\r\n          \"compare-attribute--composition\",\r\n          \"compare-attribute--price\",\r\n          \"compare-attribute--filler\",\r\n          \"compare-attribute--weight\",\r\n          \"compare-attribute--cubature\",\r\n          \"compare-attribute--packaging\",\r\n          \"compare-attribute--color\",\r\n          \"compare-attribute--warranty\",\r\n          \"compare-attribute--manufacturer\",\r\n        ];\r\n\r\n        attributes.forEach((attribute) => {\r\n          let $attrs_active = activeTab.find(\".\" + attribute);\r\n          let attrs_array = [];\r\n          $attrs_active.each(function () {\r\n            attrs_array.push($(this).text().trim());\r\n          });\r\n\r\n          let uniq = [...new Set(attrs_array)];\r\n          let $atts_global = $(\".\" + attribute); // including sidebar\r\n          if (uniq.length <= 1) $atts_global.addClass(\"d-none\");\r\n\r\n          // hide accordion\r\n          if (\r\n            $(\".compare-attribute-accordion\").find(\".compare-attribute\")\r\n              .length ===\r\n            $(\".compare-attribute-accordion\").find(\".compare-attribute.d-none\")\r\n              .length\r\n          ) {\r\n            $(\".compare-attribute-accordion\").addClass(\"d-none\");\r\n          }\r\n        });\r\n      } else {\r\n        $(\".compare-attribute\").removeClass(\"d-none\");\r\n        $(\".compare-attribute-accordion\").removeClass(\"d-none\");\r\n      }\r\n    }\r\n\r\n    // Catalog filter tags\r\n    if ($(\".bx-filter\").length) {\r\n      $(\".bx-filter\").each(function () {\r\n        let tags = [];\r\n        const paramsContainers = $(this).find(\".bx-filter-parameters-box\");\r\n        paramsContainers.each(function () {\r\n          const title = $(this)\r\n            .find(\".bx-filter-parameters-box-title\")\r\n            .text()\r\n            .trim();\r\n\r\n          if ($(this).find(\".radio\").length) {\r\n            let value = null;\r\n            $(this)\r\n              .find(\".radio\")\r\n              .each(function () {\r\n                let input = $(this).find('input[type=\"radio\"]');\r\n                let iValue = input\r\n                  .closest(\".bx-filter-input-checkbox\")\r\n                  .find(\".bx-filter-param-text\")\r\n                  .attr(\"title\");\r\n                let id = input.attr(\"id\");\r\n                if (input.attr(\"checked\") === \"checked\" && iValue) {\r\n                  value = iValue;\r\n                  tags.push({\r\n                    title,\r\n                    value,\r\n                    id,\r\n                  });\r\n                }\r\n              });\r\n          }\r\n\r\n          if ($(this).find(\".checkbox\").length) {\r\n            $(this)\r\n              .find(\".checkbox\")\r\n              .each(function () {\r\n                let input = $(this).find('input[type=\"checkbox\"]');\r\n                let value = null;\r\n                let iValue = input\r\n                  .closest(\".bx-filter-input-checkbox\")\r\n                  .find(\".bx-filter-param-text\")\r\n                  .attr(\"title\");\r\n                let id = input.attr(\"id\");\r\n\r\n                if (input.attr(\"checked\") === \"checked\" && iValue) {\r\n                  value = iValue;\r\n                  tags.push({\r\n                    title,\r\n                    value,\r\n                    id,\r\n                  });\r\n                }\r\n              });\r\n          }\r\n\r\n          if ($(this).find(\"input.min-price\").length) {\r\n            let input = $(this).find(\"input.min-price\");\r\n            let iValue = input.val();\r\n            let id = input.attr(\"id\");\r\n            if (iValue !== \"\") {\r\n              tags.push({\r\n                title: \"Минимальная цена\",\r\n                value: iValue,\r\n                id,\r\n              });\r\n            }\r\n          }\r\n          if ($(this).find(\"input.max-price\").length) {\r\n            let input = $(this).find(\"input.max-price\");\r\n            let iValue = input.val();\r\n            let id = input.attr(\"id\");\r\n            if (iValue !== \"\") {\r\n              tags.push({\r\n                title: \"Максимальная цена\",\r\n                value: iValue,\r\n                id,\r\n              });\r\n            }\r\n          }\r\n        });\r\n\r\n        if ($(\".applied-filters-panel__filters\").length) {\r\n          $(\".applied-filters-panel__filters\").each(function () {\r\n            let container = $(this);\r\n            container.empty();\r\n            tags.forEach(function (tag) {\r\n              container.append(\r\n                `<button class=\"applied-filters-panel__filters-btn btn btn-outline-black-lines text-black-subtext btn-sm\" data-control-id=\"${tag.id}\">\r\n                  <span class=\"applied-filters-panel__filters-btn-category\">\r\n                  ${tag.title}:\r\n                  </span>\r\n                  <span class=\"applied-filters-panel__filters-btn-value\">\r\n                    ${tag.value}\r\n                    <i class=\"icon-icon_close_2 text-normal\"></i>\r\n                  </span>\r\n                </button>`,\r\n              );\r\n            });\r\n            container.append(\r\n              `\r\n                <a href=\"#\" class=\"text-action\">Сбросить фильтр</a>\r\n              `,\r\n            );\r\n          });\r\n        }\r\n      });\r\n    }\r\n    $(\".applied-filters-panel__filters\").each(function () {\r\n      let container = $(this);\r\n\r\n      container.append(\r\n        `\r\n          <a href=\"#\" class=\"applied-filters-panel__filters-reset\">Сбросить фильтр</a>\r\n        `,\r\n      );\r\n    });\r\n    $(document).on(\r\n      \"click\",\r\n      \".applied-filters-panel__filters-reset\",\r\n      function (e) {\r\n        const $resetBtn = $(\"#del_filter\");\r\n        if (!$resetBtn.length) {\r\n          console.error(\"Reset button is unavailable\");\r\n          return;\r\n        }\r\n\r\n        // Main reset button (hidden for current theme)\r\n        $resetBtn.trigger(\"click\");\r\n      },\r\n    );\r\n    $(document).on(\r\n      \"click\",\r\n      \".applied-filters-panel__filters-btn\",\r\n      function (e) {\r\n        e.preventDefault();\r\n        const id = $(this).data(\"controlId\");\r\n        if (!id || id === \"\") {\r\n          console.error(\"Input id is unavailable\");\r\n          return;\r\n        }\r\n        const $input = $(`#${id}`);\r\n        if (!$input.length) {\r\n          console.error(\"Input is unavailable\");\r\n          return;\r\n        }\r\n        const $submitBtn = $(\"#set_filter\");\r\n        if (!$submitBtn.length) {\r\n          console.error(\"Submit button is unavailable\");\r\n          return;\r\n        }\r\n\r\n        if (\r\n          $input.attr(\"type\") === \"checkbox\" ||\r\n          $input.attr(\"type\") === \"radio\"\r\n        ) {\r\n          $input.prop(\"checked\", false);\r\n        } else {\r\n          $input.val(\"\");\r\n        }\r\n\r\n        // Main submit button (hidden for current theme)\r\n        $submitBtn.trigger(\"click\");\r\n      },\r\n    );\r\n\r\n    // Review page\r\n    // Review Limited characters input (review popup)\r\n    $(\".limited-textarea-input\").each(function () {\r\n      const limit = $(this).prop(\"maxlength\");\r\n      if (!limit) return;\r\n      $(this)\r\n        .closest(\".limited-textarea-input-wrap\")\r\n        .find(\".limited-textarea-input__limit\")\r\n        .html(limit);\r\n    });\r\n    $(\".limited-textarea-input\").on(\"input\", function (e) {\r\n      let length = $(this).val().length;\r\n\r\n      $(this)\r\n        .closest(\".limited-textarea-input-wrap\")\r\n        .find(\".limited-textarea-input__counter\")\r\n        .html(length);\r\n    });\r\n    // Review Rating input\r\n    $(\".overlay-cdk__content-review-rating-btn\").on(\"click\", function () {\r\n      const value = $(this).data(\"value\");\r\n      if (!value) return;\r\n      const $parent = $(this).closest(\".review-rating-wrap\");\r\n      const $input = $parent.find(\".review-rating__input\");\r\n      $input.val(value);\r\n\r\n      const stars = $parent.find(\".overlay-cdk__content-review-rating-btn\");\r\n      stars.each(function () {\r\n        let starValue = $(this).data(\"value\");\r\n        if (starValue <= value) {\r\n          $(this).find(\"i\").addClass(\"active\");\r\n        } else {\r\n          $(this).find(\"i\").removeClass(\"active\");\r\n        }\r\n      });\r\n    });\r\n    // Review Upload input\r\n    $(\".review-image-upload__upload-btn\").on(\"click\", function () {\r\n      const $parent = $(this).closest(\".review-image-upload\");\r\n      const $input = $parent.find(\".review-image-upload__input\");\r\n      $input.trigger(\"click\");\r\n    });\r\n    $(\".review-image-upload__input\").on(\"change\", function () {\r\n      const files = $(this)[0].files;\r\n      if (!files) return;\r\n\r\n      const $parent = $(this).closest(\".review-image-upload\");\r\n      const $previewTarget = $parent.find(\".review-image-upload__content\");\r\n      $previewTarget.find(\".review-image-upload__content-image\").remove();\r\n\r\n      for (var i = 0; i < files.length; i++) {\r\n        const file = files[i];\r\n\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = function (e) {\r\n          $previewTarget.append(`\r\n            <img\r\n              src=\"${e.target.result}\"\r\n              alt=\"user image\"\r\n              class=\"review-image-upload__content-image\"\r\n            />\r\n          `);\r\n        };\r\n      }\r\n    });\r\n\r\n    // Checkout page\r\n    if ($(\".checkout-form\").length) {\r\n      // Pickup select change\r\n\r\n      // Sematic correct interaction on button\r\n      // $(\".form-select-group__select-btn\").on(\"click\", function () {\r\n      //   $(this).parent().find('input[type=\"radio\"]').prop(\"checked\", true);\r\n      //   let pickup_address = $('input[name=\"pickup_address\"]:checked').val();\r\n      //   // console.log(pickup_address);\r\n      //   $(\".form-select-group__select-btn\").parent().removeClass(\"active\");\r\n      //   $(this).parent().addClass(\"active\");\r\n      // });\r\n      // Project specific interaction on container\r\n      $(\".form-select-group__select\").on(\"click\", function (e) {\r\n        $(this).find('input[type=\"radio\"]').prop(\"checked\", true);\r\n        let pickup_address = $('input[name=\"pickup_address\"]:checked').val();\r\n        $(\".form-select-group__select\").removeClass(\"active\");\r\n        $(this).addClass(\"active\");\r\n      });\r\n      // Prevent event above to trigger (a placed inside form-select-group__select)\r\n      $(\".form-select-group__select a\").on(\"click\", function (e) {\r\n        e.stopPropagation();\r\n      });\r\n\r\n      // Region dropdown\r\n      $(\".checkout-form__region-dropdown-btn\").each(function (index) {\r\n        if (index === 0) {\r\n          let regId = $(this).data(\"region-id\");\r\n          $(\".form-select-group__select\").hide();\r\n          $(\r\n            \".form-select-group__select[data-region-id='\" + regId + \"']\",\r\n          ).show();\r\n        }\r\n      });\r\n      $(\".checkout-form__region-dropdown-btn\").on(\"click\", function (e) {\r\n        e.preventDefault();\r\n        let parent = $(this).closest(\".checkout-form__region-dropdown\");\r\n        let value = $(this).text().trim();\r\n        let regId = $(this).data(\"region-id\");\r\n\r\n        parent.find(\".checkout-form__region-dropdown-value\").html(value);\r\n        $(\".checkout-form__region-input\").val(value);\r\n\r\n        $('input[name=\"pickup_address\"]').prop(\"checked\", false);\r\n        $(\".form-select-group__select-btn\").parent().removeClass(\"active\");\r\n\r\n        // let pickup_address = $('input[name=\"pickup_address\"]:checked').val();\r\n\r\n        $(\".form-select-group__select\").hide();\r\n        $(\".form-select-group__select[data-region-id='\" + regId + \"']\").show();\r\n      });\r\n\r\n      // Delivery type radio switch\r\n      if ($('input[name=\"delivery_type\"]').length) {\r\n        let delivery_type = $('input[name=\"delivery_type\"]:checked').val();\r\n        $('input[name=\"delivery_type\"]').on(\"change\", function () {\r\n          delivery_type = $(this).val();\r\n\r\n          if (delivery_type === \"pickup\") {\r\n            $(\".checkout-form__delivery-type-hint--1\").addClass(\"d-none\");\r\n\r\n            $(\".checkout-form__delivery-types-tab-pickup\").addClass(\"active\");\r\n            $(\".checkout-form__delivery-types-tab-address\").removeClass(\r\n              \"active\",\r\n            );\r\n          } else if (delivery_type === \"home\") {\r\n            $(\".checkout-form__delivery-type-hint--1\").removeClass(\"d-none\");\r\n\r\n            $(\".checkout-form__delivery-types-tab-address\").addClass(\"active\");\r\n            $(\".checkout-form__delivery-types-tab-pickup\").removeClass(\r\n              \"active\",\r\n            );\r\n          }\r\n        });\r\n      }\r\n      // Payment type radio switch\r\n      if ($('input[name=\"payment_type\"]').length) {\r\n        let payment_type = $('input[name=\"payment_type\"]:checked').val();\r\n        $('input[name=\"payment_type\"]').on(\"change\", function () {\r\n          payment_type = $(this).val();\r\n\r\n          if (payment_type === \"on_delivery\") {\r\n            $(\".checkout-form__payment-type-hint--1\").addClass(\"d-none\");\r\n          } else if (payment_type === \"online\") {\r\n            $(\".checkout-form__payment-type-hint--1\").removeClass(\"d-none\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n    // Phone confirmation\r\n    $(\".phone-confirmation__phone-group-confirm-btn\").on(\"click\", function () {\r\n      let parent = $(this).closest(\".phone-confirmation\");\r\n      parent.addClass(\"phone-confirmation--active\");\r\n    });\r\n    $(\".phone-confirmation__code-group input\").on(\r\n      \"change textInput input\",\r\n      function () {\r\n        let parent = $(this).closest(\".phone-confirmation__code-group\");\r\n        if ($(this).val() === \"\") {\r\n          parent.removeClass(\"phone-confirmation__code-group--active\");\r\n        } else {\r\n          parent.addClass(\"phone-confirmation__code-group--active\");\r\n        }\r\n      },\r\n    );\r\n\r\n    $(\".phone-confirmation__code-group-confirm-btn\").on(\"click\", function () {\r\n      let phoneConfirmParent = $(this).closest(\".phone-confirmation\");\r\n      // reset\r\n      phoneConfirmParent.removeClass(\r\n        \"phone-confirmation--success phone-confirmation--invalid\",\r\n      );\r\n\r\n      // get data\r\n      let phone = phoneConfirmParent\r\n        .find(\".phone-confirmation__phone-group input\")\r\n        .val();\r\n      let code = phoneConfirmParent\r\n        .find(\".phone-confirmation__code-group input\")\r\n        .val();\r\n\r\n      let payload = { phone, code };\r\n\r\n      // Сделать запрос и выставить классы\r\n      // // При успехе\r\n      // phoneConfirmParent.addClass(\"phone-confirmation--success\");\r\n      // // При ошибке\r\n      // phoneConfirmParent.addClass(\"phone-confirmation--invalid\");\r\n\r\n      // $.ajax({\r\n      //   url: 'API_URL',\r\n      //   method: 'POST',\r\n      //   dataType: 'json',\r\n      //   data: payload,\r\n      //   success: function(obj) {\r\n      //     console.log(obj);\r\n\r\n      //   },\r\n      //   error: function(err) {\r\n      //     console.error(err);\r\n      //   }\r\n      // });\r\n    });\r\n\r\n    // Stepper\r\n    $(\".stepper-tab\").each(function (index) {\r\n      if (index === 0) {\r\n        $(this).addClass(\"active\");\r\n      }\r\n    });\r\n    $(\".stepper-header__step\").on(\"click\", function (e) {\r\n      if ($(this).hasClass(\"stepper-header__step--static\")) {\r\n        return;\r\n      }\r\n      e.preventDefault();\r\n      let parent = $(this).closest(\".stepper\");\r\n      let stepperId = parent.attr(\"id\");\r\n\r\n      let index = $(this).data(\"step-index\");\r\n\r\n      changeStepperStep(stepperId, index);\r\n    });\r\n\r\n    $(\".stepper__next-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let stepperId = $(this).data(\"stepper-id\");\r\n\r\n      let stepper = $(`#${stepperId}`);\r\n      if (stepper) {\r\n        let index = -1;\r\n        let steps = stepper.find(\".stepper-header__step\");\r\n\r\n        steps.each(function (ind) {\r\n          if ($(this).hasClass(\"active\")) {\r\n            index = ind + 1;\r\n          }\r\n        });\r\n\r\n        if (index !== -1 && index + 1 <= steps.length) {\r\n          changeStepperStep(stepperId, index + 1);\r\n        }\r\n\r\n        // Hardcode валидация формы на странице оформления заказа и доставки, нужно рефакторнуть если придется использовать степпер где-то еще повторно, все что выше отвечает за переключения шагов и может остаться без изменений\r\n        if (index === 3) {\r\n          var values = {};\r\n          $.each($(\"form.checkout-form\").serializeArray(), function (i, field) {\r\n            values[field.name] = field.value;\r\n          });\r\n        }\r\n        let pickup_address = $('input[name=\"pickup_address\"]:checked').val();\r\n      }\r\n    });\r\n\r\n    $(\".stepper__back-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let stepperId = $(this).data(\"stepper-id\");\r\n\r\n      let stepper = $(`#${stepperId}`);\r\n\r\n      if (stepper) {\r\n        let index = -1;\r\n        let steps = stepper.find(\".stepper-header__step\");\r\n\r\n        let staticTabs = [];\r\n        steps.each(function (ind) {\r\n          if ($(this).hasClass(\"stepper-header__step--static\")) {\r\n            staticTabs.push(ind + 1);\r\n          }\r\n          if ($(this).hasClass(\"active\")) {\r\n            index = ind + 1;\r\n          }\r\n        });\r\n\r\n        if (index >= 2 && staticTabs.indexOf(index - 1) == -1) {\r\n          changeStepperStep(stepperId, index - 1);\r\n        }\r\n      }\r\n    });\r\n\r\n    function changeStepperStep(stepperId, index) {\r\n      const stepper = $(`#${stepperId}`);\r\n      if (!stepper.length) {\r\n        return;\r\n      }\r\n      // tabs\r\n      let tab = stepper.find('.stepper-tab[data-tab-index=\"' + index + '\"]');\r\n      if (tab.length) {\r\n        stepper.find(\".stepper-tab\").removeClass(\"active\");\r\n        tab.addClass(\"active\");\r\n      }\r\n      // steps\r\n      let step = stepper.find(\r\n        '.stepper-header__step[data-step-index=\"' + index + '\"]',\r\n      );\r\n      if (step.length) {\r\n        stepper.find(\".stepper-header__step\").removeClass(\"active\");\r\n        step.addClass(\"active\");\r\n      }\r\n    }\r\n\r\n    // Hide texts under spoiler on mobile\r\n    $(document).on(\"click\", \".shortened__toggle\", function (e) {\r\n      e.preventDefault();\r\n      if (!$(this).parent().find(\".to-shorten.shortened\").hasClass(\"active\")) {\r\n        $(this).parent().find(\".to-shorten.shortened\").addClass(\"active\");\r\n        $(this).data(\"text\", $(this).text());\r\n        $(this).html(\"Скрыть\");\r\n      } else {\r\n        $(this).parent().find(\".to-shorten.shortened\").removeClass(\"active\");\r\n        $(this).html($(this).data(\"text\") || \"Читать полностью\");\r\n      }\r\n      // $(this).remove();\r\n    });\r\n    // Hide seo texts\r\n    $(\".static-seo__toggle\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const parent = $(this).closest(\".static-seo\");\r\n      if (!parent.hasClass(\"active\")) {\r\n        parent.addClass(\"active\");\r\n        $(this).data(\"text\", $(this).text());\r\n        $(this).html(\"Скрыть\");\r\n      } else {\r\n        parent.removeClass(\"active\");\r\n        $(this).html($(this).data(\"text\") || \"Читать полностью\");\r\n      }\r\n    });\r\n\r\n    // Product gallery swiper initialize\r\n    $(\".product-media-gallery\").each(function () {\r\n      const thumb = $(this).find(\".product-media-gallery__thumbs\");\r\n      const top = $(this).find(\".product-media-gallery__top\");\r\n\r\n      let galleryThumbs = new Swiper(thumb[0], {\r\n        spaceBetween: 10,\r\n        slidesPerView: 4,\r\n        // freeMode: true,\r\n        watchSlidesVisibility: true,\r\n        watchSlidesProgress: true,\r\n        // slidesPerGroup: 3,\r\n        on: {\r\n          init: function () {\r\n            if ($(this)[0].slides.length > 4) {\r\n              $(\".product-media-gallery__thumbs-arrow-forward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n          },\r\n          slideChange: function () {\r\n            let slider = $(this)[0];\r\n            if (slider.isEnd) {\r\n              $(\r\n                \".product-media-gallery__thumbs-arrow-forward-wrap\",\r\n              ).removeClass(\"active\");\r\n            } else {\r\n              $(\".product-media-gallery__thumbs-arrow-forward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n            if (slider.isBeginning) {\r\n              $(\r\n                \".product-media-gallery__thumbs-arrow-backward-wrap\",\r\n              ).removeClass(\"active\");\r\n            } else {\r\n              $(\".product-media-gallery__thumbs-arrow-backward-wrap\").addClass(\r\n                \"active\",\r\n              );\r\n            }\r\n          },\r\n        },\r\n      });\r\n\r\n      let galleryTop = new Swiper(top[0], {\r\n        spaceBetween: 10,\r\n        navigation: {\r\n          nextEl: \".swiper-button-next\",\r\n          prevEl: \".swiper-button-prev\",\r\n        },\r\n        pagination: {\r\n          el: \".swiper-pagination\",\r\n        },\r\n        thumbs: {\r\n          swiper: galleryThumbs,\r\n          autoScrollOffset: 1,\r\n        },\r\n      });\r\n    });\r\n\r\n    // Swipe categories on catalog page\r\n    // $(\".categories-panel\").each(function () {\r\n    //   const cats = new Glider($(this)[0], {\r\n    //     draggable: true,\r\n    //     slidesToShow: \"auto\",\r\n    //     exactWidth: false,\r\n    //     itemWidth: 50,\r\n    //   });\r\n    // });\r\n\r\n    // $(\".categories-panel a\").each(function () {\r\n    //   $(this)[0].ondragstart = function () {\r\n    //     return false;\r\n    //   };\r\n    // });\r\n    // $(\".categories-panel\").each(function () {\r\n    //   let $self = $(this);\r\n    //   let panStart = null;\r\n    //   let categoryPan = new Hammer($self[0]);\r\n\r\n    //   categoryPan.on(\"panstart\", function ($event) {\r\n    //     panStart = $event.center.x;\r\n    //   });\r\n    //   categoryPan.on(\"panend\", function ($event) {\r\n    //     panStart = null;\r\n    //   });\r\n\r\n    //   categoryPan.on(\"pan\", function ($event) {\r\n    //     const walk = ($event.center.x - panStart) * 0.08; //scroll-fast\r\n    //     $self.scrollLeft($self.scrollLeft() - walk);\r\n    //   });\r\n    // });\r\n\r\n    $(\".categories-panel\").each(function () {\r\n      if ($(this).hasClass(\"swiper-wrapper\")) return;\r\n\r\n      $(this).wrap('<div class=\"categories-panel-swiper\"></div>');\r\n      $(this).addClass(\"swiper-wrapper\");\r\n      $(this)\r\n        .find(\"li\")\r\n        .each(function () {\r\n          $(this).addClass(\"swiper-slide\");\r\n        });\r\n\r\n      let wrapper = $(this).closest(\".categories-panel-swiper\");\r\n\r\n      let swiper = new Swiper(wrapper, {\r\n        freeMode: true,\r\n        slidesPerView: \"auto\",\r\n        loop: false,\r\n      });\r\n    });\r\n\r\n    // Mobile filter popup on catalog page\r\n    $(\".applied-filters-panel__mobile-filter-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let container = $(\".sidebar\").parent().parent();\r\n      $(\".sidebar\").addClass(\"open\");\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      container.removeClass(\"d-none h-100\");\r\n      $(\".sidebar\").prepend(\r\n        '<a class=\"applied-filters-panel__mobile-close-filter-btn back-btn text-small text-action mbp-40\" href=\"#\"><i class=\"icon-icon_arrows_1\"></i> Вернуться назад</a>',\r\n      );\r\n    });\r\n    $(document).on(\r\n      \"click\",\r\n      \".applied-filters-panel__mobile-close-filter-btn\",\r\n      function (e) {\r\n        e.preventDefault();\r\n        let container = $(\".sidebar\").parent().parent();\r\n        container.addClass(\"d-none h-100\");\r\n        $(\".sidebar\").removeClass(\"open\");\r\n        $(\"body\").removeClass(\"overflow-hidden\");\r\n        $(\".sidebar\")\r\n          .find(\".applied-filters-panel__mobile-close-filter-btn\")\r\n          .remove();\r\n      },\r\n    );\r\n\r\n    // Product page reviews bar value\r\n    $(\".product-page__reviews-summary-score-bar\").each(function () {\r\n      const value = $(this).data(\"percent-value\");\r\n      const percent = Number(value);\r\n      if (percent && !isNaN(percent) && percent >= 0 && percent <= 100) {\r\n        const bar = $(this).find(\r\n          \".product-page__reviews-summary-score-bar-inner\",\r\n        );\r\n        bar.css(\"width\", `${percent}%`);\r\n      }\r\n    });\r\n\r\n    // Accordion\r\n    $(\".accordion\").each(function () {\r\n      // Keep open if has opened class\r\n      if ($(this).hasClass(\"opened\")) return;\r\n\r\n      $(this).parent().find(\".accordion__content\").hide();\r\n\r\n      // Linked accordion\r\n      if ($(this).hasClass(\"accordion--linked\")) {\r\n        const linkId = $(this).data(\"linkedId\");\r\n\r\n        const linkedContent = $(\r\n          \".accordion__linked-content[data-linked-id='\" + linkId + \"']\",\r\n        );\r\n        linkedContent.hide();\r\n      }\r\n    });\r\n    $(\".accordion__toggle\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let parent = $(this).parent();\r\n      let content = parent.find(\".accordion__content\");\r\n\r\n      // Linked accordion\r\n      if (parent.hasClass(\"accordion--linked\")) {\r\n        const linkId = parent.data(\"linkedId\");\r\n\r\n        const linkedContent = $(\r\n          \".accordion__linked-content[data-linked-id='\" + linkId + \"']\",\r\n        );\r\n        // linkedContent.hide();\r\n\r\n        if (!parent.hasClass(\"opened\")) {\r\n          linkedContent.slideDown(\"fast\");\r\n        } else {\r\n          linkedContent.slideUp(\"fast\");\r\n        }\r\n      }\r\n\r\n      if (!parent.hasClass(\"opened\")) {\r\n        let accordionsWrap = $(this).closest(\".accordions-wrap\");\r\n        if (accordionsWrap && accordionsWrap.hasClass(\"accordions-switching\")) {\r\n          let accordions = accordionsWrap.find(\".accordion\");\r\n          accordions.each(function () {\r\n            let inner_parent = $(this).parent();\r\n            let inner_content = $(this).find(\".accordion__content\");\r\n            inner_parent.removeClass(\"opened\");\r\n            inner_content.slideUp(\"fast\");\r\n          });\r\n        }\r\n        parent.addClass(\"opened\");\r\n        content.slideDown(\"fast\");\r\n      } else {\r\n        parent.removeClass(\"opened\");\r\n        content.slideUp(\"fast\");\r\n      }\r\n    });\r\n\r\n    // Interactive map\r\n    $(\".interactive-map__pin-btn\").on(\"click\", function () {\r\n      let index = Number($(this).data(\"index\"));\r\n      let mapContainer = $(this).closest(\".interactive-map\");\r\n\r\n      if (isNaN(index)) {\r\n        return;\r\n      }\r\n\r\n      // pins\r\n      if ($(this).hasClass(\"active\")) {\r\n        mapContainer.find(\".interactive-map__pin-btn\").removeClass(\"active\");\r\n        mapContainer.find(\".interactive-map__panel\").hide();\r\n\r\n        mapContainer\r\n          .find(\".interactive-map__panel--initial\")\r\n          .css(\"display\", \"flex\")\r\n          .hide()\r\n          .fadeIn();\r\n\r\n        return;\r\n      }\r\n      mapContainer.find(\".interactive-map__pin-btn\").removeClass(\"active\");\r\n      $(this).addClass(\"active\");\r\n\r\n      // panels\r\n      // mapContainer.find(\".interactive-map__panel\").removeClass(\"active\");\r\n      mapContainer.find(\".interactive-map__panel\").hide();\r\n      const panel = mapContainer.find(\r\n        '.interactive-map__panels div[data-index=\"' + index + '\"]',\r\n      );\r\n\r\n      panel.css(\"display\", \"flex\").hide().fadeIn();\r\n    });\r\n\r\n    // Clear search form btn\r\n    $(\".search-form__clear-btn\").on(\"click\", function () {\r\n      const parent = $(this).closest(\".search-form\");\r\n      parent.find(\".search-form__input\").val(\"\");\r\n\r\n      $(this).addClass(\"d-none\");\r\n    });\r\n    $(\".search-form__input\").on(\"input change keypress paste\", function () {\r\n      const parent = $(this).closest(\".search-form\");\r\n      if ($(this).val() === \"\") {\r\n        parent.find(\".search-form__clear-btn\").addClass(\"d-none\");\r\n      } else {\r\n        parent.find(\".search-form__clear-btn\").removeClass(\"d-none\");\r\n      }\r\n    });\r\n    $(\".search-form__input\").each(function () {\r\n      const parent = $(this).closest(\".search-form\");\r\n      if ($(this).val() === \"\") {\r\n        parent.find(\".search-form__clear-btn\").addClass(\"d-none\");\r\n      } else {\r\n        parent.find(\".search-form__clear-btn\").removeClass(\"d-none\");\r\n      }\r\n    });\r\n\r\n    // Cabinet review short text\r\n    $(\".cabinet-review__text-content\").each(function () {\r\n      if ($(this).height() > 100 && !$(this).hasClass(\"shortened\")) {\r\n        $(this).addClass(\"shortened\");\r\n        $(\r\n          \"<a href='#' class='shortened__toggle d-block'>Показать полный текст комментария</a>\",\r\n        ).insertAfter($(this));\r\n      }\r\n    });\r\n\r\n    // Cabinet history table\r\n    $(\".cabinet-order-card__details-table\").each(function () {\r\n      const rows = $(this).find(\".cabinet-order-card__details-table-row\");\r\n\r\n      if (rows.length <= 3) {\r\n        $(this)\r\n          .find(\".cabinet-order-card__details-table-btn\")\r\n          .addClass(\"d-none\");\r\n      } else {\r\n        rows.each(function (index) {\r\n          if (index > 2) $(this).addClass(\"d-none\");\r\n        });\r\n      }\r\n    });\r\n    $(\".cabinet-order-card__details-table-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const parent = $(this).closest(\".cabinet-order-card__details-table\");\r\n      if (!parent.hasClass(\"expanded\")) {\r\n        parent.addClass(\"expanded\");\r\n\r\n        const rows = parent.find(\".cabinet-order-card__details-table-row\");\r\n        rows.each(function (index) {\r\n          if (index > 2) $(this).removeClass(\"d-none\");\r\n        });\r\n\r\n        $(this).data(\"text\", $(this).text());\r\n        $(this).html(\"Свернуть полный список товаров\");\r\n      } else {\r\n        parent.removeClass(\"expanded\");\r\n\r\n        const rows = parent.find(\".cabinet-order-card__details-table-row\");\r\n        rows.each(function (index) {\r\n          if (index > 2) $(this).addClass(\"d-none\");\r\n        });\r\n\r\n        $(this).html(\r\n          $(this).data(\"text\") || \"Развернуть полный список товаров\",\r\n        );\r\n      }\r\n    });\r\n\r\n    // Compare attribute resize\r\n    if ($(\".compare-container\").length) {\r\n      let hRating = 0;\r\n      let hType = 0;\r\n      let hSize = 0;\r\n      let hHeight = 0;\r\n      let hFirmness = 0;\r\n      let hBase = 0;\r\n      let hLoad = 0;\r\n      let hComposition = 0;\r\n      let hPrice = 0;\r\n      let hFiller = 0;\r\n      let hWeight = 0;\r\n      let hCubature = 0;\r\n      let hPackaging = 0;\r\n      let hColor = 0;\r\n      let hWarranty = 0;\r\n      let hManufacturer = 0;\r\n\r\n      let attributes = [\r\n        \"compare-attribute--rating\",\r\n        \"compare-attribute--type\",\r\n        \"compare-attribute--size\",\r\n        \"compare-attribute--height\",\r\n        \"compare-attribute--firmness\",\r\n        \"compare-attribute--base\",\r\n        \"compare-attribute--load\",\r\n        \"compare-attribute--composition\",\r\n        \"compare-attribute--price\",\r\n        \"compare-attribute--filler\",\r\n        \"compare-attribute--weight\",\r\n        \"compare-attribute--cubature\",\r\n        \"compare-attribute--packaging\",\r\n        \"compare-attribute--color\",\r\n        \"compare-attribute--warranty\",\r\n        \"compare-attribute--manufacturer\",\r\n      ];\r\n\r\n      $(\".compare-container\").each(function () {\r\n        attributes.forEach((attribute) => {\r\n          $(this)\r\n            .find(\".\" + attribute)\r\n            .each(function () {\r\n              let height = $(this).outerHeight();\r\n              switch (attribute) {\r\n                case \"compare-attribute--rating\":\r\n                  hRating = hRating < height ? height : hRating;\r\n                  break;\r\n                case \"compare-attribute--type\":\r\n                  hType = hType < height ? height : hType;\r\n                  break;\r\n                case \"compare-attribute--size\":\r\n                  hSize = hSize < height ? height : hSize;\r\n                  break;\r\n                case \"compare-attribute--height\":\r\n                  hHeight = hHeight < height ? height : hHeight;\r\n                  break;\r\n                case \"compare-attribute--firmness\":\r\n                  hFirmness = hFirmness < height ? height : hFirmness;\r\n                  break;\r\n                case \"compare-attribute--base\":\r\n                  hBase = hBase < height ? height : hBase;\r\n                  break;\r\n                case \"compare-attribute--load\":\r\n                  hLoad = hLoad < height ? height : hLoad;\r\n                  break;\r\n                case \"compare-attribute--composition\":\r\n                  hComposition = hComposition < height ? height : hComposition;\r\n                  break;\r\n                case \"compare-attribute--price\":\r\n                  hPrice = hPrice < height ? height : hPrice;\r\n                  break;\r\n                case \"compare-attribute--filler\":\r\n                  hFiller = hFiller < height ? height : hFiller;\r\n                  break;\r\n                case \"compare-attribute--weight\":\r\n                  hWeight = hWeight < height ? height : hWeight;\r\n                  break;\r\n                case \"compare-attribute--cubature\":\r\n                  hCubature = hCubature < height ? height : hCubature;\r\n                  break;\r\n                case \"compare-attribute--packaging\":\r\n                  hPackaging = hPackaging < height ? height : hPackaging;\r\n                  break;\r\n                case \"compare-attribute--color\":\r\n                  hColor = hColor < height ? height : hColor;\r\n                  break;\r\n                case \"compare-attribute--warranty\":\r\n                  hWarranty = hWarranty < height ? height : hWarranty;\r\n                  break;\r\n                case \"compare-attribute--manufacturer\":\r\n                  hManufacturer =\r\n                    hManufacturer < height ? height : hManufacturer;\r\n                  break;\r\n\r\n                default:\r\n                  break;\r\n              }\r\n            });\r\n\r\n          $(\".\" + attribute).height(hRating);\r\n        });\r\n      });\r\n\r\n      $(\".compare-attribute--rating\").height(hRating);\r\n      $(\".compare-attribute--type\").height(hType);\r\n      $(\".compare-attribute--size\").height(hSize);\r\n      $(\".compare-attribute--height\").height(hHeight);\r\n      $(\".compare-attribute--firmness\").height(hFirmness);\r\n      $(\".compare-attribute--base\").height(hBase);\r\n      $(\".compare-attribute--load\").height(hLoad);\r\n      $(\".compare-attribute--composition\").height(hComposition);\r\n      $(\".compare-attribute--price\").height(hPrice);\r\n      $(\".compare-attribute--filler\").height(hFiller);\r\n      $(\".compare-attribute--weight\").height(hWeight);\r\n      $(\".compare-attribute--cubature\").height(hCubature);\r\n      $(\".compare-attribute--packaging\").height(hPackaging);\r\n      $(\".compare-attribute--color\").height(hColor);\r\n      $(\".compare-attribute--warranty\").height(hWarranty);\r\n      $(\".compare-attribute--manufacturer\").height(hManufacturer);\r\n    }\r\n\r\n    // Compare drag to scroll\r\n    if ($(\".compare-container-wrap\").length) {\r\n      $(\".compare-container-wrap\").each(function () {\r\n        const $el = $(this);\r\n        const ele = $el[0];\r\n        $el.css(\"cursor\", \"grab\");\r\n\r\n        let pos = { top: 0, left: 0, x: 0, y: 0 };\r\n\r\n        const mouseDownHandler = function (e) {\r\n          ele.style.cursor = \"grabbing\";\r\n          ele.style.userSelect = \"none\";\r\n\r\n          pos = {\r\n            left: ele.scrollLeft,\r\n            top: ele.scrollTop,\r\n            // Get the current mouse position\r\n            x: e.clientX,\r\n            y: e.clientY,\r\n          };\r\n\r\n          document.addEventListener(\"mousemove\", mouseMoveHandler);\r\n          document.addEventListener(\"mouseup\", mouseUpHandler);\r\n        };\r\n\r\n        const mouseMoveHandler = function (e) {\r\n          // How far the mouse has been moved\r\n          const dx = e.clientX - pos.x;\r\n          const dy = e.clientY - pos.y;\r\n\r\n          // Scroll the element\r\n          ele.scrollTop = pos.top - dy;\r\n          ele.scrollLeft = pos.left - dx;\r\n        };\r\n\r\n        const mouseUpHandler = function () {\r\n          ele.style.cursor = \"grab\";\r\n          ele.style.removeProperty(\"user-select\");\r\n\r\n          document.removeEventListener(\"mousemove\", mouseMoveHandler);\r\n          document.removeEventListener(\"mouseup\", mouseUpHandler);\r\n        };\r\n\r\n        // Attach the handler\r\n        ele.addEventListener(\"mousedown\", mouseDownHandler);\r\n      });\r\n    }\r\n\r\n    // Open phone form overlay\r\n    $(\".open-phone-form-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#phoneFormPopupOverlay\").addClass(\"active\");\r\n    });\r\n\r\n    // Open phone form overlay\r\n    $(\".open-custom-mattress-form-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#customMattressFormPopupOverlay\").addClass(\"active\");\r\n    });\r\n\r\n    // Open video overlay\r\n    $(\".open-video-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const link = $(this).attr(\"href\");\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#videoPopupOverlay\").addClass(\"active\");\r\n      $(\"#videoPopupOverlay\").find(\"iframe\").attr(\"src\", link);\r\n\r\n      if ($(\"body\").width() <= \"990\") {\r\n        // rebuild carousel because overlay doesn't calculate properly\r\n        $(\"#videoPopupOverlay\").find(\".mobile-slider\").slick(\"unslick\").slick({\r\n          infinite: false,\r\n          dots: false,\r\n          arrows: false,\r\n          slidesToShow: 1.1,\r\n        });\r\n      }\r\n    });\r\n\r\n    // Open map overlay\r\n    $(\".open-map-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const link = $(this).attr(\"href\");\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#mapPopupOverlay\").addClass(\"active\");\r\n      $(\"#mapPopupOverlay\").find(\"iframe\").attr(\"src\", link);\r\n    });\r\n\r\n    // Open review overlay\r\n    $(\".open-review-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const $overlay = $(\"#newReviewPopupOverlay\");\r\n      if (!$overlay.length) {\r\n        console.error(\"overlay is unavailable\");\r\n        return;\r\n      }\r\n\r\n      const $parent = $(this).closest(\".review-popup-form-parent\");\r\n      if (!$parent.length) {\r\n        console.error(\"parent is unavailable\");\r\n        return;\r\n      }\r\n\r\n      const $form = $parent.find(\".review-popup-form-wrap\").children();\r\n\r\n      if (!$form.length) {\r\n        console.error(\"form is unavailable\");\r\n        return;\r\n      }\r\n\r\n      const $target = $overlay.find(\".overlay-cdk__content-review-container\");\r\n\r\n      if (!$target.length) {\r\n        console.error(\"target is unavailable\");\r\n        return;\r\n      }\r\n\r\n      // Cleat target location\r\n      $target.empty();\r\n\r\n      // Clone and paste to target location\r\n      $form.clone(true).appendTo($target);\r\n\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $overlay.addClass(\"active\");\r\n    });\r\n\r\n    // Open auth overlay\r\n    $(\".open-auth-popup\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"body\").addClass(\"overflow-hidden\");\r\n      $(\"#authPopupOverlay\").addClass(\"active\");\r\n    });\r\n    // Switch auth mode\r\n    $(\".switch-auth-popup__login\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-auth\")\r\n        .removeClass(\"active\");\r\n\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-login\")\r\n        .addClass(\"active\");\r\n    });\r\n    $(\".switch-auth-popup__registration\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-auth\")\r\n        .removeClass(\"active\");\r\n\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-registration\")\r\n        .addClass(\"active\");\r\n    });\r\n    $(\".switch-auth-popup__reset-password\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-auth\")\r\n        .removeClass(\"active\");\r\n\r\n      $(\"#authPopupOverlay\")\r\n        .find(\".overlay-cdk__content-reset-password\")\r\n        .addClass(\"active\");\r\n    });\r\n\r\n    // Close overlay on outside click\r\n    $(\".overlay-cdk\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n      if ($(\"#authPopupOverlay\").hasClass(\"active\")) {\r\n        $(\"#authPopupOverlay\")\r\n          .find(\".overlay-cdk__content-auth\")\r\n          .removeClass(\"active\");\r\n        $(\"#authPopupOverlay\")\r\n          .find(\".overlay-cdk__content-login\")\r\n          .addClass(\"active\");\r\n      }\r\n\r\n      $(this).removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    });\r\n\r\n    // Close overlay on button click\r\n    $(\".overlay-cdk__close-btn\").on(\"click\", function (e) {\r\n      if ($(\"#authPopupOverlay\").hasClass(\"active\")) {\r\n        $(\"#authPopupOverlay\")\r\n          .find(\".overlay-cdk__content-auth\")\r\n          .removeClass(\"active\");\r\n        $(\"#authPopupOverlay\")\r\n          .find(\".overlay-cdk__content-login\")\r\n          .addClass(\"active\");\r\n      }\r\n\r\n      $(\".overlay-cdk\").removeClass(\"active\");\r\n      $(\"body\").removeClass(\"overflow-hidden\");\r\n    });\r\n\r\n    // Mobile drawer\r\n    $(\".drawer-toggler\").on(\"click\", function () {\r\n      toggleDrawer();\r\n    });\r\n    let mobileDrawer = $(\".mobile-drawer\");\r\n    if (mobileDrawer) {\r\n      let mobileDrawerHammer = new Hammer(mobileDrawer[0]);\r\n      mobileDrawerHammer.on(\"swiperight\", function () {\r\n        toggleDrawer();\r\n      });\r\n    }\r\n    function toggleDrawer() {\r\n      if (!$(\".mobile-drawer\").hasClass(\"active\")) {\r\n        $(\".mobile-drawer\").addClass(\"active\");\r\n        $(\"body\").addClass(\"overflow-hidden\");\r\n        setTimeout(function () {\r\n          $(\".mobile-drawer\").addClass(\"dark\");\r\n        }, 250); // synced with css transition time ((~60%)\r\n      } else {\r\n        $(\".mobile-drawer\").removeClass(\"active dark\");\r\n        $(\"body\").removeClass(\"overflow-hidden\");\r\n      }\r\n    }\r\n\r\n    // Close overlay on outside click\r\n    $(\".mobile-drawer\").on(\"click\", function (e) {\r\n      if (e.target !== e.currentTarget) return;\r\n      toggleDrawer();\r\n    });\r\n    // Close overlay on close click\r\n    $(\".mobile-drawer__close-btn\").on(\"click\", function () {\r\n      toggleDrawer();\r\n    });\r\n\r\n    // Zoom product gallery\r\n    $(document).on(\r\n      \"mouseenter\",\r\n      \".product-media-gallery__top > .swiper-wrapper > .swiper-slide.swiper-slide-active\",\r\n      function (e) {\r\n        const win = $(window); //this = window\r\n        const width = win.outerWidth();\r\n\r\n        if (width <= 990) {\r\n          return;\r\n        }\r\n\r\n        const img = $(this).css(\"background-image\");\r\n        $(this).css(\"position\", \"relative\");\r\n        $(this).html(`<div id=\"zoomResultBox\" class=\"img-zoom-result\"></div>`);\r\n        imageZoom($(this)[0], \"zoomResultBox\");\r\n      },\r\n    );\r\n    $(document).on(\r\n      \"mouseleave\",\r\n      \".product-media-gallery__top > .swiper-wrapper > .swiper-slide.swiper-slide-active\",\r\n      function (e) {\r\n        imageDestroy();\r\n      },\r\n    );\r\n\r\n    function imageDestroy() {\r\n      $(\"#zoomResultBox\").remove();\r\n    }\r\n\r\n    // imageZoom(\"test\", \"myresult\");\r\n    function imageZoom(img, resultID) {\r\n      // var img;\r\n      var lens, result, cx, cy;\r\n      // img = document.getElementById(imgID);\r\n      result = document.getElementById(resultID);\r\n\r\n      /*create lens:*/\r\n      // lens = document.createElement(\"DIV\");\r\n      // lens.setAttribute(\"class\", \"img-zoom-lens\");\r\n      /*insert lens:*/\r\n      // img.parentElement.insertBefore(lens, img);\r\n      /*calculate the ratio between result DIV and lens:*/\r\n      cx = result.offsetWidth / 250;\r\n      cy = result.offsetHeight / 250;\r\n\r\n      /*set background properties for the result DIV:*/\r\n      var backgroundImage = $(img).css(\"background-image\");\r\n      var url = backgroundImage.slice(4, -1).replace(/[\"']/g, \"\");\r\n      result.style.backgroundImage = \"url('\" + url + \"')\";\r\n      result.style.backgroundSize =\r\n        img.offsetWidth * cx + \"px \" + img.offsetHeight * cy + \"px\";\r\n      /*execute a function when someone moves the cursor over the image, or the lens:*/\r\n      // lens.addEventListener(\"mousemove\", moveLens);\r\n      img.addEventListener(\"mousemove\", moveLens);\r\n      /*and also for touch screens:*/\r\n      // lens.addEventListener(\"touchmove\", moveLens);\r\n      img.addEventListener(\"touchmove\", moveLens);\r\n      function moveLens(e) {\r\n        var pos, x, y;\r\n        /*prevent any other actions that may occur when moving over the image:*/\r\n        e.preventDefault();\r\n        /*get the cursor's x and y positions:*/\r\n        pos = getCursorPos(e);\r\n        /*calculate the position of the lens:*/\r\n        x = pos.x / 2;\r\n        y = pos.y / 2;\r\n        /*prevent the lens from being positioned outside the image:*/\r\n\r\n        /*display what the lens \"sees\":*/\r\n        result.style.backgroundPosition = \"-\" + x * cx + \"px -\" + y * cy + \"px\";\r\n      }\r\n      function getCursorPos(e) {\r\n        var a,\r\n          x = 0,\r\n          y = 0;\r\n        e = e || window.event;\r\n        /*get the x and y positions of the image:*/\r\n        a = img.getBoundingClientRect();\r\n        /*calculate the cursor's x and y coordinates, relative to the image:*/\r\n        x = e.pageX - a.left;\r\n        y = e.pageY - a.top;\r\n        /*consider any page scrolling:*/\r\n        x = x - window.pageXOffset;\r\n        y = y - window.pageYOffset;\r\n        return { x: x, y: y };\r\n      }\r\n    }\r\n\r\n    // Responsiveness\r\n    resize();\r\n    $(window).on(\"resize\", function () {\r\n      resize();\r\n    });\r\n    function resize() {\r\n      const win = $(window); //this = window\r\n      const width = win.outerWidth();\r\n\r\n      if (width <= 990) {\r\n        // Move product sidebar on mobile\r\n        if ($(\".product-page-sidebar\").length) {\r\n          $(\".product-page-sidebar\").each(function () {\r\n            $(this).detach().appendTo(\".product-page__mobile-sidebar-spot\");\r\n          });\r\n        }\r\n\r\n        // Move cart sidebar on mobile\r\n        if ($(\".cart-page-sidebar\").length) {\r\n          $(\".cart-page-sidebar\").each(function () {\r\n            let top = $(this).find(\".cart-page-sidebar__top\");\r\n            top.detach().appendTo(\".cart-page__mobile-top-sidebar-spot\");\r\n          });\r\n        }\r\n\r\n        // Shorten mobile breadcrumb\r\n        if ($(\".breadcrumb\").length) {\r\n          $(\".breadcrumb\").each(function () {\r\n            if (!$(this).hasClass(\"mobile-breadcrumb\")) {\r\n              $(this).addClass(\"mobile-breadcrumb\");\r\n              const bcInitialLength = $(this).children().length;\r\n              $(this)\r\n                .children()\r\n                .each(function (index) {\r\n                  if (index !== 0 && index !== bcInitialLength - 1) {\r\n                    $(this).remove();\r\n                  }\r\n                });\r\n              if (bcInitialLength > 2) {\r\n                $(\r\n                  '<li class=\"breadcrumb-item text-black-secondary\">...</li>',\r\n                ).insertAfter($(this).children(\":first\"));\r\n              }\r\n            }\r\n          });\r\n        }\r\n\r\n        // To shorten big chunks of text\r\n        if ($(\".to-shorten\").length) {\r\n          $(\".to-shorten\").each(function () {\r\n            if ($(this).height() > 100 && !$(this).hasClass(\"shortened\")) {\r\n              $(this).addClass(\"shortened\");\r\n              $(\r\n                \"<a href='#' class='shortened__toggle d-block mbp-20'>Читать полностью</a>\",\r\n              ).insertAfter($(this));\r\n            }\r\n          });\r\n        }\r\n\r\n        // Slick mobile-slider\r\n        $(\".mobile-slider\").each(function () {\r\n          if (!$(this).hasClass(\"slick-initialized\")) {\r\n            if ($(this).hasClass(\"mobile-slider--full\")) {\r\n              $(this).slick({\r\n                infinite: false,\r\n                dots: true,\r\n                arrows: false,\r\n                slidesToShow: 1,\r\n                variableWidth: false,\r\n                swipeToSlide: true,\r\n                // centerMode: true,\r\n                // centerPadding: \"20px\",\r\n              });\r\n            } else {\r\n              $(this).slick({\r\n                infinite: false,\r\n                dots: false,\r\n                arrows: false,\r\n                slidesToShow: 1,\r\n                variableWidth: true,\r\n                swipeToSlide: true,\r\n                // centerMode: true,\r\n                // centerPadding: \"20px\",\r\n              });\r\n            }\r\n          }\r\n        });\r\n\r\n        // Slick mobile-carousel\r\n        $(\".mobile-carousel\").each(function () {\r\n          if (!$(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick({\r\n              infinite: false,\r\n              dots: true,\r\n              arrows: false,\r\n              slidesToShow: 1,\r\n              // variableWidth: true,\r\n              // centerMode: true,\r\n              // centerPadding: \"20px\",\r\n            });\r\n          }\r\n        });\r\n\r\n        // Cabinet order process mobile\r\n        $(\".cabinet-order-card__process\").each(function () {\r\n          const $processCard = $(this);\r\n          const cardWidth = $processCard.innerWidth();\r\n\r\n          const $processCardParent = $(this).closest(\r\n            \".cabinet-order-card__process-wrap\",\r\n          );\r\n\r\n          if (!$processCardParent.length) {\r\n            console.error(\"Process card wrapper is unavailable\");\r\n            return;\r\n          }\r\n\r\n          if (\r\n            $processCard.hasClass(\"cabinet-order-card__process--processing\")\r\n          ) {\r\n            $processCardParent.scrollLeft(0);\r\n          } else if (\r\n            $processCard.hasClass(\"cabinet-order-card__process--forming\")\r\n          ) {\r\n            $processCardParent.scrollLeft(cardWidth / 2);\r\n          } else if (\r\n            $processCard.hasClass(\"cabinet-order-card__process--delivery\")\r\n          ) {\r\n            $processCardParent.scrollLeft(cardWidth / 2);\r\n          } else {\r\n            $processCardParent.scrollLeft(0);\r\n          }\r\n        });\r\n      } else {\r\n        // Put product sidebar back on desktop\r\n        if ($(\".product-page-sidebar\").length) {\r\n          $(\".product-page-sidebar\").each(function () {\r\n            if (!$(this).parent().hasClass(\"sidebar-initial-spot\")) {\r\n              $(this).detach().appendTo(\".sidebar-initial-spot\");\r\n            }\r\n          });\r\n        }\r\n\r\n        // Put cart sidebar back on desktop\r\n        if ($(\".cart-page-sidebar\").length) {\r\n          let top = $(\".cart-page-sidebar__top\");\r\n          if (top.parent().hasClass(\"cart-page__mobile-top-sidebar-spot\")) {\r\n            top.detach().appendTo(\".cart-page-sidebar__top-wrap\");\r\n          }\r\n        }\r\n\r\n        // Destroy mobile-slider\r\n        $(\".mobile-slider\").each(function () {\r\n          if ($(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick(\"unslick\");\r\n          }\r\n        });\r\n\r\n        // Destroy mobile-carousel\r\n        $(\".mobile-carousel\").each(function () {\r\n          if ($(this).hasClass(\"slick-initialized\")) {\r\n            $(this).slick(\"unslick\");\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    // Sliding contact tabs header\r\n    // Without timeout custom negative magins and paddings doesn't apply properly\r\n    setTimeout(() => {\r\n      $(\".custom-tabs-header\").each(function () {\r\n        if ($(this).hasClass(\"swiper-wrapper\")) return;\r\n\r\n        $(this).wrap('<div class=\"custom-tabs-header-swiper\"></div>');\r\n        $(this).addClass(\"swiper-wrapper\");\r\n        $(this)\r\n          .find(\".nav-item\")\r\n          .each(function () {\r\n            $(this).addClass(\"swiper-slide\");\r\n          });\r\n        let wrapper = $(this).closest(\".custom-tabs-header-swiper\");\r\n\r\n        let swiper = new Swiper(wrapper, {\r\n          freeMode: true,\r\n          slidesPerView: \"auto\",\r\n          loop: false,\r\n        });\r\n      });\r\n    }, 200);\r\n\r\n    // Fixed header\r\n    if ($(\"body\").width() <= \"990\") {\r\n      if ($(document).scrollTop() >= 300) {\r\n        $(\".main-header__top\").addClass(\"fixed\");\r\n      } else {\r\n        $(\".main-header__top\").removeClass(\"fixed\");\r\n      }\r\n    } else {\r\n      $(\".main-header__top\").removeClass(\"fixed\");\r\n    }\r\n    $(document).on(\"scroll\", function () {\r\n      if ($(\"body\").width() <= \"990\") {\r\n        if ($(document).scrollTop() >= 300) {\r\n          $(\".main-header__top\").addClass(\"fixed\");\r\n        } else {\r\n          $(\".main-header__top\").removeClass(\"fixed\");\r\n        }\r\n      } else {\r\n        $(\".main-header__top\").removeClass(\"fixed\");\r\n      }\r\n    });\r\n\r\n    // City selector\r\n    $(\r\n      \".dropdown-city-menu__region-selector .dropdown-city-menu__selector-item\",\r\n    ).on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      let index = $(this).data(\"region-index\");\r\n      let parent = $(this).closest(\".dropdown-menu\");\r\n      parent.find(\".dropdown-city-menu__region-selector\").removeClass(\"active\");\r\n      parent.find(\".dropdown-city-menu__city-selector\").removeClass(\"active\");\r\n      parent\r\n        .find(\r\n          '.dropdown-city-menu__city-selector[data-region-index=\"' +\r\n            index +\r\n            '\"]',\r\n        )\r\n        .addClass(\"active\");\r\n    });\r\n    $(\".dropdown-city-menu__regions-btn\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      let parent = $(this).closest(\".dropdown-menu\");\r\n      parent.find(\".dropdown-city-menu__region-selector\").addClass(\"active\");\r\n      parent.find(\".dropdown-city-menu__city-selector\").removeClass(\"active\");\r\n    });\r\n    $(\".dropdown-city-menu__current-region\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n    });\r\n\r\n    // Prevent city dropdown close on click\r\n    $(\".selected-city-menu\").on(\"click\", function (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    });\r\n    $(\r\n      \".dropdown-city-menu__city-selector .dropdown-city-menu__selector-item\",\r\n    ).on(\"click\", function (e) {\r\n      e.preventDefault();\r\n    });\r\n  });\r\n})(jQuery);\r\n\r\nfunction getCookie(cname) {\r\n  var name = cname + \"=\";\r\n  var ca = document.cookie.split(\";\");\r\n  for (var i = 0; i < ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) == \" \") {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) == 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\nfunction setCookie(cname, cvalue, exdays) {\r\n  var d = new Date();\r\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\r\n  var expires = \"expires=\" + d.toUTCString();\r\n  document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n}\r\n"]}
"use strict";!function(y){y(document).ready(function(){if(y(".checkout-form__region-dropdown-btn").each(function(e){if(0===e){var t=y(this).data("region-id");y(".form-select-group__select").hide(),y(".form-select-group__select[data-region-id='"+t+"']").show()}}),y(".checkout-form").length){if(y(".phone-confirmation__phone-group-confirm-btn").on("click",function(){y(this).closest(".phone-confirmation").addClass("phone-confirmation--active")}),y(".phone-confirmation__code-group input").on("change textInput input",function(){var e=y(this).closest(".phone-confirmation__code-group");""===y(this).val()?e.removeClass("phone-confirmation__code-group--active"):e.addClass("phone-confirmation__code-group--active")}),y(".phone-confirmation__code-group-confirm-btn").on("click",function(){var e=y(this).closest(".phone-confirmation");e.removeClass("phone-confirmation--success phone-confirmation--invalid");e.find(".phone-confirmation__phone-group input").val();var t=e.find(".phone-confirmation__code-group input").val();t.length<2?e.addClass("phone-confirmation--invalid"):e.addClass("phone-confirmation--success")}),y(".form-select-group__select").on("click",function(e){y(this).find('input[type="radio"]').prop("checked",!0);y('input[name="pickup_address"]:checked').val();y(".form-select-group__select").removeClass("active"),y(this).addClass("active")}),y(".form-select-group__select a").on("click",function(e){e.stopPropagation()}),y(".checkout-form__region-dropdown-btn").each(function(e){if(0===e){var t=y(this).data("region-id");y(".form-select-group__select").hide(),y(".form-select-group__select[data-region-id='"+t+"']").show()}}),y(".checkout-form__region-dropdown-btn").on("click",function(e){e.preventDefault();var t=y(this).closest(".checkout-form__region-dropdown"),i=y(this).text().trim(),a=y(this).data("region-id");t.find(".checkout-form__region-dropdown-value").html(i),y(".checkout-form__region-input").val(i),y('input[name="pickup_address"]').prop("checked",!1),y(".form-select-group__select-btn").parent().removeClass("active"),y(".form-select-group__select").hide(),y(".form-select-group__select[data-region-id='"+a+"']").show()}),y('input[name="delivery_type"]').length){var e=y('input[name="delivery_type"]:checked').val();y('input[name="delivery_type"]').on("change",function(){"pickup"===(e=y(this).val())?(y(".checkout-form__delivery-type-hint--1").addClass("d-none"),y(".checkout-form__delivery-types-tab-pickup").addClass("active"),y(".checkout-form__delivery-types-tab-address").removeClass("active")):"home"===e&&(y(".checkout-form__delivery-type-hint--1").removeClass("d-none"),y(".checkout-form__delivery-types-tab-address").addClass("active"),y(".checkout-form__delivery-types-tab-pickup").removeClass("active"))})}if(y('input[name="payment_type"]').length){var t=y('input[name="payment_type"]:checked').val();y('input[name="payment_type"]').on("change",function(){"on_delivery"===(t=y(this).val())?y(".checkout-form__payment-type-hint--1").addClass("d-none"):"online"===t&&y(".checkout-form__payment-type-hint--1").removeClass("d-none")})}}function n(e,t){var i=y("#".concat(e));if(i){var a=i.find('.stepper-tab[data-tab-index="'+t+'"]');a&&(i.find(".stepper-tab").removeClass("active"),a.addClass("active"));var s=i.find('.stepper-header__step[data-step-index="'+t+'"]');s&&(i.find(".stepper-header__step").removeClass("active"),s.addClass("active"))}}if(y(".stepper-tab").each(function(e){0===e&&y(this).addClass("active")}),y(".stepper-header__step").on("click",function(e){y(this).hasClass("stepper-header__step--static")||(e.preventDefault(),n(y(this).closest(".stepper").attr("id"),y(this).data("step-index")))}),y(".stepper__next-btn").on("click",function(e){e.preventDefault();var t=y(this).data("stepper-id"),i=y("#".concat(t));if(i){var a=-1,s=i.find(".stepper-header__step");if(s.each(function(e){y(this).hasClass("active")&&(a=e+1)}),-1!==a&&a+1<=s.length&&n(t,a+1),3===a){var r={};y.each(y("form.checkout-form").serializeArray(),function(e,t){r[t.name]=t.value})}y('input[name="pickup_address"]:checked').val()}}),y(".stepper__back-btn").on("click",function(e){e.preventDefault();var t=y(this).data("stepper-id"),i=y("#".concat(t));if(i){var a=-1,s=i.find(".stepper-header__step"),r=[];s.each(function(e){y(this).hasClass("stepper-header__step--static")&&r.push(e+1),y(this).hasClass("active")&&(a=e+1)}),2<=a&&-1==r.indexOf(a-1)&&n(t,a-1)}}),y(document).on("click",".shortened__toggle",function(e){e.preventDefault(),y(this).parent().find(".to-shorten.shortened").hasClass("active")?(y(this).parent().find(".to-shorten.shortened").removeClass("active"),y(this).html(y(this).data("text")||"Читать полностью")):(y(this).parent().find(".to-shorten.shortened").addClass("active"),y(this).data("text",y(this).text()),y(this).html("Скрыть"))}),y(".static-seo__toggle").on("click",function(e){e.preventDefault();var t=y(this).closest(".static-seo");t.hasClass("active")?(t.removeClass("active"),y(this).html(y(this).data("text")||"Читать полностью")):(t.addClass("active"),y(this).data("text",y(this).text()),y(this).html("Скрыть"))}),y(".product-media-gallery").each(function(){var e=y(this).find(".product-media-gallery__thumbs"),t=y(this).find(".product-media-gallery__top"),i=new Swiper(e[0],{spaceBetween:10,slidesPerView:4,watchSlidesVisibility:!0,watchSlidesProgress:!0,on:{init:function(){4<y(this)[0].slides.length&&y(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active")},slideChange:function(){var e=y(this)[0];e.isEnd?y(".product-media-gallery__thumbs-arrow-forward-wrap").removeClass("active"):y(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active"),e.isBeginning?y(".product-media-gallery__thumbs-arrow-backward-wrap").removeClass("active"):y(".product-media-gallery__thumbs-arrow-backward-wrap").addClass("active")}}});new Swiper(t[0],{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"},thumbs:{swiper:i,autoScrollOffset:1}})}),y(".categories-panel").each(function(){if(!y(this).hasClass("swiper-wrapper")){y(this).wrap('<div class="categories-panel-swiper"></div>'),y(this).addClass("swiper-wrapper"),y(this).find("li").each(function(){y(this).addClass("swiper-slide")});var e=y(this).closest(".categories-panel-swiper");new Swiper(e,{freeMode:!0,slidesPerView:"auto",loop:!1})}}),y(".applied-filters-panel__mobile-filter-btn").on("click",function(e){e.preventDefault();var t=y(".sidebar").parent().parent();y(".sidebar").addClass("open"),t.removeClass("d-none h-100"),y(".sidebar").prepend('<a class="applied-filters-panel__mobile-close-filter-btn back-btn text-small text-action mbp-40" href="#"><i class="icon-icon_arrows_1"></i> Вернуться назад</a>')}),y(document).on("click",".applied-filters-panel__mobile-close-filter-btn",function(e){e.preventDefault(),y(".sidebar").parent().parent().addClass("d-none h-100"),y(".sidebar").removeClass("open"),y(".sidebar").find(".applied-filters-panel__mobile-close-filter-btn").remove()}),y(".product-page__reviews-summary-score-bar").each(function(){var e=y(this).data("percent-value"),t=Number(e);t&&!isNaN(t)&&0<=t&&t<=100&&y(this).find(".product-page__reviews-summary-score-bar-inner").css("width","".concat(t,"%"))}),y(".accordion").each(function(){if(!y(this).hasClass("opened")&&(y(this).parent().find(".accordion__content").hide(),y(this).hasClass("accordion--linked"))){var e=y(this).data("linkedId");y(".accordion__linked-content[data-linked-id='"+e+"']").hide()}}),y(".accordion__toggle").on("click",function(e){e.preventDefault();var t=y(this).parent(),i=t.find(".accordion__content");if(t.hasClass("accordion--linked")){var a=t.data("linkedId"),s=y(".accordion__linked-content[data-linked-id='"+a+"']");t.hasClass("opened")?s.slideUp("fast"):s.slideDown("fast")}if(t.hasClass("opened"))t.removeClass("opened"),i.slideUp("fast");else{var r=y(this).closest(".accordions-wrap");if(r&&r.hasClass("accordions-switching"))r.find(".accordion").each(function(){var e=y(this).parent(),t=y(this).find(".accordion__content");e.removeClass("opened"),t.slideUp("fast")});t.addClass("opened"),i.slideDown("fast")}}),y(".interactive-map__pin-btn").on("click",function(){var e=Number(y(this).data("index")),t=y(this).closest(".interactive-map");if(!isNaN(e)){if(y(this).hasClass("active"))return t.find(".interactive-map__pin-btn").removeClass("active"),t.find(".interactive-map__panel").hide(),void t.find(".interactive-map__panel--initial").css("display","flex").hide().fadeIn();t.find(".interactive-map__pin-btn").removeClass("active"),y(this).addClass("active"),t.find(".interactive-map__panel").hide(),t.find('.interactive-map__panels div[data-index="'+e+'"]').css("display","flex").hide().fadeIn()}}),y(".search-form__clear-btn").on("click",function(){y(this).closest(".search-form").find(".search-form__input").val(""),y(this).addClass("d-none")}),y(".search-form__input").on("input change keypress paste",function(){var e=y(this).closest(".search-form");""===y(this).val()?e.find(".search-form__clear-btn").addClass("d-none"):e.find(".search-form__clear-btn").removeClass("d-none")}),y(".search-form__input").each(function(){var e=y(this).closest(".search-form");""===y(this).val()?e.find(".search-form__clear-btn").addClass("d-none"):e.find(".search-form__clear-btn").removeClass("d-none")}),y(".cabinet-review__text-content").each(function(){100<y(this).height()&&!y(this).hasClass("shortened")&&(y(this).addClass("shortened"),y("<a href='#' class='shortened__toggle d-block'>Показать полный текст комментария</a>").insertAfter(y(this)))}),y(".cabinet-order-card__details-table").each(function(){var e=y(this).find(".cabinet-order-card__details-table-row");e.length<=3?y(this).find(".cabinet-order-card__details-table-btn").addClass("d-none"):e.each(function(e){2<e&&y(this).addClass("d-none")})}),y(".cabinet-order-card__details-table-btn").on("click",function(e){e.preventDefault();var t=y(this).closest(".cabinet-order-card__details-table");t.hasClass("expanded")?(t.removeClass("expanded"),t.find(".cabinet-order-card__details-table-row").each(function(e){2<e&&y(this).addClass("d-none")}),y(this).html(y(this).data("text")||"Развернуть полный список товаров")):(t.addClass("expanded"),t.find(".cabinet-order-card__details-table-row").each(function(e){2<e&&y(this).removeClass("d-none")}),y(this).data("text",y(this).text()),y(this).html("Свернуть полный список товаров"))}),y(".compare-container").length){var i=0,a=0,s=0,r=0,o=0,c=0,d=0,l=0,h=0,p=0,u=0,f=0,m=0,_=0,v=0,b=0;y(".compare-container").each(function(){y(this).find(".compare-attribute--rating").each(function(){var e=y(this).outerHeight();i=i<e?e:i}),y(this).find(".compare-attribute--type").each(function(){var e=y(this).outerHeight();a=a<e?e:a}),y(this).find(".compare-attribute--size").each(function(){var e=y(this).outerHeight();s=s<e?e:s}),y(this).find(".compare-attribute--height").each(function(){var e=y(this).outerHeight();r=r<e?e:r}),y(this).find(".compare-attribute--firmness").each(function(){var e=y(this).outerHeight();o=o<e?e:o}),y(this).find(".compare-attribute--base").each(function(){var e=y(this).outerHeight();c=c<e?e:c}),y(this).find(".compare-attribute--load").each(function(){var e=y(this).outerHeight();d=d<e?e:d}),y(this).find(".compare-attribute--composition").each(function(){var e=y(this).outerHeight(!0);l=l<e?e:l}),y(this).find(".compare-attribute--price").each(function(){var e=y(this).outerHeight();h=h<e?e:h}),y(this).find(".compare-attribute--filler").each(function(){var e=y(this).outerHeight();p=p<e?e:p}),y(this).find(".compare-attribute--weight").each(function(){var e=y(this).outerHeight();u=u<e?e:u}),y(this).find(".compare-attribute--cubature").each(function(){var e=y(this).outerHeight();f=f<e?e:f}),y(this).find(".compare-attribute--packaging").each(function(){var e=y(this).outerHeight();m=m<e?e:m}),y(this).find(".compare-attribute--color").each(function(){var e=y(this).outerHeight();_=_<e?e:_}),y(this).find(".compare-attribute--warranty").each(function(){var e=y(this).outerHeight();v=v<e?e:v}),y(this).find(".compare-attribute--manufacturer").each(function(){var e=y(this).outerHeight();b=b<e?e:b})}),y(".compare-attribute--rating").height(i),y(".compare-attribute--type").height(a),y(".compare-attribute--size").height(s),y(".compare-attribute--height").height(r),y(".compare-attribute--firmness").height(o),y(".compare-attribute--base").height(c),y(".compare-attribute--load").height(d),y(".compare-attribute--composition").height(l),y(".compare-attribute--price").height(h),y(".compare-attribute--filler").height(p),y(".compare-attribute--weight").height(u),y(".compare-attribute--cubature").height(f),y(".compare-attribute--packaging").height(m),y(".compare-attribute--color").height(_),y(".compare-attribute--warranty").height(v),y(".compare-attribute--manufacturer").height(b)}y(".compare-container-wrap").length&&y(".compare-container-wrap").each(function(){var e=y(this),a=e[0];e.css("cursor","grab");var s={top:0,left:0,x:0,y:0},t=function(e){var t=e.clientX-s.x,i=e.clientY-s.y;a.scrollTop=s.top-i,a.scrollLeft=s.left-t},i=function e(){a.style.cursor="grab",a.style.removeProperty("user-select"),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)};a.addEventListener("mousedown",function(e){a.style.cursor="grabbing",a.style.userSelect="none",s={left:a.scrollLeft,top:a.scrollTop,x:e.clientX,y:e.clientY},document.addEventListener("mousemove",t),document.addEventListener("mouseup",i)})}),y(".open-video-popup").on("click",function(e){e.preventDefault();var t=y(this).attr("href");y("body").addClass("overflow-hidden"),y("#videoPopupOverlay").addClass("active"),y("#videoPopupOverlay").find("iframe").attr("src",t),y("body").width()<="990"&&y("#videoPopupOverlay").find(".mobile-slider").slick("unslick").slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1.1})}),y(".open-map-popup").on("click",function(e){e.preventDefault();var t=y(this).attr("href");y("body").addClass("overflow-hidden"),y("#mapPopupOverlay").addClass("active"),y("#mapPopupOverlay").find("iframe").attr("src",t)}),y(".overlay-cdk").on("click",function(e){e.target===e.currentTarget&&(y(this).removeClass("active"),y("body").removeClass("overflow-hidden"))}),y(".overlay-cdk__close-btn").on("click",function(e){y(".overlay-cdk").removeClass("active"),y("body").removeClass("overflow-hidden")}),y(".drawer-toggler").on("click",function(){w()});var g=y(".mobile-drawer");g&&new Hammer(g[0]).on("swiperight",function(){w()});function w(){y(".mobile-drawer").hasClass("active")?(y(".mobile-drawer").removeClass("active dark"),y("body").removeClass("overflow-hidden")):(y(".mobile-drawer").addClass("active"),y("body").addClass("overflow-hidden"),setTimeout(function(){y(".mobile-drawer").addClass("dark")},250))}function C(){if(y(window).outerWidth()<=990)y(".product-page-sidebar").length&&y(".product-page-sidebar").each(function(){y(this).detach().appendTo(".product-page__mobile-sidebar-spot")}),y(".cart-page-sidebar").length&&y(".cart-page-sidebar").each(function(){var e=y(this).find(".cart-page-sidebar__top"),t=y(this).find(".cart-page-sidebar__bottom");e.detach().appendTo(".cart-page__mobile-top-sidebar-spot"),t.detach().appendTo(".cart-page__mobile-bottom-sidebar-spot")}),y(".breadcrumb").length&&y(".breadcrumb").each(function(){if(!y(this).hasClass("mobile-breadcrumb")){y(this).addClass("mobile-breadcrumb");var t=y(this).children().length;y(this).children().each(function(e){0!==e&&e!==t-1&&y(this).remove()}),2<t&&y('<li class="breadcrumb-item text-black-secondary">...</li>').insertAfter(y(this).children(":first"))}}),y(".to-shorten").length&&y(".to-shorten").each(function(){100<y(this).height()&&!y(this).hasClass("shortened")&&(y(this).addClass("shortened"),y("<a href='#' class='shortened__toggle d-block mbp-20'>Читать полностью</a>").insertAfter(y(this)))}),y(".mobile-slider").each(function(){y(this).hasClass("slick-initialized")||(y(this).hasClass("mobile-slider--full")?y(this).slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1,variableWidth:!1,swipeToSlide:!0}):y(this).slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1,variableWidth:!0,swipeToSlide:!0}))}),y(".mobile-carousel").each(function(){y(this).hasClass("slick-initialized")||y(this).slick({infinite:!1,dots:!0,arrows:!1,slidesToShow:1})}),y(".custom-tabs-header").each(function(){if(!y(this).hasClass("swiper-wrapper")){y(this).wrap('<div class="custom-tabs-header-swiper"></div>'),y(this).addClass("swiper-wrapper"),y(this).find(".nav-item").each(function(){y(this).addClass("swiper-slide")});var e=y(this).closest(".custom-tabs-header-swiper");new Swiper(e,{freeMode:!0,slidesPerView:"auto",loop:!1})}});else{if(y(".product-page-sidebar").length&&y(".product-page-sidebar").each(function(){y(this).parent().hasClass("sidebar-initial-spot")||y(this).detach().appendTo(".sidebar-initial-spot")}),y(".cart-page-sidebar").length){var e=y(".cart-page-sidebar__top"),t=y(".cart-page-sidebar__bottom");e.parent().hasClass("cart-page__mobile-top-sidebar-spot")&&e.detach().appendTo(".cart-page-sidebar__top-wrap"),t.parent().hasClass("cart-page__mobile-bottom-sidebar-spot")&&t.detach().appendTo(".cart-page-sidebar__bottom-wrap")}y(".mobile-slider").each(function(){y(this).hasClass("slick-initialized")&&y(this).slick("unslick")}),y(".mobile-carousel").each(function(){y(this).hasClass("slick-initialized")&&y(this).slick("unslick")}),y(".custom-tabs-header").each(function(){y(this).hasClass("swiper-wrapper")&&(y(this).unwrap(),y(this).removeClass("swiper-wrapper"),y(this).find(".nav-item").each(function(){y(this).removeClass("swiper-slide")}),y(this).swiper&&y(this).swiper.destroy())})}}y(".mobile-drawer").on("click",function(e){e.target===e.currentTarget&&w()}),y(".mobile-drawer__close-btn").on("click",function(){w()}),C(),y(window).on("resize",function(){C()}),y("body").width()<="990"&&300<=y(document).scrollTop()?y(".main-header__top").addClass("fixed"):y(".main-header__top").removeClass("fixed"),y(document).on("scroll",function(){y("body").width()<="990"&&300<=y(document).scrollTop()?y(".main-header__top").addClass("fixed"):y(".main-header__top").removeClass("fixed")}),y(".dropdown-city-menu__region-selector .dropdown-city-menu__selector-item").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=y(this).data("region-index"),i=y(this).closest(".dropdown-menu");i.find(".dropdown-city-menu__region-selector").removeClass("active"),i.find(".dropdown-city-menu__city-selector").removeClass("active"),i.find('.dropdown-city-menu__city-selector[data-region-index="'+t+'"]').addClass("active")}),y(".dropdown-city-menu__regions-btn").on("click",function(e){e.preventDefault();var t=y(this).closest(".dropdown-menu");t.find(".dropdown-city-menu__region-selector").addClass("active"),t.find(".dropdown-city-menu__city-selector").removeClass("active")}),y(".dropdown-city-menu__current-region").on("click",function(e){e.preventDefault()}),y(".selected-city-menu").on("click",function(e){e.preventDefault(),e.stopPropagation()}),y(".dropdown-city-menu__city-selector .dropdown-city-menu__selector-item").on("click",function(e){e.preventDefault()})})}(jQuery);
//# sourceMappingURL=main.min.js.map

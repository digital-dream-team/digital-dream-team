"use strict";!function(k){k(document).ready(function(){if(k(".checkout-form__region-dropdown-btn").each(function(e){if(0===e){var t=k(this).data("region-id");k(".form-select-group__select").hide(),k(".form-select-group__select[data-region-id='"+t+"']").show()}}),k(".checkout-form").length){if(k(".phone-confirmation__phone-group-confirm-btn").on("click",function(){k(this).closest(".phone-confirmation").addClass("phone-confirmation--active")}),k(".phone-confirmation__code-group input").on("change textInput input",function(){var e=k(this).closest(".phone-confirmation__code-group");""===k(this).val()?e.removeClass("phone-confirmation__code-group--active"):e.addClass("phone-confirmation__code-group--active")}),k(".phone-confirmation__code-group-confirm-btn").on("click",function(){var e=k(this).closest(".phone-confirmation");e.removeClass("phone-confirmation--success phone-confirmation--invalid");e.find(".phone-confirmation__phone-group input").val();var t=e.find(".phone-confirmation__code-group input").val();t.length<2?e.addClass("phone-confirmation--invalid"):e.addClass("phone-confirmation--success")}),k(".form-select-group__select").on("click",function(e){k(this).find('input[type="radio"]').prop("checked",!0);k('input[name="pickup_address"]:checked').val();k(".form-select-group__select").removeClass("active"),k(this).addClass("active")}),k(".form-select-group__select a").on("click",function(e){e.stopPropagation()}),k(".checkout-form__region-dropdown-btn").each(function(e){if(0===e){var t=k(this).data("region-id");k(".form-select-group__select").hide(),k(".form-select-group__select[data-region-id='"+t+"']").show()}}),k(".checkout-form__region-dropdown-btn").on("click",function(e){e.preventDefault();var t=k(this).closest(".checkout-form__region-dropdown"),i=k(this).text().trim(),a=k(this).data("region-id");t.find(".checkout-form__region-dropdown-value").html(i),k(".checkout-form__region-input").val(i),k('input[name="pickup_address"]').prop("checked",!1),k(".form-select-group__select-btn").parent().removeClass("active"),k(".form-select-group__select").hide(),k(".form-select-group__select[data-region-id='"+a+"']").show()}),k('input[name="delivery_type"]').length){var e=k('input[name="delivery_type"]:checked').val();k('input[name="delivery_type"]').on("change",function(){"pickup"===(e=k(this).val())?(k(".checkout-form__delivery-type-hint--1").addClass("d-none"),k(".checkout-form__delivery-types-tab-pickup").addClass("active"),k(".checkout-form__delivery-types-tab-address").removeClass("active")):"home"===e&&(k(".checkout-form__delivery-type-hint--1").removeClass("d-none"),k(".checkout-form__delivery-types-tab-address").addClass("active"),k(".checkout-form__delivery-types-tab-pickup").removeClass("active"))})}if(k('input[name="payment_type"]').length){var t=k('input[name="payment_type"]:checked').val();k('input[name="payment_type"]').on("change",function(){"on_delivery"===(t=k(this).val())?k(".checkout-form__payment-type-hint--1").addClass("d-none"):"online"===t&&k(".checkout-form__payment-type-hint--1").removeClass("d-none")})}}function n(e,t){var i=k("#".concat(e));if(i){var a=i.find('.stepper-tab[data-tab-index="'+t+'"]');a&&(i.find(".stepper-tab").removeClass("active"),a.addClass("active"));var s=i.find('.stepper-header__step[data-step-index="'+t+'"]');s&&(i.find(".stepper-header__step").removeClass("active"),s.addClass("active"))}}if(k(".stepper-tab").each(function(e){0===e&&k(this).addClass("active")}),k(".stepper-header__step").on("click",function(e){k(this).hasClass("stepper-header__step--static")||(e.preventDefault(),n(k(this).closest(".stepper").attr("id"),k(this).data("step-index")))}),k(".stepper__next-btn").on("click",function(e){e.preventDefault();var t=k(this).data("stepper-id"),i=k("#".concat(t));if(i){var a=-1,s=i.find(".stepper-header__step");if(s.each(function(e){k(this).hasClass("active")&&(a=e+1)}),-1!==a&&a+1<=s.length&&n(t,a+1),3===a){var o={};k.each(k("form.checkout-form").serializeArray(),function(e,t){o[t.name]=t.value}),console.log(o)}k('input[name="pickup_address"]:checked').val()}}),k(".stepper__back-btn").on("click",function(e){e.preventDefault();var t=k(this).data("stepper-id"),i=k("#".concat(t));if(i){var a=-1,s=i.find(".stepper-header__step"),o=[];s.each(function(e){k(this).hasClass("stepper-header__step--static")&&o.push(e+1),k(this).hasClass("active")&&(a=e+1)}),2<=a&&-1==o.indexOf(a-1)&&n(t,a-1)}}),k(document).on("click",".shortened__toggle",function(e){e.preventDefault(),k(this).parent().find(".to-shorten.shortened").hasClass("active")?(k(this).parent().find(".to-shorten.shortened").removeClass("active"),k(this).html(k(this).data("text")||"Читать полностью")):(k(this).parent().find(".to-shorten.shortened").addClass("active"),k(this).data("text",k(this).text()),k(this).html("Скрыть"))}),k(".static-seo__toggle").on("click",function(e){e.preventDefault();var t=k(this).closest(".static-seo");t.hasClass("active")?(t.removeClass("active"),k(this).html(k(this).data("text")||"Читать полностью")):(t.addClass("active"),k(this).data("text",k(this).text()),k(this).html("Скрыть"))}),k(".product-media-gallery").each(function(){var e=k(this).find(".product-media-gallery__thumbs"),t=k(this).find(".product-media-gallery__top"),i=new Swiper(e[0],{spaceBetween:10,slidesPerView:4,watchSlidesVisibility:!0,watchSlidesProgress:!0,on:{init:function(){4<k(this)[0].slides.length&&k(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active")},slideChange:function(){var e=k(this)[0];e.isEnd?k(".product-media-gallery__thumbs-arrow-forward-wrap").removeClass("active"):k(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active"),e.isBeginning?k(".product-media-gallery__thumbs-arrow-backward-wrap").removeClass("active"):k(".product-media-gallery__thumbs-arrow-backward-wrap").addClass("active")}}});new Swiper(t[0],{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"},thumbs:{swiper:i,autoScrollOffset:1}})}),k(".categories-panel").each(function(){new Glider(k(this)[0],{draggable:!0,slidesToShow:"auto",exactWidth:!1,itemWidth:50})}),k(".applied-filters-panel__mobile-filter-btn").on("click",function(e){e.preventDefault();var t=k(".sidebar").parent().parent();k(".sidebar").addClass("open"),t.removeClass("d-none h-100"),k(".sidebar").prepend('<a class="applied-filters-panel__mobile-close-filter-btn back-btn text-small text-action mbp-40" href="#"><i class="icon-icon_arrows_1"></i> Вернуться назад</a>')}),k(document).on("click",".applied-filters-panel__mobile-close-filter-btn",function(e){e.preventDefault(),k(".sidebar").parent().parent().addClass("d-none h-100"),k(".sidebar").removeClass("open"),k(".sidebar").find(".applied-filters-panel__mobile-close-filter-btn").remove()}),k(".product-page__reviews-summary-score-bar").each(function(){var e=k(this).data("percent-value"),t=Number(e);t&&!isNaN(t)&&0<=t&&t<=100&&k(this).find(".product-page__reviews-summary-score-bar-inner").css("width","".concat(t,"%"))}),k(".accordion").each(function(){if(!k(this).hasClass("opened")&&(k(this).parent().find(".accordion__content").hide(),k(this).hasClass("accordion--linked"))){var e=k(this).data("linkedId");k(".accordion__linked-content[data-linked-id='"+e+"']").hide()}}),k(".accordion__toggle").on("click",function(e){e.preventDefault();var t=k(this).parent(),i=t.find(".accordion__content");if(t.hasClass("accordion--linked")){var a=t.data("linkedId"),s=k(".accordion__linked-content[data-linked-id='"+a+"']");t.hasClass("opened")?s.slideUp("fast"):s.slideDown("fast")}if(t.hasClass("opened"))t.removeClass("opened"),i.slideUp("fast");else{var o=k(this).closest(".accordions-wrap");if(o&&o.hasClass("accordions-switching"))o.find(".accordion").each(function(){var e=k(this).parent(),t=k(this).find(".accordion__content");e.removeClass("opened"),t.slideUp("fast")});t.addClass("opened"),i.slideDown("fast")}}),k(".interactive-map__pin-btn").on("click",function(){var e=Number(k(this).data("index")),t=k(this).closest(".interactive-map");if(!isNaN(e)){if(k(this).hasClass("active"))return t.find(".interactive-map__pin-btn").removeClass("active"),t.find(".interactive-map__panel").hide(),void t.find(".interactive-map__panel--initial").css("display","flex").hide().fadeIn();t.find(".interactive-map__pin-btn").removeClass("active"),k(this).addClass("active"),t.find(".interactive-map__panel").hide(),t.find('.interactive-map__panels div[data-index="'+e+'"]').css("display","flex").hide().fadeIn()}}),k(".search-form__clear-btn").on("click",function(){k(this).closest(".search-form").find(".search-form__input").val(""),k(this).addClass("d-none")}),k(".search-form__input").on("input change keypress paste",function(){var e=k(this).closest(".search-form");""===k(this).val()?e.find(".search-form__clear-btn").addClass("d-none"):e.find(".search-form__clear-btn").removeClass("d-none")}),k(".search-form__input").each(function(){var e=k(this).closest(".search-form");""===k(this).val()?e.find(".search-form__clear-btn").addClass("d-none"):e.find(".search-form__clear-btn").removeClass("d-none")}),k(".cabinet-review__text-content").each(function(){100<k(this).height()&&!k(this).hasClass("shortened")&&(k(this).addClass("shortened"),k("<a href='#' class='shortened__toggle d-block'>Показать полный текст комментария</a>").insertAfter(k(this)))}),k(".cabinet-order-card__details-table").each(function(){var e=k(this).find(".cabinet-order-card__details-table-row");e.length<=3?k(this).find(".cabinet-order-card__details-table-btn").addClass("d-none"):e.each(function(e){2<e&&k(this).addClass("d-none")})}),k(".cabinet-order-card__details-table-btn").on("click",function(e){e.preventDefault();var t=k(this).closest(".cabinet-order-card__details-table");t.hasClass("expanded")?(t.removeClass("expanded"),t.find(".cabinet-order-card__details-table-row").each(function(e){2<e&&k(this).addClass("d-none")}),k(this).html(k(this).data("text")||"Развернуть полный список товаров")):(t.addClass("expanded"),t.find(".cabinet-order-card__details-table-row").each(function(e){2<e&&k(this).removeClass("d-none")}),k(this).data("text",k(this).text()),k(this).html("Свернуть полный список товаров"))}),k(".compare-container").length){var i=0,a=0,s=0,o=0,r=0,c=0,d=0,l=0,h=0,p=0,u=0,f=0,m=0,_=0,v=0,b=0;k(".compare-container").each(function(){k(this).find(".compare-attribute--rating").each(function(){var e=k(this).outerHeight();i=i<e?e:i}),k(this).find(".compare-attribute--type").each(function(){var e=k(this).outerHeight();a=a<e?e:a}),k(this).find(".compare-attribute--size").each(function(){var e=k(this).outerHeight();s=s<e?e:s}),k(this).find(".compare-attribute--height").each(function(){var e=k(this).outerHeight();o=o<e?e:o}),k(this).find(".compare-attribute--firmness").each(function(){var e=k(this).outerHeight();r=r<e?e:r}),k(this).find(".compare-attribute--base").each(function(){var e=k(this).outerHeight();c=c<e?e:c}),k(this).find(".compare-attribute--load").each(function(){var e=k(this).outerHeight();d=d<e?e:d}),k(this).find(".compare-attribute--composition").each(function(){var e=k(this).outerHeight(!0);console.log(e),l=l<e?e:l}),k(this).find(".compare-attribute--price").each(function(){var e=k(this).outerHeight();h=h<e?e:h}),k(this).find(".compare-attribute--filler").each(function(){var e=k(this).outerHeight();p=p<e?e:p}),k(this).find(".compare-attribute--weight").each(function(){var e=k(this).outerHeight();u=u<e?e:u}),k(this).find(".compare-attribute--cubature").each(function(){var e=k(this).outerHeight();f=f<e?e:f}),k(this).find(".compare-attribute--packaging").each(function(){var e=k(this).outerHeight();m=m<e?e:m}),k(this).find(".compare-attribute--color").each(function(){var e=k(this).outerHeight();_=_<e?e:_}),k(this).find(".compare-attribute--warranty").each(function(){var e=k(this).outerHeight();v=v<e?e:v}),k(this).find(".compare-attribute--manufacturer").each(function(){var e=k(this).outerHeight();b=b<e?e:b})}),k(".compare-attribute--rating").height(i),k(".compare-attribute--type").height(a),k(".compare-attribute--size").height(s),k(".compare-attribute--height").height(o),k(".compare-attribute--firmness").height(r),k(".compare-attribute--base").height(c),k(".compare-attribute--load").height(d),k(".compare-attribute--composition").height(l),k(".compare-attribute--price").height(h),k(".compare-attribute--filler").height(p),k(".compare-attribute--weight").height(u),k(".compare-attribute--cubature").height(f),k(".compare-attribute--packaging").height(m),k(".compare-attribute--color").height(_),k(".compare-attribute--warranty").height(v),k(".compare-attribute--manufacturer").height(b)}k(".open-video-popup").on("click",function(e){e.preventDefault();var t=k(this).attr("href");k("body").addClass("overflow-hidden"),k("#videoPopupOverlay").addClass("active"),k("#videoPopupOverlay").find("iframe").attr("src",t),k("body").width()<="990"&&k("#videoPopupOverlay").find(".mobile-slider").slick("unslick").slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1.1})}),k(".open-map-popup").on("click",function(e){e.preventDefault();var t=k(this).attr("href");k("body").addClass("overflow-hidden"),k("#mapPopupOverlay").addClass("active"),k("#mapPopupOverlay").find("iframe").attr("src",t)}),k(".overlay-cdk").on("click",function(e){e.target===e.currentTarget&&(k(this).removeClass("active"),k("body").removeClass("overflow-hidden"))}),k(".overlay-cdk__close-btn").on("click",function(e){k(".overlay-cdk").removeClass("active"),k("body").removeClass("overflow-hidden")}),k(".drawer-toggler").on("click",function(){w()});var g=k(".mobile-drawer");g&&new Hammer(g[0]).on("swiperight",function(){w()});function w(){k(".mobile-drawer").hasClass("active")?(k(".mobile-drawer").removeClass("active dark"),k("body").removeClass("overflow-hidden")):(k(".mobile-drawer").addClass("active"),k("body").addClass("overflow-hidden"),setTimeout(function(){k(".mobile-drawer").addClass("dark")},250))}function C(){var e=k(window).outerWidth(),t=k(".product-page-sidebar"),i=k(".cart-page-sidebar"),a=(k(".product-page__reviews-comments"),k(".breadcrumb")),s=k(".to-shorten");if(e<=990){if(t&&t.detach().appendTo(".product-page__mobile-sidebar-spot"),i){var o=i.find(".cart-page-sidebar__top"),n=i.find(".cart-page-sidebar__bottom");o.detach().appendTo(".cart-page__mobile-top-sidebar-spot"),n.detach().appendTo(".cart-page__mobile-bottom-sidebar-spot")}if(s&&s.each(function(){100<k(this).height()&&!k(this).hasClass("shortened")&&(k(this).addClass("shortened"),k("<a href='#' class='shortened__toggle d-block mbp-20'>Читать полностью</a>").insertAfter(k(this)))}),a&&!a.hasClass("mobile-breadcrumb")){a.addClass("mobile-breadcrumb");var r=a.children().length;a.children().each(function(e){0!==e&&e!==r-1&&k(this).remove()}),2<r&&k('<li class="breadcrumb-item text-black-secondary">...</li>').insertAfter(a.children(":first"))}k(".mobile-slider").each(function(){k(this).hasClass("slick-initialized")||(k(this).hasClass("mobile-slider--full")?k(this).slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1,variableWidth:!1,swipeToSlide:!0}):k(this).slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1,variableWidth:!0,swipeToSlide:!0}))}),k(".mobile-carousel").each(function(){k(this).hasClass("slick-initialized")||k(this).slick({infinite:!1,dots:!0,arrows:!1,slidesToShow:1})}),k(".custom-tabs-header").each(function(){if(!k(this).hasClass("swiper-wrapper")){k(this).wrap('<div class="custom-tabs-header-swiper"></div>'),k(this).addClass("swiper-wrapper"),k(this).find(".nav-item").each(function(){k(this).addClass("swiper-slide")});new Swiper(".custom-tabs-header-swiper",{freeMode:!0,slidesPerView:"auto",loop:!1})}})}else{if(t&&(t.parent().hasClass("sidebar-initial-spot")||t.detach().appendTo(".sidebar-initial-spot")),i){var c=k(".cart-page-sidebar__top"),d=k(".cart-page-sidebar__bottom");c.parent().hasClass("cart-page__mobile-top-sidebar-spot")&&c.detach().appendTo(".cart-page-sidebar__top-wrap"),d.parent().hasClass("cart-page__mobile-bottom-sidebar-spot")&&d.detach().appendTo(".cart-page-sidebar__bottom-wrap")}k(".mobile-slider").each(function(){k(this).hasClass("slick-initialized")&&k(this).slick("unslick")}),k(".mobile-carousel").each(function(){k(this).hasClass("slick-initialized")&&k(this).slick("unslick")}),k(".custom-tabs-header").each(function(){k(this).hasClass("swiper-wrapper")&&(k(this).unwrap(),k(this).removeClass("swiper-wrapper"),k(this).find(".nav-item").each(function(){k(this).removeClass("swiper-slide")}),k(this).swiper&&k(this).swiper.destroy())})}}k(".mobile-drawer").on("click",function(e){e.target===e.currentTarget&&w()}),k(".mobile-drawer__close-btn").on("click",function(){w()}),C(),k(window).on("resize",function(){C()}),k("body").width()<="990"&&300<=k(document).scrollTop()?k(".main-header__top").addClass("fixed"):k(".main-header__top").removeClass("fixed"),k(document).on("scroll",function(){k("body").width()<="990"&&300<=k(document).scrollTop()?k(".main-header__top").addClass("fixed"):k(".main-header__top").removeClass("fixed")}),k(".dropdown-city-menu__region-selector .dropdown-city-menu__selector-item").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=k(this).data("region-index"),i=k(this).closest(".dropdown-menu");i.find(".dropdown-city-menu__region-selector").removeClass("active"),i.find(".dropdown-city-menu__city-selector").removeClass("active"),i.find('.dropdown-city-menu__city-selector[data-region-index="'+t+'"]').addClass("active")}),k(".dropdown-city-menu__regions-btn").on("click",function(e){e.preventDefault();var t=k(this).closest(".dropdown-menu");t.find(".dropdown-city-menu__region-selector").addClass("active"),t.find(".dropdown-city-menu__city-selector").removeClass("active")}),k(".dropdown-city-menu__current-region").on("click",function(e){e.preventDefault()}),k(".selected-city-menu").on("click",function(e){e.preventDefault(),e.stopPropagation()}),k(".dropdown-city-menu__city-selector .dropdown-city-menu__selector-item").on("click",function(e){e.preventDefault()})})}(jQuery);
//# sourceMappingURL=main.min.js.map

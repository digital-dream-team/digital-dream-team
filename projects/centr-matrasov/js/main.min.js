"use strict";!function(c){c(document).ready(function(){if(c('input[name="delivery_type"]').length){var e=c('input[name="delivery_type"]:checked').val();c('input[name="delivery_type"]').on("change",function(){"type_pickup"===(e=c(this).val())?c(".address-form__delivery-type-hint--1").addClass("d-none"):"type_home"===e&&c(".address-form__delivery-type-hint--1").removeClass("d-none")})}c(document).on("click",".shortened__toggle",function(e){e.preventDefault(),c(this).parent().find(".to-shorten.shortened").hasClass("active")?(c(this).parent().find(".to-shorten.shortened").removeClass("active"),c(this).html(c(this).data("text")||"Читать полностью")):(c(this).parent().find(".to-shorten.shortened").addClass("active"),c(this).data("text",c(this).text()),c(this).html("Скрыть"))}),c(".static-seo__toggle").on("click",function(e){e.preventDefault();var i=c(this).closest(".static-seo");i.hasClass("active")?(i.removeClass("active"),c(this).html(c(this).data("text")||"Читать полностью")):(i.addClass("active"),c(this).data("text",c(this).text()),c(this).html("Скрыть"))}),c(".product-media-gallery").each(function(){var e=c(this).find(".product-media-gallery__thumbs"),i=c(this).find(".product-media-gallery__top"),a=new Swiper(e[0],{spaceBetween:10,slidesPerView:4,watchSlidesVisibility:!0,watchSlidesProgress:!0,on:{init:function(){4<c(this)[0].slides.length&&c(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active")},slideChange:function(){var e=c(this)[0];e.isEnd?c(".product-media-gallery__thumbs-arrow-forward-wrap").removeClass("active"):c(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active"),e.isBeginning?c(".product-media-gallery__thumbs-arrow-backward-wrap").removeClass("active"):c(".product-media-gallery__thumbs-arrow-backward-wrap").addClass("active")}}});new Swiper(i[0],{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"},thumbs:{swiper:a,autoScrollOffset:1}})}),c(".categories-panel").each(function(){new Glider(c(this)[0],{draggable:!0,slidesToShow:"auto",exactWidth:!1,itemWidth:50})}),c(".product-page__reviews-summary-score-bar").each(function(){var e=c(this).data("percent-value"),i=Number(e);i&&!isNaN(i)&&0<=i&&i<=100&&c(this).find(".product-page__reviews-summary-score-bar-inner").css("width","".concat(i,"%"))}),c(".accordion").each(function(){c(this).parent().find(".accordion__content").hide()}),c(".accordion__toggle").on("click",function(e){e.preventDefault();var i=c(this).parent(),a=i.find(".accordion__content");if(i.hasClass("opened"))i.removeClass("opened"),a.slideUp("fast");else{var t=c(this).closest(".accordions-wrap");if(t&&t.hasClass("accordions-switching"))t.find(".accordion").each(function(){var e=c(this).parent(),i=c(this).find(".accordion__content");e.removeClass("opened"),i.slideUp("fast")});i.addClass("opened"),a.slideDown("fast")}}),c(".interactive-map__pin-btn").on("click",function(){var e=Number(c(this).data("index")),i=c(this).closest(".interactive-map");if(!isNaN(e)){if(c(this).hasClass("active"))return i.find(".interactive-map__pin-btn").removeClass("active"),i.find(".interactive-map__panel").hide(),void i.find(".interactive-map__panel--initial").css("display","flex").hide().fadeIn();i.find(".interactive-map__pin-btn").removeClass("active"),c(this).addClass("active"),i.find(".interactive-map__panel").hide(),i.find('.interactive-map__panels div[data-index="'+e+'"]').css("display","flex").hide().fadeIn()}}),c(".open-video-popup").on("click",function(e){e.preventDefault();var i=c(this).attr("href");console.log(i),c("body").addClass("overflow-hidden"),c("#videoPopupOverlay").addClass("active"),c("#videoPopupOverlay").find("iframe").attr("src",i),c("body").width()<="990"&&c("#videoPopupOverlay").find(".mobile-slider").slick("unslick").slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1.1})}),c(".overlay-cdk").on("click",function(e){e.target===e.currentTarget&&(c(this).removeClass("active"),c("body").removeClass("overflow-hidden"))}),c(".overlay-cdk__close-btn").on("click",function(e){c(".overlay-cdk").removeClass("active"),c("body").removeClass("overflow-hidden")}),c(".drawer-toggler").on("click",function(){a()});var i=c(".mobile-drawer");i&&new Hammer(i[0]).on("swiperight",function(){a()});function a(){c(".mobile-drawer").hasClass("active")?(c(".mobile-drawer").removeClass("active dark"),c("body").removeClass("overflow-hidden")):(c(".mobile-drawer").addClass("active"),c("body").addClass("overflow-hidden"),setTimeout(function(){c(".mobile-drawer").addClass("dark")},250))}function t(){var e=c(window).outerWidth(),i=c(".product-page-sidebar"),a=c(".cart-page-sidebar"),t=(c(".product-page__reviews-comments"),c(".breadcrumb")),s=c(".to-shorten");if(e<=990){if(i&&i.detach().appendTo(".product-page__mobile-sidebar-spot"),a){var o=a.find(".cart-page-sidebar__top"),r=a.find(".cart-page-sidebar__bottom");o.detach().appendTo(".cart-page__mobile-top-sidebar-spot"),r.detach().appendTo(".cart-page__mobile-bottom-sidebar-spot")}if(s&&s.each(function(){100<c(this).height()&&!c(this).hasClass("shortened")&&(c(this).addClass("shortened"),c("<a href='#' class='shortened__toggle d-block mbp-20'>Читать полностью</a>").insertAfter(c(this)))}),t&&!t.hasClass("mobile-breadcrumb")){t.addClass("mobile-breadcrumb");var n=t.children().length;t.children().each(function(e){0!==e&&e!==n-1&&c(this).remove()}),2<n&&c('<li class="breadcrumb-item text-black-secondary">...</li>').insertAfter(t.children(":first"))}c(".mobile-slider").each(function(){c(this).hasClass("slick-initialized")||(c(this).hasClass("mobile-slider--full")?c(this).slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1,variableWidth:!1,swipeToSlide:!0}):c(this).slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1,variableWidth:!0,swipeToSlide:!0}))}),c(".mobile-carousel").each(function(){c(this).hasClass("slick-initialized")||c(this).slick({infinite:!1,dots:!0,arrows:!1,slidesToShow:1})})}else{if(i&&(i.parent().hasClass("sidebar-initial-spot")||i.detach().appendTo(".sidebar-initial-spot")),a){var d=c(".cart-page-sidebar__top"),l=c(".cart-page-sidebar__bottom");d.parent().hasClass("cart-page__mobile-top-sidebar-spot")&&d.detach().appendTo(".cart-page-sidebar__top-wrap"),l.parent().hasClass("cart-page__mobile-bottom-sidebar-spot")&&l.detach().appendTo(".cart-page-sidebar__bottom-wrap")}c(".mobile-slider").each(function(){c(this).hasClass("slick-initialized")&&c(this).slick("unslick")}),c(".mobile-carousel").each(function(){c(this).hasClass("slick-initialized")&&c(this).slick("unslick")})}}c(".mobile-drawer").on("click",function(e){e.target===e.currentTarget&&a()}),c(".mobile-drawer__close-btn").on("click",function(){a()}),t(),c(window).on("resize",function(){t()}),c("body").width()<="990"&&300<=c(document).scrollTop()?c(".main-header__top").addClass("fixed"):c(".main-header__top").removeClass("fixed"),c(document).on("scroll",function(){c("body").width()<="990"&&300<=c(document).scrollTop()?c(".main-header__top").addClass("fixed"):c(".main-header__top").removeClass("fixed")})})}(jQuery);
//# sourceMappingURL=main.min.js.map

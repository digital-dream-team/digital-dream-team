"use strict";!function(l){l(document).ready(function(){if(l('input[name="delivery_type"]').length){var e=l('input[name="delivery_type"]:checked').val();l('input[name="delivery_type"]').on("change",function(){"type_pickup"===(e=l(this).val())?l(".address-form__delivery-type-hint--1").addClass("d-none"):"type_home"===e&&l(".address-form__delivery-type-hint--1").removeClass("d-none")})}function a(){var e=l(window).outerWidth(),a=l(".product-page-sidebar"),t=l(".cart-page-sidebar"),i=(l(".product-page__reviews-comments"),l(".breadcrumb")),s=l(".to-shorten");if(e<=990){if(a&&a.detach().appendTo(".product-page__mobile-sidebar-spot"),t){var o=t.find(".cart-page-sidebar__top"),r=t.find(".cart-page-sidebar__bottom");o.detach().appendTo(".cart-page__mobile-top-sidebar-spot"),r.detach().appendTo(".cart-page__mobile-bottom-sidebar-spot")}if(s&&s.each(function(){100<l(this).height()&&!l(this).hasClass("shortened")&&(l(this).addClass("shortened"),l("<a href='#' class='shortened__toggle d-block mbp-20'>Читать полностью</a>").insertAfter(l(this)))}),i&&!i.hasClass("mobile-breadcrumb")){i.addClass("mobile-breadcrumb");var n=i.children().length;i.children().each(function(e){0!==e&&e!==n-1&&l(this).remove()}),2<n&&l('<li class="breadcrumb-item text-black-secondary">...</li>').insertAfter(i.children(":first"))}l(".mobile-slider").each(function(){l(this).hasClass("slick-initialized")||l(this).slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1})})}else{if(a&&(a.parent().hasClass("sidebar-initial-spot")||a.detach().appendTo(".sidebar-initial-spot")),t){var d=l(".cart-page-sidebar__top"),c=l(".cart-page-sidebar__bottom");d.parent().hasClass("cart-page__mobile-top-sidebar-spot")&&d.detach().appendTo(".cart-page-sidebar__top-wrap"),c.parent().hasClass("cart-page__mobile-bottom-sidebar-spot")&&c.detach().appendTo(".cart-page-sidebar__bottom-wrap")}l(".mobile-slider").each(function(){l(this).hasClass("slick-initialized")&&l(this).slick("unslick")})}}a(),l(window).on("resize",function(){a()}),l(document).on("click",".shortened__toggle",function(e){e.preventDefault(),l(this).parent().find(".to-shorten.shortened").hasClass("active")?(l(this).parent().find(".to-shorten.shortened").removeClass("active"),l(this).html(l(this).data("text")||"Читать полностью")):(l(this).parent().find(".to-shorten.shortened").addClass("active"),l(this).data("text",l(this).text()),l(this).html("Скрыть"))}),l(".product-media-gallery").each(function(){var e=l(this).find(".product-media-gallery__thumbs"),a=l(this).find(".product-media-gallery__top"),t=new Swiper(e[0],{spaceBetween:10,slidesPerView:4,watchSlidesVisibility:!0,watchSlidesProgress:!0,on:{init:function(){4<l(this)[0].slides.length&&l(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active")},slideChange:function(){var e=l(this)[0];e.isEnd?l(".product-media-gallery__thumbs-arrow-forward-wrap").removeClass("active"):l(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active"),e.isBeginning?l(".product-media-gallery__thumbs-arrow-backward-wrap").removeClass("active"):l(".product-media-gallery__thumbs-arrow-backward-wrap").addClass("active")}}});new Swiper(a[0],{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"},thumbs:{swiper:t,autoScrollOffset:1}})}),l("body").width()<="576"&&300<=l(document).scrollTop()?l(".main-header__top").addClass("fixed"):l(".main-header__top").removeClass("fixed"),l(document).on("scroll",function(){l("body").width()<="576"&&300<=l(document).scrollTop()?l(".main-header__top").addClass("fixed"):l(".main-header__top").removeClass("fixed")}),l(".categories-panel a").each(function(){l(this)[0].ondragstart=function(){return!1}}),l(".categories-panel").each(function(){var t=l(this),i=null,e=new Hammer(t[0]);e.on("panstart",function(e){i=e.center.x}),e.on("panend",function(e){i=null}),e.on("pan",function(e){var a=.08*(e.center.x-i);t.scrollLeft(t.scrollLeft()-a)})}),l(".static-seo__toggle").on("click",function(e){e.preventDefault();var a=l(this).closest(".static-seo");a.hasClass("active")?(a.removeClass("active"),l(this).html(l(this).data("text")||"Читать полностью")):(a.addClass("active"),l(this).data("text",l(this).text()),l(this).html("Скрыть"))}),l(".open-video-popup").on("click",function(e){e.preventDefault();var a=l(this).attr("href");l("body").addClass("overflow-hidden"),l("#videoPopupOverlay").addClass("active"),l("body").width()<="990"&&(l("#videoPopupOverlay").find("iframe").attr("src",a),l("#videoPopupOverlay").find(".mobile-slider").slick("unslick").slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1.1}))}),l(".overlay-cdk").on("click",function(){l(this).removeClass("active"),l("body").removeClass("overflow-hidden")}),l(".overlay-cdk__content").on("click",function(){return!1}),l(".product-page__reviews-summary-score-bar").each(function(){var e=l(this).data("percent-value"),a=Number(e);a&&!isNaN(a)&&0<=a&&a<=100&&l(this).find(".product-page__reviews-summary-score-bar-inner").css("width","".concat(a,"%"))}),l(".accordion").each(function(){l(this).parent().find(".accordion__content").hide()}),l(".accordion__toggle").on("click",function(e){e.preventDefault();var a=l(this).parent(),t=a.find(".accordion__content");if(a.hasClass("opened"))a.removeClass("opened"),t.slideUp("fast");else{var i=l(this).closest(".accordions-wrap");if(i&&i.hasClass("accordions-switching"))i.find(".accordion").each(function(){var e=l(this).parent(),a=l(this).find(".accordion__content");e.removeClass("opened"),a.slideUp("fast")});a.addClass("opened"),t.slideDown("fast")}}),l(".drawer-toggler").on("click",function(){i()});var t=l(".mobile-drawer");t&&new Hammer(t[0]).on("swiperight",function(){i()});function i(){l(".mobile-drawer").hasClass("active")?(l(".mobile-drawer").removeClass("active dark"),l("body").removeClass("overflow-hidden")):(l(".mobile-drawer").addClass("active"),l("body").addClass("overflow-hidden"),setTimeout(function(){l(".mobile-drawer").addClass("dark")},250))}l(".mobile-drawer").on("click",function(){i()}),l(".mobile-drawer__content").on("click",function(){return!1})})}(jQuery);
//# sourceMappingURL=main.min.js.map

"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var r=a[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}function setCookie(e,t,a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var r="expires="+i.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}!function(x){x(document).ready(function(){function t(e){if("difference"===e){var n=x(".tab-pane.active");if(!n.length)return void console.error("tab is unavailable");["compare-attribute--rating","compare-attribute--type","compare-attribute--size","compare-attribute--height","compare-attribute--firmness","compare-attribute--base","compare-attribute--load","compare-attribute--composition","compare-attribute--price","compare-attribute--filler","compare-attribute--weight","compare-attribute--cubature","compare-attribute--packaging","compare-attribute--color","compare-attribute--warranty","compare-attribute--manufacturer"].forEach(function(e){var t=n.find("."+e),a=[];t.each(function(){a.push(x(this).text().trim())});var i=_toConsumableArray(new Set(a)),r=x("."+e);i.length<=1&&r.addClass("d-none"),x(".compare-attribute-accordion").find(".compare-attribute").length===x(".compare-attribute-accordion").find(".compare-attribute.d-none").length&&x(".compare-attribute-accordion").addClass("d-none")})}else x(".compare-attribute").removeClass("d-none"),x(".compare-attribute-accordion").removeClass("d-none")}if(x('input[name="compare_type"]').on("change",function(){t(x(this).val())}),x(".custom-tabs-header__item-link").on("click",function(){var e=x('input[name="compare_type"]:checked').val();e&&(t("all"),setTimeout(function(){t(e)},200))}),x(".bx-filter").length&&x(".bx-filter").each(function(){var c=[];x(this).find(".bx-filter-parameters-box").each(function(){var r=x(this).find(".bx-filter-parameters-box-title").text().trim();if(x(this).find(".radio").length){var i=null;x(this).find(".radio").each(function(){var e=x(this).find('input[type="radio"]'),t=e.closest(".bx-filter-input-checkbox").find(".bx-filter-param-text").attr("title"),a=e.attr("id");"checked"===e.attr("checked")&&t&&(i=t,c.push({title:r,value:i,id:a}))})}if(x(this).find(".checkbox").length&&x(this).find(".checkbox").each(function(){var e=x(this).find('input[type="checkbox"]'),t=null,a=e.closest(".bx-filter-input-checkbox").find(".bx-filter-param-text").attr("title"),i=e.attr("id");"checked"===e.attr("checked")&&a&&(t=a,c.push({title:r,value:t,id:i}))}),x(this).find("input.min-price").length){var e=x(this).find("input.min-price"),t=e.val(),a=e.attr("id");""!==t&&c.push({title:"Минимальная цена",value:t,id:a})}if(x(this).find("input.max-price").length){var n=x(this).find("input.max-price"),o=n.val(),s=n.attr("id");""!==o&&c.push({title:"Максимальная цена",value:o,id:s})}}),x(".applied-filters-panel__filters").length&&x(".applied-filters-panel__filters").each(function(){var t=x(this);t.empty(),c.forEach(function(e){t.append('<button class="applied-filters-panel__filters-btn btn btn-outline-black-lines text-black-subtext btn-sm" data-control-id="'.concat(e.id,'">\n                  <span class="applied-filters-panel__filters-btn-category">\n                  ').concat(e.title,':\n                  </span>\n                  <span class="applied-filters-panel__filters-btn-value">\n                    ').concat(e.value,'\n                    <i class="icon-icon_close_2 text-normal"></i>\n                  </span>\n                </button>'))}),t.append('\n                <a href="#" class="text-action">Сбросить фильтр</a>\n              ')})}),x(".applied-filters-panel__filters").each(function(){x(this).append('\n          <a href="#" class="applied-filters-panel__filters-reset">Сбросить фильтр</a>\n        ')}),x(document).on("click",".applied-filters-panel__filters-reset",function(e){var t=x("#del_filter");t.length?t.trigger("click"):console.error("Reset button is unavailable")}),x(document).on("click",".applied-filters-panel__filters-btn",function(e){e.preventDefault();var t=x(this).data("controlId");if(t&&""!==t){var a=x("#".concat(t));if(a.length){var i=x("#set_filter");i.length?("checkbox"===a.attr("type")||"radio"===a.attr("type")?a.prop("checked",!1):a.val(""),i.trigger("click")):console.error("Submit button is unavailable")}else console.error("Input is unavailable")}else console.error("Input id is unavailable")}),x(".limited-textarea-input").each(function(){var e=x(this).prop("maxlength");e&&x(this).closest(".limited-textarea-input-wrap").find(".limited-textarea-input__limit").html(e)}),x(".limited-textarea-input").on("input",function(e){var t=x(this).val().length;x(this).closest(".limited-textarea-input-wrap").find(".limited-textarea-input__counter").html(t)}),x(".overlay-cdk__content-review-rating-btn").on("click",function(){var e=x(this).data("value");if(e){var t=x(this).closest(".review-rating-wrap");t.find(".review-rating__input").val(e),t.find(".overlay-cdk__content-review-rating-btn").each(function(){x(this).data("value")<=e?x(this).find("i").addClass("active"):x(this).find("i").removeClass("active")})}}),x(".review-image-upload__upload-btn").on("click",function(){x(this).closest(".review-image-upload").find(".review-image-upload__input").trigger("click")}),x(".review-image-upload__input").on("change",function(){var e=x(this)[0].files;if(e){var t=x(this).closest(".review-image-upload").find(".review-image-upload__content");t.find(".review-image-upload__content-image").remove();for(var a=0;a<e.length;a++){var i=e[a],r=new FileReader;r.readAsDataURL(i),r.onload=function(e){t.append('\n            <img\n              src="'.concat(e.target.result,'"\n              alt="user image"\n              class="review-image-upload__content-image"\n            />\n          '))}}}}),x(".checkout-form").length){if(x(".form-select-group__select").on("click",function(e){x(this).find('input[type="radio"]').prop("checked",!0);x('input[name="pickup_address"]:checked').val();x(".form-select-group__select").removeClass("active"),x(this).addClass("active")}),x(".form-select-group__select a").on("click",function(e){e.stopPropagation()}),x(".checkout-form__region-dropdown-btn").each(function(e){if(0===e){var t=x(this).data("region-id");x(".form-select-group__select").hide(),x(".form-select-group__select[data-region-id='"+t+"']").show()}}),x(".checkout-form__region-dropdown-btn").on("click",function(e){e.preventDefault();var t=x(this).closest(".checkout-form__region-dropdown"),a=x(this).text().trim(),i=x(this).data("region-id");t.find(".checkout-form__region-dropdown-value").html(a),x(".checkout-form__region-input").val(a),x('input[name="pickup_address"]').prop("checked",!1),x(".form-select-group__select-btn").parent().removeClass("active"),x(".form-select-group__select").hide(),x(".form-select-group__select[data-region-id='"+i+"']").show()}),x('input[name="delivery_type"]').length){var e=x('input[name="delivery_type"]:checked').val();x('input[name="delivery_type"]').on("change",function(){"pickup"===(e=x(this).val())?(x(".checkout-form__delivery-type-hint--1").addClass("d-none"),x(".checkout-form__delivery-types-tab-pickup").addClass("active"),x(".checkout-form__delivery-types-tab-address").removeClass("active")):"home"===e&&(x(".checkout-form__delivery-type-hint--1").removeClass("d-none"),x(".checkout-form__delivery-types-tab-address").addClass("active"),x(".checkout-form__delivery-types-tab-pickup").removeClass("active"))})}if(x('input[name="payment_type"]').length){var a=x('input[name="payment_type"]:checked').val();x('input[name="payment_type"]').on("change",function(){"on_delivery"===(a=x(this).val())?x(".checkout-form__payment-type-hint--1").addClass("d-none"):"online"===a&&x(".checkout-form__payment-type-hint--1").removeClass("d-none")})}}function o(e,t){var a=x("#".concat(e));if(a.length){var i=a.find('.stepper-tab[data-tab-index="'+t+'"]');i.length&&(a.find(".stepper-tab").removeClass("active"),i.addClass("active"));var r=a.find('.stepper-header__step[data-step-index="'+t+'"]');r.length&&(a.find(".stepper-header__step").removeClass("active"),r.addClass("active"))}}if(x(".phone-confirmation__phone-group-confirm-btn").on("click",function(){x(this).closest(".phone-confirmation").addClass("phone-confirmation--active")}),x(".phone-confirmation__code-group input").on("change textInput input",function(){var e=x(this).closest(".phone-confirmation__code-group");""===x(this).val()?e.removeClass("phone-confirmation__code-group--active"):e.addClass("phone-confirmation__code-group--active")}),x(".phone-confirmation__code-group-confirm-btn").on("click",function(){var e=x(this).closest(".phone-confirmation");e.removeClass("phone-confirmation--success phone-confirmation--invalid");e.find(".phone-confirmation__phone-group input").val(),e.find(".phone-confirmation__code-group input").val()}),x(".stepper-tab").each(function(e){0===e&&x(this).addClass("active")}),x(".stepper-header__step").on("click",function(e){x(this).hasClass("stepper-header__step--static")||(e.preventDefault(),o(x(this).closest(".stepper").attr("id"),x(this).data("step-index")))}),x(".stepper__next-btn").on("click",function(e){e.preventDefault();var t=x(this).data("stepper-id"),a=x("#".concat(t));if(a){var i=-1,r=a.find(".stepper-header__step");if(r.each(function(e){x(this).hasClass("active")&&(i=e+1)}),-1!==i&&i+1<=r.length&&o(t,i+1),3===i){var n={};x.each(x("form.checkout-form").serializeArray(),function(e,t){n[t.name]=t.value})}x('input[name="pickup_address"]:checked').val()}}),x(".stepper__back-btn").on("click",function(e){e.preventDefault();var t=x(this).data("stepper-id"),a=x("#".concat(t));if(a){var i=-1,r=a.find(".stepper-header__step"),n=[];r.each(function(e){x(this).hasClass("stepper-header__step--static")&&n.push(e+1),x(this).hasClass("active")&&(i=e+1)}),2<=i&&-1==n.indexOf(i-1)&&o(t,i-1)}}),x(document).on("click",".shortened__toggle",function(e){e.preventDefault(),x(this).parent().find(".to-shorten.shortened").hasClass("active")?(x(this).parent().find(".to-shorten.shortened").removeClass("active"),x(this).html(x(this).data("text")||"Читать полностью")):(x(this).parent().find(".to-shorten.shortened").addClass("active"),x(this).data("text",x(this).text()),x(this).html("Скрыть"))}),x(".static-seo__toggle").on("click",function(e){e.preventDefault();var t=x(this).closest(".static-seo");t.hasClass("active")?(t.removeClass("active"),x(this).html(x(this).data("text")||"Читать полностью")):(t.addClass("active"),x(this).data("text",x(this).text()),x(this).html("Скрыть"))}),x(".product-media-gallery").each(function(){var e=x(this).find(".product-media-gallery__thumbs"),t=x(this).find(".product-media-gallery__top"),a=new Swiper(e[0],{spaceBetween:10,slidesPerView:4,watchSlidesVisibility:!0,watchSlidesProgress:!0,on:{init:function(){4<x(this)[0].slides.length&&x(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active")},slideChange:function(){var e=x(this)[0];e.isEnd?x(".product-media-gallery__thumbs-arrow-forward-wrap").removeClass("active"):x(".product-media-gallery__thumbs-arrow-forward-wrap").addClass("active"),e.isBeginning?x(".product-media-gallery__thumbs-arrow-backward-wrap").removeClass("active"):x(".product-media-gallery__thumbs-arrow-backward-wrap").addClass("active")}}});new Swiper(t[0],{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"},thumbs:{swiper:a,autoScrollOffset:1}})}),x(".categories-panel").each(function(){if(!x(this).hasClass("swiper-wrapper")){x(this).wrap('<div class="categories-panel-swiper"></div>'),x(this).addClass("swiper-wrapper"),x(this).find("li").each(function(){x(this).addClass("swiper-slide")});var e=x(this).closest(".categories-panel-swiper");new Swiper(e,{freeMode:!0,slidesPerView:"auto",loop:!1})}}),x(".applied-filters-panel__mobile-filter-btn").on("click",function(e){e.preventDefault();var t=x(".sidebar").parent().parent();x(".sidebar").addClass("open"),x("body").addClass("overflow-hidden"),t.removeClass("d-none h-100"),x(".sidebar").prepend('<a class="applied-filters-panel__mobile-close-filter-btn back-btn text-small text-action mbp-40" href="#"><i class="icon-icon_arrows_1"></i> Вернуться назад</a>')}),x(document).on("click",".applied-filters-panel__mobile-close-filter-btn",function(e){e.preventDefault(),x(".sidebar").parent().parent().addClass("d-none h-100"),x(".sidebar").removeClass("open"),x("body").removeClass("overflow-hidden"),x(".sidebar").find(".applied-filters-panel__mobile-close-filter-btn").remove()}),x(".product-page__reviews-summary-score-bar").each(function(){var e=x(this).data("percent-value"),t=Number(e);t&&!isNaN(t)&&0<=t&&t<=100&&x(this).find(".product-page__reviews-summary-score-bar-inner").css("width","".concat(t,"%"))}),x(".accordion").each(function(){if(!x(this).hasClass("opened")&&(x(this).parent().find(".accordion__content").hide(),x(this).hasClass("accordion--linked"))){var e=x(this).data("linkedId");x(".accordion__linked-content[data-linked-id='"+e+"']").hide()}}),x(".accordion__toggle").on("click",function(e){e.preventDefault();var t=x(this).parent(),a=t.find(".accordion__content");if(t.hasClass("accordion--linked")){var i=t.data("linkedId"),r=x(".accordion__linked-content[data-linked-id='"+i+"']");t.hasClass("opened")?r.slideUp("fast"):r.slideDown("fast")}if(t.hasClass("opened"))t.removeClass("opened"),a.slideUp("fast");else{var n=x(this).closest(".accordions-wrap");if(n&&n.hasClass("accordions-switching"))n.find(".accordion").each(function(){var e=x(this).parent(),t=x(this).find(".accordion__content");e.removeClass("opened"),t.slideUp("fast")});t.addClass("opened"),a.slideDown("fast")}}),x(".interactive-map__pin-btn").on("click",function(){var e=Number(x(this).data("index")),t=x(this).closest(".interactive-map");if(!isNaN(e)){if(x(this).hasClass("active"))return t.find(".interactive-map__pin-btn").removeClass("active"),t.find(".interactive-map__panel").hide(),void t.find(".interactive-map__panel--initial").css("display","flex").hide().fadeIn();t.find(".interactive-map__pin-btn").removeClass("active"),x(this).addClass("active"),t.find(".interactive-map__panel").hide(),t.find('.interactive-map__panels div[data-index="'+e+'"]').css("display","flex").hide().fadeIn()}}),x(".search-form__clear-btn").on("click",function(){x(this).closest(".search-form").find(".search-form__input").val(""),x(this).addClass("d-none")}),x(".search-form__input").on("input change keypress paste",function(){var e=x(this).closest(".search-form");""===x(this).val()?e.find(".search-form__clear-btn").addClass("d-none"):e.find(".search-form__clear-btn").removeClass("d-none")}),x(".search-form__input").each(function(){var e=x(this).closest(".search-form");""===x(this).val()?e.find(".search-form__clear-btn").addClass("d-none"):e.find(".search-form__clear-btn").removeClass("d-none")}),x(".cabinet-review__text-content").each(function(){100<x(this).height()&&!x(this).hasClass("shortened")&&(x(this).addClass("shortened"),x("<a href='#' class='shortened__toggle d-block'>Показать полный текст комментария</a>").insertAfter(x(this)))}),x(".cabinet-order-card__details-table").each(function(){var e=x(this).find(".cabinet-order-card__details-table-row");e.length<=3?x(this).find(".cabinet-order-card__details-table-btn").addClass("d-none"):e.each(function(e){2<e&&x(this).addClass("d-none")})}),x(".cabinet-order-card__details-table-btn").on("click",function(e){e.preventDefault();var t=x(this).closest(".cabinet-order-card__details-table");t.hasClass("expanded")?(t.removeClass("expanded"),t.find(".cabinet-order-card__details-table-row").each(function(e){2<e&&x(this).addClass("d-none")}),x(this).html(x(this).data("text")||"Развернуть полный список товаров")):(t.addClass("expanded"),t.find(".cabinet-order-card__details-table-row").each(function(e){2<e&&x(this).removeClass("d-none")}),x(this).data("text",x(this).text()),x(this).html("Свернуть полный список товаров"))}),x(".compare-container").length){var i=0,r=0,n=0,s=0,c=0,l=0,d=0,p=0,u=0,h=0,f=0,m=0,v=0,_=0,b=0,g=0,w=["compare-attribute--rating","compare-attribute--type","compare-attribute--size","compare-attribute--height","compare-attribute--firmness","compare-attribute--base","compare-attribute--load","compare-attribute--composition","compare-attribute--price","compare-attribute--filler","compare-attribute--weight","compare-attribute--cubature","compare-attribute--packaging","compare-attribute--color","compare-attribute--warranty","compare-attribute--manufacturer"];x(".compare-container").each(function(){var e=this;w.forEach(function(t){x(e).find("."+t).each(function(){var e=x(this).outerHeight();switch(t){case"compare-attribute--rating":i=i<e?e:i;break;case"compare-attribute--type":r=r<e?e:r;break;case"compare-attribute--size":n=n<e?e:n;break;case"compare-attribute--height":s=s<e?e:s;break;case"compare-attribute--firmness":c=c<e?e:c;break;case"compare-attribute--base":l=l<e?e:l;break;case"compare-attribute--load":d=d<e?e:d;break;case"compare-attribute--composition":p=p<e?e:p;break;case"compare-attribute--price":u=u<e?e:u;break;case"compare-attribute--filler":h=h<e?e:h;break;case"compare-attribute--weight":f=f<e?e:f;break;case"compare-attribute--cubature":m=m<e?e:m;break;case"compare-attribute--packaging":v=v<e?e:v;break;case"compare-attribute--color":_=_<e?e:_;break;case"compare-attribute--warranty":b=b<e?e:b;break;case"compare-attribute--manufacturer":g=g<e?e:g}}),x("."+t).height(i)})}),x(".compare-attribute--rating").height(i),x(".compare-attribute--type").height(r),x(".compare-attribute--size").height(n),x(".compare-attribute--height").height(s),x(".compare-attribute--firmness").height(c),x(".compare-attribute--base").height(l),x(".compare-attribute--load").height(d),x(".compare-attribute--composition").height(p),x(".compare-attribute--price").height(u),x(".compare-attribute--filler").height(h),x(".compare-attribute--weight").height(f),x(".compare-attribute--cubature").height(m),x(".compare-attribute--packaging").height(v),x(".compare-attribute--color").height(_),x(".compare-attribute--warranty").height(b),x(".compare-attribute--manufacturer").height(g)}x(".compare-container-wrap").length&&x(".compare-container-wrap").each(function(){var e=x(this),i=e[0];e.css("cursor","grab");var r={top:0,left:0,x:0,y:0},t=function(e){var t=e.clientX-r.x,a=e.clientY-r.y;i.scrollTop=r.top-a,i.scrollLeft=r.left-t},a=function e(){i.style.cursor="grab",i.style.removeProperty("user-select"),document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",e)};i.addEventListener("mousedown",function(e){i.style.cursor="grabbing",i.style.userSelect="none",r={left:i.scrollLeft,top:i.scrollTop,x:e.clientX,y:e.clientY},document.addEventListener("mousemove",t),document.addEventListener("mouseup",a)})}),x(".open-phone-form-popup").on("click",function(e){e.preventDefault(),x("body").addClass("overflow-hidden"),x("#phoneFormPopupOverlay").addClass("active")}),x(".open-custom-mattress-form-popup").on("click",function(e){e.preventDefault(),x("body").addClass("overflow-hidden"),x("#customMattressFormPopupOverlay").addClass("active")}),x(".open-video-popup").on("click",function(e){e.preventDefault();var t=x(this).attr("href");x("body").addClass("overflow-hidden"),x("#videoPopupOverlay").addClass("active"),x("#videoPopupOverlay").find("iframe").attr("src",t),x("body").width()<="990"&&x("#videoPopupOverlay").find(".mobile-slider").slick("unslick").slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1.1})}),x(".open-map-popup").on("click",function(e){e.preventDefault();var t=x(this).attr("href");x("body").addClass("overflow-hidden"),x("#mapPopupOverlay").addClass("active"),x("#mapPopupOverlay").find("iframe").attr("src",t)}),x(".open-review-popup").on("click",function(e){e.preventDefault();var t=x("#newReviewPopupOverlay");if(t.length){var a=x(this).closest(".review-popup-form-parent");if(a.length){var i=a.find(".review-popup-form-wrap").children();if(i.length){var r=t.find(".overlay-cdk__content-review-container");r.length?(r.empty(),i.clone(!0).appendTo(r),x("body").addClass("overflow-hidden"),t.addClass("active")):console.error("target is unavailable")}else console.error("form is unavailable")}else console.error("parent is unavailable")}else console.error("overlay is unavailable")}),x(".open-auth-popup").on("click",function(e){e.preventDefault(),x("body").addClass("overflow-hidden"),x("#authPopupOverlay").addClass("active")}),x(".switch-auth-popup__login").on("click",function(e){e.preventDefault(),x("#authPopupOverlay").find(".overlay-cdk__content-auth").removeClass("active"),x("#authPopupOverlay").find(".overlay-cdk__content-login").addClass("active")}),x(".switch-auth-popup__registration").on("click",function(e){e.preventDefault(),x("#authPopupOverlay").find(".overlay-cdk__content-auth").removeClass("active"),x("#authPopupOverlay").find(".overlay-cdk__content-registration").addClass("active")}),x(".switch-auth-popup__reset-password").on("click",function(e){e.preventDefault(),x("#authPopupOverlay").find(".overlay-cdk__content-auth").removeClass("active"),x("#authPopupOverlay").find(".overlay-cdk__content-reset-password").addClass("active")}),x(".overlay-cdk").on("click",function(e){e.target===e.currentTarget&&(x("#authPopupOverlay").hasClass("active")&&(x("#authPopupOverlay").find(".overlay-cdk__content-auth").removeClass("active"),x("#authPopupOverlay").find(".overlay-cdk__content-login").addClass("active")),x(this).removeClass("active"),x("body").removeClass("overflow-hidden"))}),x(".overlay-cdk__close-btn").on("click",function(e){x("#authPopupOverlay").hasClass("active")&&(x("#authPopupOverlay").find(".overlay-cdk__content-auth").removeClass("active"),x("#authPopupOverlay").find(".overlay-cdk__content-login").addClass("active")),x(".overlay-cdk").removeClass("active"),x("body").removeClass("overflow-hidden")}),x(".drawer-toggler").on("click",function(){k()});var y=x(".mobile-drawer");y&&new Hammer(y[0]).on("swiperight",function(){k()});function k(){x(".mobile-drawer").hasClass("active")?(x(".mobile-drawer").removeClass("active dark"),x("body").removeClass("overflow-hidden")):(x(".mobile-drawer").addClass("active"),x("body").addClass("overflow-hidden"),setTimeout(function(){x(".mobile-drawer").addClass("dark")},250))}function C(){if(x(window).outerWidth()<=990)x(".product-page-sidebar").length&&x(".product-page-sidebar").each(function(){x(this).detach().appendTo(".product-page__mobile-sidebar-spot")}),x(".cart-page-sidebar").length&&x(".cart-page-sidebar").each(function(){x(this).find(".cart-page-sidebar__top").detach().appendTo(".cart-page__mobile-top-sidebar-spot")}),x(".breadcrumb").length&&x(".breadcrumb").each(function(){if(!x(this).hasClass("mobile-breadcrumb")){x(this).addClass("mobile-breadcrumb");var t=x(this).children().length;x(this).children().each(function(e){0!==e&&e!==t-1&&x(this).remove()}),2<t&&x('<li class="breadcrumb-item text-black-secondary">...</li>').insertAfter(x(this).children(":first"))}}),x(".to-shorten").length&&x(".to-shorten").each(function(){100<x(this).height()&&!x(this).hasClass("shortened")&&(x(this).addClass("shortened"),x("<a href='#' class='shortened__toggle d-block mbp-20'>Читать полностью</a>").insertAfter(x(this)))}),x(".mobile-slider").each(function(){x(this).hasClass("slick-initialized")||(x(this).hasClass("mobile-slider--full")?x(this).slick({infinite:!1,dots:!0,arrows:!1,slidesToShow:1,variableWidth:!1,swipeToSlide:!0}):x(this).slick({infinite:!1,dots:!1,arrows:!1,slidesToShow:1,variableWidth:!0,swipeToSlide:!0}))}),x(".mobile-carousel").each(function(){x(this).hasClass("slick-initialized")||x(this).slick({infinite:!1,dots:!0,arrows:!1,slidesToShow:1})}),x(".cabinet-order-card__process").each(function(){var e=x(this),t=e.innerWidth(),a=x(this).closest(".cabinet-order-card__process-wrap");a.length?e.hasClass("cabinet-order-card__process--processing")?a.scrollLeft(0):e.hasClass("cabinet-order-card__process--forming")?a.scrollLeft(t/2):e.hasClass("cabinet-order-card__process--delivery")?a.scrollLeft(t/2):a.scrollLeft(0):console.error("Process card wrapper is unavailable")});else{if(x(".product-page-sidebar").length&&x(".product-page-sidebar").each(function(){x(this).parent().hasClass("sidebar-initial-spot")||x(this).detach().appendTo(".sidebar-initial-spot")}),x(".cart-page-sidebar").length){var e=x(".cart-page-sidebar__top");e.parent().hasClass("cart-page__mobile-top-sidebar-spot")&&e.detach().appendTo(".cart-page-sidebar__top-wrap")}x(".mobile-slider").each(function(){x(this).hasClass("slick-initialized")&&x(this).slick("unslick")}),x(".mobile-carousel").each(function(){x(this).hasClass("slick-initialized")&&x(this).slick("unslick")})}}x(".mobile-drawer").on("click",function(e){e.target===e.currentTarget&&k()}),x(".mobile-drawer__close-btn").on("click",function(){k()}),x(document).on("mouseenter",".product-media-gallery__top > .swiper-wrapper > .swiper-slide.swiper-slide-active",function(e){if(!(x(window).outerWidth()<=990)){x(this).css("background-image");x(this).css("position","relative"),x(this).html('<div id="zoomResultBox" class="img-zoom-result"></div>'),function(r,e){var n,o,s;n=document.getElementById(e),o=n.offsetWidth/250,s=n.offsetHeight/250;var t=x(r).css("background-image").slice(4,-1).replace(/["']/g,"");function a(e){var t,a,i;e.preventDefault(),a=(t=function(e){var t,a=0,i=0;return e=e||window.event,t=r.getBoundingClientRect(),a=e.pageX-t.left,i=e.pageY-t.top,a-=window.pageXOffset,i-=window.pageYOffset,{x:a,y:i}}(e)).x/2,i=t.y/2,n.style.backgroundPosition="-"+a*o+"px -"+i*s+"px"}n.style.backgroundImage="url('"+t+"')",n.style.backgroundSize=r.offsetWidth*o+"px "+r.offsetHeight*s+"px",r.addEventListener("mousemove",a),r.addEventListener("touchmove",a)}(x(this)[0],"zoomResultBox")}}),x(document).on("mouseleave",".product-media-gallery__top > .swiper-wrapper > .swiper-slide.swiper-slide-active",function(e){x("#zoomResultBox").remove()}),C(),x(window).on("resize",function(){C()}),setTimeout(function(){x(".custom-tabs-header").each(function(){if(!x(this).hasClass("swiper-wrapper")){x(this).wrap('<div class="custom-tabs-header-swiper"></div>'),x(this).addClass("swiper-wrapper"),x(this).find(".nav-item").each(function(){x(this).addClass("swiper-slide")});var e=x(this).closest(".custom-tabs-header-swiper");new Swiper(e,{freeMode:!0,slidesPerView:"auto",loop:!1})}})},200),x("body").width()<="990"&&300<=x(document).scrollTop()?x(".main-header__top").addClass("fixed"):x(".main-header__top").removeClass("fixed"),x(document).on("scroll",function(){x("body").width()<="990"&&300<=x(document).scrollTop()?x(".main-header__top").addClass("fixed"):x(".main-header__top").removeClass("fixed")}),x(".dropdown-city-menu__region-selector .dropdown-city-menu__selector-item").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=x(this).data("region-index"),a=x(this).closest(".dropdown-menu");a.find(".dropdown-city-menu__region-selector").removeClass("active"),a.find(".dropdown-city-menu__city-selector").removeClass("active"),a.find('.dropdown-city-menu__city-selector[data-region-index="'+t+'"]').addClass("active")}),x(".dropdown-city-menu__regions-btn").on("click",function(e){e.preventDefault();var t=x(this).closest(".dropdown-menu");t.find(".dropdown-city-menu__region-selector").addClass("active"),t.find(".dropdown-city-menu__city-selector").removeClass("active")}),x(".dropdown-city-menu__current-region").on("click",function(e){e.preventDefault()}),x(".selected-city-menu").on("click",function(e){e.preventDefault(),e.stopPropagation()}),x(".dropdown-city-menu__city-selector .dropdown-city-menu__selector-item").on("click",function(e){e.preventDefault()})})}(jQuery);
//# sourceMappingURL=main.min.js.map

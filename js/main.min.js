"use strict";function animateCSS(t,e,i,n){var a=t;a.classList.add("animated",e),i&&a.classList.add(i,e),a.addEventListener("animationend",function t(){a.removeEventListener("animationend",t),"function"==typeof n&&n()})}!function(H){H(document).ready(function(){progressively.init();var e=["ru","en"],t=localStorage.lang,i=window.navigator.language||null,n="ru";t&&e.includes(t)?n=t:"ru-RU"!==i&&(n="en"),"en"===n?H('[data-lang="en"]').parent().addClass("active"):H('[data-lang="ru"]').parent().addClass("active");var a=domI18n({selector:"[data-translatable]",languages:e,defaultLanguage:n,currentLanguage:n});H(".language-switcher__item-link").on("click",function(){H(this).data("lang");var t=H(this).data("lang");e.includes(t)&&(a.changeLanguage(t),H(".language-switcher__item-link").parent().removeClass("active"),H(this).parent().addClass("active"),localStorage.lang=t)}),H(window).on("mousewheel",function(t){if(0<=t.originalEvent.wheelDelta){var e=H(document).scrollTop();H("#hero").height()<=e?H("#header").addClass("floating"):H("#header").removeClass("floating")}else H("#header").removeClass("floating")}),H("#rocket_fly").on("click",function(){H(this).find(".rocket").addClass("rocket-fly")});var o=new Howl({src:"../sounds/Sega_-_Streets_Of_Rage.mp3",loop:!0,preload:!1,volume:.05}),s=!1,r=!1;H("#play_music").on("click",function(){if(!r)return s?o&&0<o.seek()?o.stop():void o.play():(r=!0,o.load())}),o.once("load",function(){o.play(),r=!(s=!0)}),document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})}),H(document).on("contextmenu","canvas",function(){console.log("test")});H(".scroll-fadeIn").waypoint({handler:function(t){"down"===t&&animateCSS(this.element,"fadeIn")},offset:"100%"}),H(".image-net__core-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element;if(H(e).hasClass("played"))return;H(e).find(".net-line").addClass("invisible")}},offset:"125%"}),H(".image-net__core-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element;if(H(e).hasClass("played"))return;var i=H(e).find(".net-line");H(e).addClass("played"),i.addClass("invisible"),setTimeout(function(){i.each(function(t){var e=H(this);0===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-top-left")},0),1===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-top-right")},500),2===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-bottom-left")},1e3),3===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-bottom-right")},1500)})},500)}},offset:"100%"}),H(".hero-section").waypoint({handler:function(t){if("down"===t){var e=H(this.element).find(".hero-section__title")[0],i=H(this.element).find(".hero-section__subtitle")[0];animateCSS(e,"fadeIn"),animateCSS(i,"fadeIn")}},offset:"100%"}),H(".rocket").waypoint({handler:function(t){"down"===t&&animateCSS(this.element,"bounceInUp")},offset:"100%"}),H(".service-card").waypoint({handler:function(t){if("down"===t){var e=this.element;H(e).hasClass("animated")||H(e).addClass("invisible")}},offset:"150%"}),H(".service-card-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element,i=H(e).find(".service-card"),n=i.length;i.each(function(t){var e=this;setTimeout(function(){H(e).removeClass("invisible"),animateCSS(H(e)[0],"fadeIn","slow")},250*n-250*(n-t))})}},offset:"100%"});var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window.requestAnimationFrame=l;var u=H(window).width(),m=H(window).height(),h=document.getElementById("hero"),v=document.getElementById("hero-canvas"),c=v.getContext("2d"),d=!0,p=[],f={x:u/2,y:m/2};function g(){if(d)for(var t in c.clearRect(0,0,u,m),p)Math.abs(x(f,p[t]))<4e3?(p[t].active=.3,p[t].circle.active=.6):Math.abs(x(f,p[t]))<2e4?(p[t].active=.1,p[t].circle.active=.3):Math.abs(x(f,p[t]))<4e4?(p[t].active=.02,p[t].circle.active=.1):(p[t].active=0,p[t].circle.active=0),y(p[t]),p[t].circle.draw();l(g)}function w(t){TweenLite.to(t,1+1*Math.random(),{x:t.originX-50+100*Math.random(),y:t.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){w(t)}})}function y(t){if(t.active)for(var e in t.closest)c.beginPath(),c.moveTo(t.x,t.y),c.lineTo(t.closest[e].x,t.closest[e].y),c.strokeStyle="rgba(130,142,158,"+t.active+")",c.stroke()}function C(t,e,i){var n=this;n.pos=t||null,n.radius=e||null,n.color=i||null,this.draw=function(){n.active&&(c.beginPath(),c.arc(n.pos.x,n.pos.y,n.radius,0,2*Math.PI,!1),c.fillStyle="rgba(156,217,249,"+n.active+")",c.fill())}}function x(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}!function(){v.width=u,v.height=m,p=[];for(var t=0;t<u;t+=u/20)for(var e=0;e<m;e+=m/20){var i=t+Math.random()*u/20,n=e+Math.random()*m/20,a={x:i,originX:i,y:n,originY:n};p.push(a)}for(var o=0;o<p.length;o++){for(var s=[],r=p[o],l=0;l<p.length;l++){var h=p[l];if(r!=h){for(var c=!1,d=0;d<5;d++)c||null==s[d]&&(s[d]=h,c=!0);for(d=0;d<5;d++)c||x(r,h)<x(r,s[d])&&(s[d]=h,c=!0)}}r.closest=s}for(var o in p){var f=new C(p[o],2+2*Math.random(),"rgba(255,255,255,0.3)");p[o].circle=f}}(),function(){for(var t in g(),p)w(p[t])}();var S=document.getElementById("footer-canvas"),M=S.getContext("2d"),b=H("#footer")[0],T=H("#footer").height(),E=!0;function _(t){t=t||{},this.terrain=document.createElement("canvas"),this.terCtx=this.terrain.getContext("2d"),this.scrollDelay=t.scrollDelay||90,this.lastScroll=(new Date).getTime(),this.terrain.className="footer-canvas",this.terrain.width=u,this.terrain.height=T,this.fillStyle=t.fillStyle||"#191D4C",this.mHeight=t.mHeight||T,this.points=[];var e=t.displacement||140,i=Math.pow(2,Math.ceil(Math.log(u)/Math.log(2)));this.points[0]=this.mHeight,this.points[i]=this.points[0];for(var n=1;n<i;n*=2){for(var a=i/n/2;a<i;a+=i/n)this.points[a]=(this.points[a-i/n/2]+this.points[a+i/n/2])/2+Math.floor(Math.random()*-e+e);e*=.6}b.appendChild(this.terrain)}function k(t){this.size=2*Math.random(),this.speed=.05*Math.random(),this.x=t.x,this.y=t.y}function D(){this.reset()}T=T<880?880:T,S.width=u,S.height=T,_.prototype.update=function(){this.terCtx.clearRect(0,0,u,T),this.terCtx.fillStyle=this.fillStyle,(new Date).getTime()>this.lastScroll+this.scrollDelay&&(this.lastScroll=(new Date).getTime(),this.points.push(this.points.shift())),this.terCtx.beginPath();for(var t=0;t<=u;t++)0===t?this.terCtx.moveTo(0,this.points[0]):void 0!==this.points[t]&&this.terCtx.lineTo(t,this.points[t]);this.terCtx.lineTo(u,this.terrain.height),this.terCtx.lineTo(0,this.terrain.height),this.terCtx.lineTo(0,this.points[0]),this.terCtx.fill()},M.fillStyle="#05004c",M.fillRect(0,0,u,T),k.prototype.reset=function(){this.size=2*Math.random(),this.speed=.05*Math.random(),this.x=u,this.y=Math.random()*T},k.prototype.update=function(){this.x-=this.speed,this.x<0?this.reset():M.fillRect(this.x,this.y,this.size,this.size)},D.prototype.reset=function(){this.x=Math.random()*u,this.y=0,this.len=80*Math.random()+10,this.speed=10*Math.random()+6,this.size=1*Math.random()+.1,this.waitTime=(new Date).getTime()+3e3*Math.random()+500,this.active=!1},D.prototype.update=function(){this.active?(this.x-=this.speed,this.y+=this.speed,this.x<0||this.y>=T?this.reset():(M.lineWidth=this.size,M.beginPath(),M.moveTo(this.x,this.y),M.lineTo(this.x+this.len,this.y-this.len),M.stroke())):this.waitTime<(new Date).getTime()&&(this.active=!0)};for(var L=[],I=0;I<T;I++)L.push(new k({x:Math.random()*u,y:Math.random()*T}));function A(){u=H(window).width(),m=H(window).height(),v.width=u,v.height=m,0<H(".footer-canvas").length&&H(".footer-canvas").each(function(){H(this)[0].width=u})}function R(){d=!(H(document).scrollTop()>h.offsetHeight),E=!(H(document).scrollTop()<H("body").height()+T)}function z(t){var e,i=0;t.pageX||t.pageY?(e=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),f.x=e,f.y=i}L.push(new D),L.push(new D),L.push(new _({mHeight:T/1.4-120,fillStyle:"#94A2B5"})),L.push(new _({displacement:120,scrollDelay:50,fillStyle:"#828E9E",mHeight:T/1.4-60})),L.push(new _({displacement:100,scrollDelay:20,fillStyle:"#4A4A4A",mHeight:T/1.4})),function t(){if(E){M.fillStyle="#3F3D56",M.fillRect(0,0,u,T),M.fillStyle="#E9E9EB",M.strokeStyle="#E9E9EB";for(var e=L.length;e--;)L[e].update()}l(t)}(),"ontouchstart"in window||window.addEventListener("mousemove",z),window.addEventListener("scroll",R),window.addEventListener("resize",A),R(),A()})}(jQuery);
//# sourceMappingURL=main.min.js.map

"use strict";function animateCSS(t,e,i,n){var a=t;a.classList.add("animated",e),i&&a.classList.add(i,e),a.addEventListener("animationend",function t(){a.removeEventListener("animationend",t),"function"==typeof n&&n()})}!function(q){q(document).ready(function(){progressively.init();var e=["ru","en"],t=localStorage.lang,i=window.navigator.language||null,n="ru";t&&e.includes(t)?n=t:"ru-RU"!==i&&(n="en"),"en"===n?q('[data-lang="en"]').parent().addClass("active"):q('[data-lang="ru"]').parent().addClass("active");var a=domI18n({selector:"[data-translatable]",languages:e,defaultLanguage:n,currentLanguage:n});function o(){var t=q(document).scrollTop();q("#hero").height()<=t?q("#header").addClass("floating"):q("#header").removeClass("floating")}q(".language-switcher__item-link").on("click",function(){q(this).data("lang");var t=q(this).data("lang");e.includes(t)&&(a.changeLanguage(t),q(".language-switcher__item-link").parent().removeClass("active"),q(this).parent().addClass("active"),localStorage.lang=t)}),o(),q(document).on("scroll",function(){o()}),q("#rocket_fly").on("click",function(){q(this).find(".rocket").addClass("rocket-fly")});var s=new Howl({src:"../sounds/Sega_-_Streets_Of_Rage.mp3",loop:!0,preload:!1,volume:.05}),r=!1,l=!1;q("#play_music").on("click",function(){if(!l)return r?s&&0<s.seek()?s.stop():void s.play():(l=!0,s.load())}),s.once("load",function(){s.play(),l=!(r=!0)}),document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})}),q(document).on("contextmenu","canvas",function(){console.log("test")});q(".scroll-fadeIn").waypoint({handler:function(t){"down"===t&&animateCSS(this.element,"fadeIn")},offset:"100%"}),q(".image-net__core-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element;if(q(e).hasClass("played"))return;q(e).find(".net-line").addClass("invisible")}},offset:"125%"}),q(".image-net__core-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element;if(q(e).hasClass("played"))return;var i=q(e).find(".net-line");q(e).addClass("played"),i.addClass("invisible"),setTimeout(function(){i.each(function(t){var e=q(this);0===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-top-left")},0),1===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-top-right")},500),2===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-bottom-left")},1e3),3===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-bottom-right")},1500)})},500)}},offset:"100%"}),q(".hero-section").waypoint({handler:function(t){if("down"===t){var e=q(this.element).find(".hero-section__title")[0],i=q(this.element).find(".hero-section__subtitle")[0];animateCSS(e,"fadeIn"),animateCSS(i,"fadeIn")}},offset:"100%"}),q(".rocket").waypoint({handler:function(t){"down"===t&&animateCSS(this.element,"bounceInUp")},offset:"100%"}),q(".service-card").waypoint({handler:function(t){if("down"===t){var e=this.element;q(e).hasClass("animated")||q(e).addClass("invisible")}},offset:"150%"}),q(".service-card-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element,i=q(e).find(".service-card"),n=i.length;i.each(function(t){var e=this;setTimeout(function(){q(e).removeClass("invisible"),animateCSS(q(e)[0],"fadeIn","slow")},250*n-250*(n-t))})}},offset:"100%"});var h=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window.requestAnimationFrame=h;var u=q(window).width(),m=q(window).height(),c=document.getElementById("hero"),v=document.getElementById("hero-canvas"),d=v.getContext("2d"),f=!0,p=[],g={x:u/2,y:m/2};function w(){if(f)for(var t in d.clearRect(0,0,u,m),p)Math.abs(S(g,p[t]))<4e3?(p[t].active=.3,p[t].circle.active=.6):Math.abs(S(g,p[t]))<2e4?(p[t].active=.1,p[t].circle.active=.3):Math.abs(S(g,p[t]))<4e4?(p[t].active=.02,p[t].circle.active=.1):(p[t].active=0,p[t].circle.active=0),C(p[t]),p[t].circle.draw();h(w)}function y(t){TweenLite.to(t,1+1*Math.random(),{x:t.originX-50+100*Math.random(),y:t.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){y(t)}})}function C(t){if(t.active)for(var e in t.closest)d.beginPath(),d.moveTo(t.x,t.y),d.lineTo(t.closest[e].x,t.closest[e].y),d.strokeStyle="rgba(130,142,158,"+t.active+")",d.stroke()}function x(t,e,i){var n=this;n.pos=t||null,n.radius=e||null,n.color=i||null,this.draw=function(){n.active&&(d.beginPath(),d.arc(n.pos.x,n.pos.y,n.radius,0,2*Math.PI,!1),d.fillStyle="rgba(156,217,249,"+n.active+")",d.fill())}}function S(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}!function(){v.width=u,v.height=m,p=[];for(var t=0;t<u;t+=u/20)for(var e=0;e<m;e+=m/20){var i=t+Math.random()*u/20,n=e+Math.random()*m/20,a={x:i,originX:i,y:n,originY:n};p.push(a)}for(var o=0;o<p.length;o++){for(var s=[],r=p[o],l=0;l<p.length;l++){var h=p[l];if(r!=h){for(var c=!1,d=0;d<5;d++)c||null==s[d]&&(s[d]=h,c=!0);for(d=0;d<5;d++)c||S(r,h)<S(r,s[d])&&(s[d]=h,c=!0)}}r.closest=s}for(var o in p){var f=new x(p[o],2+2*Math.random(),"rgba(255,255,255,0.3)");p[o].circle=f}}(),function(){for(var t in w(),p)y(p[t])}();var M=document.getElementById("footer-canvas"),b=M.getContext("2d"),T=q("#footer")[0],E=q("#footer").height(),_=!0;function k(t){t=t||{},this.terrain=document.createElement("canvas"),this.terCtx=this.terrain.getContext("2d"),this.scrollDelay=t.scrollDelay||90,this.lastScroll=(new Date).getTime(),this.terrain.className="footer-canvas",this.terrain.width=u,this.terrain.height=E,this.fillStyle=t.fillStyle||"#191D4C",this.mHeight=t.mHeight||E,this.points=[];var e=t.displacement||140,i=Math.pow(2,Math.ceil(Math.log(u)/Math.log(2)));this.points[0]=this.mHeight,this.points[i]=this.points[0];for(var n=1;n<i;n*=2){for(var a=i/n/2;a<i;a+=i/n)this.points[a]=(this.points[a-i/n/2]+this.points[a+i/n/2])/2+Math.floor(Math.random()*-e+e);e*=.6}T.appendChild(this.terrain)}function L(t){this.size=2*Math.random(),this.speed=.05*Math.random(),this.x=t.x,this.y=t.y}function D(){this.reset()}E=E<880?880:E,M.width=u,M.height=E,k.prototype.update=function(){this.terCtx.clearRect(0,0,u,E),this.terCtx.fillStyle=this.fillStyle,(new Date).getTime()>this.lastScroll+this.scrollDelay&&(this.lastScroll=(new Date).getTime(),this.points.push(this.points.shift())),this.terCtx.beginPath();for(var t=0;t<=u;t++)0===t?this.terCtx.moveTo(0,this.points[0]):void 0!==this.points[t]&&this.terCtx.lineTo(t,this.points[t]);this.terCtx.lineTo(u,this.terrain.height),this.terCtx.lineTo(0,this.terrain.height),this.terCtx.lineTo(0,this.points[0]),this.terCtx.fill()},b.fillStyle="#05004c",b.fillRect(0,0,u,E),L.prototype.reset=function(){this.size=2*Math.random(),this.speed=.05*Math.random(),this.x=u,this.y=Math.random()*E},L.prototype.update=function(){this.x-=this.speed,this.x<0?this.reset():b.fillRect(this.x,this.y,this.size,this.size)},D.prototype.reset=function(){this.x=Math.random()*u,this.y=0,this.len=80*Math.random()+10,this.speed=10*Math.random()+6,this.size=1*Math.random()+.1,this.waitTime=(new Date).getTime()+3e3*Math.random()+500,this.active=!1},D.prototype.update=function(){this.active?(this.x-=this.speed,this.y+=this.speed,this.x<0||this.y>=E?this.reset():(b.lineWidth=this.size,b.beginPath(),b.moveTo(this.x,this.y),b.lineTo(this.x+this.len,this.y-this.len),b.stroke())):this.waitTime<(new Date).getTime()&&(this.active=!0)};for(var I=[],A=0;A<E;A++)I.push(new L({x:Math.random()*u,y:Math.random()*E}));function R(){u=q(window).width(),m=q(window).height(),v.width=u,v.height=m,0<q(".footer-canvas").length&&q(".footer-canvas").each(function(){q(this)[0].width=u})}function z(){f=!(q(document).scrollTop()>c.offsetHeight),_=!(q(document).scrollTop()<q("body").height()+E)}function H(t){var e,i=0;t.pageX||t.pageY?(e=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),g.x=e,g.y=i}I.push(new D),I.push(new D),I.push(new k({mHeight:E/1.4-120,fillStyle:"#94A2B5"})),I.push(new k({displacement:120,scrollDelay:50,fillStyle:"#828E9E",mHeight:E/1.4-60})),I.push(new k({displacement:100,scrollDelay:20,fillStyle:"#4A4A4A",mHeight:E/1.4})),function t(){if(_){b.fillStyle="#3F3D56",b.fillRect(0,0,u,E),b.fillStyle="#E9E9EB",b.strokeStyle="#E9E9EB";for(var e=I.length;e--;)I[e].update()}h(t)}(),"ontouchstart"in window||window.addEventListener("mousemove",H),window.addEventListener("scroll",z),window.addEventListener("resize",R),z(),R()})}(jQuery);
//# sourceMappingURL=main.min.js.map

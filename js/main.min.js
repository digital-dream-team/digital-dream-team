"use strict";function animateCSS(t,e,i,n){var a=t;a.classList.add("animated",e),i&&a.classList.add(i,e),a.addEventListener("animationend",function t(){a.removeEventListener("animationend",t),"function"==typeof n&&n()})}!function(z){z(document).ready(function(){progressively.init();var e=["ru","en"],t=localStorage.lang,i=window.navigator.language||null,n="ru";t&&e.includes(t)?n=t:"ru-RU"!==i&&(n="en"),"en"===n?z('[data-lang="en"]').parent().addClass("active"):z('[data-lang="ru"]').parent().addClass("active");var a=domI18n({selector:"[data-translatable]",languages:e,defaultLanguage:n,currentLanguage:n});function o(){var t=z(document).scrollTop();z("#hero").height()<=t?z("#header").addClass("floating"):z("#header").removeClass("floating")}z(".language-switcher__item-link").on("click",function(){z(this).data("lang");var t=z(this).data("lang");e.includes(t)&&(a.changeLanguage(t),z(".language-switcher__item-link").parent().removeClass("active"),z(this).parent().addClass("active"),localStorage.lang=t)}),o(),z(document).on("scroll",function(){o()}),z("#rocket_fly").on("click",function(){z(this).find(".rocket").addClass("rocket-fly")});var s=new Howl({src:"../sounds/Sega_-_Streets_Of_Rage.mp3",loop:!0,volume:.05});z("#play_music").on("click",function(){if(0<s.seek())return s.stop();s.play()}),document.querySelectorAll('a[href^="#"]').forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),document.querySelector(this.getAttribute("href")).scrollIntoView({behavior:"smooth"})})});z(".scroll-fadeIn").waypoint({handler:function(t){"down"===t&&animateCSS(this.element,"fadeIn")},offset:"100%"}),z(".image-net__core-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element;if(z(e).hasClass("played"))return;z(e).find(".net-line").addClass("invisible")}},offset:"125%"}),z(".image-net__core-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element;if(z(e).hasClass("played"))return;var i=z(e).find(".net-line");z(e).addClass("played"),i.addClass("invisible"),setTimeout(function(){i.each(function(t){var e=z(this);0===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-top-left")},0),1===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-top-right")},500),2===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-bottom-left")},1e3),3===t&&setTimeout(function(){e.removeClass("invisible"),e.addClass("net-bottom-right")},1500)})},500)}},offset:"100%"}),z(".hero-section").waypoint({handler:function(t){if("down"===t){var e=z(this.element).find(".hero-section__title")[0],i=z(this.element).find(".hero-section__subtitle")[0];animateCSS(e,"fadeIn"),animateCSS(i,"fadeIn")}},offset:"100%"}),z(".rocket").waypoint({handler:function(t){"down"===t&&animateCSS(this.element,"bounceInUp")},offset:"100%"}),z(".service-card").waypoint({handler:function(t){if("down"===t){var e=this.element;z(e).hasClass("animated")||z(e).addClass("invisible")}},offset:"150%"}),z(".service-card-wrapper").waypoint({handler:function(t){if("down"===t){var e=this.element,i=z(e).find(".service-card"),n=i.length;i.each(function(t){var e=this;setTimeout(function(){z(e).removeClass("invisible"),animateCSS(z(e)[0],"fadeIn","slow")},250*n-250*(n-t))})}},offset:"100%"});var r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};window.requestAnimationFrame=r;var u=z(window).width(),m=z(window).height(),l=document.getElementById("hero"),v=document.getElementById("hero-canvas"),h=v.getContext("2d"),c=!0,p=[],d={x:u/2,y:m/2};function f(){if(c)for(var t in h.clearRect(0,0,u,m),p)Math.abs(C(d,p[t]))<4e3?(p[t].active=.3,p[t].circle.active=.6):Math.abs(C(d,p[t]))<2e4?(p[t].active=.1,p[t].circle.active=.3):Math.abs(C(d,p[t]))<4e4?(p[t].active=.02,p[t].circle.active=.1):(p[t].active=0,p[t].circle.active=0),w(p[t]),p[t].circle.draw();r(f)}function g(t){TweenLite.to(t,1+1*Math.random(),{x:t.originX-50+100*Math.random(),y:t.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){g(t)}})}function w(t){if(t.active)for(var e in t.closest)h.beginPath(),h.moveTo(t.x,t.y),h.lineTo(t.closest[e].x,t.closest[e].y),h.strokeStyle="rgba(130,142,158,"+t.active+")",h.stroke()}function y(t,e,i){var n=this;n.pos=t||null,n.radius=e||null,n.color=i||null,this.draw=function(){n.active&&(h.beginPath(),h.arc(n.pos.x,n.pos.y,n.radius,0,2*Math.PI,!1),h.fillStyle="rgba(156,217,249,"+n.active+")",h.fill())}}function C(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}!function(){v.width=u,v.height=m,p=[];for(var t=0;t<u;t+=u/20)for(var e=0;e<m;e+=m/20){var i=t+Math.random()*u/20,n=e+Math.random()*m/20,a={x:i,originX:i,y:n,originY:n};p.push(a)}for(var o=0;o<p.length;o++){for(var s=[],r=p[o],l=0;l<p.length;l++){var h=p[l];if(r!=h){for(var c=!1,d=0;d<5;d++)c||null==s[d]&&(s[d]=h,c=!0);for(d=0;d<5;d++)c||C(r,h)<C(r,s[d])&&(s[d]=h,c=!0)}}r.closest=s}for(var o in p){var f=new y(p[o],2+2*Math.random(),"rgba(255,255,255,0.3)");p[o].circle=f}}(),function(){for(var t in f(),p)g(p[t])}();var x=document.getElementById("footer-canvas"),S=x.getContext("2d"),M=z("#footer")[0],b=z("#footer").height(),T=!0;function E(t){t=t||{},this.terrain=document.createElement("canvas"),this.terCtx=this.terrain.getContext("2d"),this.scrollDelay=t.scrollDelay||90,this.lastScroll=(new Date).getTime(),this.terrain.className="footer-canvas",this.terrain.width=u,this.terrain.height=b,this.fillStyle=t.fillStyle||"#191D4C",this.mHeight=t.mHeight||b,this.points=[];var e=t.displacement||140,i=Math.pow(2,Math.ceil(Math.log(u)/Math.log(2)));this.points[0]=this.mHeight,this.points[i]=this.points[0];for(var n=1;n<i;n*=2){for(var a=i/n/2;a<i;a+=i/n)this.points[a]=(this.points[a-i/n/2]+this.points[a+i/n/2])/2+Math.floor(Math.random()*-e+e);e*=.6}M.appendChild(this.terrain)}function _(t){this.size=2*Math.random(),this.speed=.05*Math.random(),this.x=t.x,this.y=t.y}function k(){this.reset()}b=b<880?880:b,x.width=u,x.height=b,E.prototype.update=function(){this.terCtx.clearRect(0,0,u,b),this.terCtx.fillStyle=this.fillStyle,(new Date).getTime()>this.lastScroll+this.scrollDelay&&(this.lastScroll=(new Date).getTime(),this.points.push(this.points.shift())),this.terCtx.beginPath();for(var t=0;t<=u;t++)0===t?this.terCtx.moveTo(0,this.points[0]):void 0!==this.points[t]&&this.terCtx.lineTo(t,this.points[t]);this.terCtx.lineTo(u,this.terrain.height),this.terCtx.lineTo(0,this.terrain.height),this.terCtx.lineTo(0,this.points[0]),this.terCtx.fill()},S.fillStyle="#05004c",S.fillRect(0,0,u,b),_.prototype.reset=function(){this.size=2*Math.random(),this.speed=.05*Math.random(),this.x=u,this.y=Math.random()*b},_.prototype.update=function(){this.x-=this.speed,this.x<0?this.reset():S.fillRect(this.x,this.y,this.size,this.size)},k.prototype.reset=function(){this.x=Math.random()*u,this.y=0,this.len=80*Math.random()+10,this.speed=10*Math.random()+6,this.size=1*Math.random()+.1,this.waitTime=(new Date).getTime()+3e3*Math.random()+500,this.active=!1},k.prototype.update=function(){this.active?(this.x-=this.speed,this.y+=this.speed,this.x<0||this.y>=b?this.reset():(S.lineWidth=this.size,S.beginPath(),S.moveTo(this.x,this.y),S.lineTo(this.x+this.len,this.y-this.len),S.stroke())):this.waitTime<(new Date).getTime()&&(this.active=!0)};for(var L=[],D=0;D<b;D++)L.push(new _({x:Math.random()*u,y:Math.random()*b}));function I(){u=z(window).width(),m=z(window).height(),v.width=u,v.height=m,0<z(".footer-canvas").length&&z(".footer-canvas").each(function(){z(this)[0].width=u})}function A(){c=!(z(document).scrollTop()>l.offsetHeight),T=!(z(document).scrollTop()<z("body").height()+b)}function R(t){var e,i=0;t.pageX||t.pageY?(e=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),d.x=e,d.y=i}L.push(new k),L.push(new k),L.push(new E({mHeight:b/1.4-120,fillStyle:"#94A2B5"})),L.push(new E({displacement:120,scrollDelay:50,fillStyle:"#828E9E",mHeight:b/1.4-60})),L.push(new E({displacement:100,scrollDelay:20,fillStyle:"#4A4A4A",mHeight:b/1.4})),function t(){if(T){S.fillStyle="#3F3D56",S.fillRect(0,0,u,b),S.fillStyle="#E9E9EB",S.strokeStyle="#E9E9EB";for(var e=L.length;e--;)L[e].update()}r(t)}(),"ontouchstart"in window||window.addEventListener("mousemove",R),window.addEventListener("scroll",A),window.addEventListener("resize",I),A(),I()})}(jQuery);
//# sourceMappingURL=main.min.js.map
